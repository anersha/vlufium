var n,e,t,i,r,s,o,a,l;!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports&&(module.exports=e.document?void 0:function(e){if(!e.document)throw new Error("jQuery requires a window with a document")})}("undefined"!=typeof window?window:this),a=this,l=function(){"use strict";for(var e="undefined"!=typeof window&&"undefined"!=typeof document,t=["Edge","Trident","Firefox"],n=0,i=0;i<t.length;i+=1)if(e&&0<=navigator.userAgent.indexOf(t[i])){n=1;break}var o=e&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},n))}};function a(e){return e&&"[object Function]"==={}.toString.call(e)}function b(e,t){if(1!==e.nodeType)return[];var n=getComputedStyle(e,null);return t?n[t]:n}function f(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function p(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=b(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?e:p(f(e))}var r=e&&!(!window.MSInputMethodContext||!document.documentMode),s=e&&/MSIE 10/.test(navigator.userAgent);function g(e){return 11===e?r:10===e?s:r||s}function y(e){if(!e)return document.documentElement;for(var t=g(10)?document.body:null,n=e.offsetParent;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===b(n,"position")?y(n):n:e?e.ownerDocument.documentElement:document.documentElement}function d(e){return null!==e.parentNode?d(e.parentNode):e}function _(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,s=document.createRange();s.setStart(i,0),s.setEnd(r,0);var o,a,l=s.commonAncestorContainer;if(e!==l&&t!==l||i.contains(r))return"BODY"===(a=(o=l).nodeName)||"HTML"!==a&&y(o.firstElementChild)!==o?y(l):l;var c=d(e);return c.host?_(c.host,t):_(e,d(t).host)}function m(e){var t="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"!==n&&"HTML"!==n)return e[t];var i=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||i)[t]}function h(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+i+"Width"],10)}function l(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],g(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function v(e){var t=e.body,n=e.documentElement,i=g(10)&&getComputedStyle(n);return{height:l("Height",t,n,i),width:l("Width",t,n,i)}}var c=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),w=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function j(e){return k({},e,{right:e.left+e.width,bottom:e.top+e.height})}function x(e){var t={};try{if(g(10)){t=e.getBoundingClientRect();var n=m(e,"top"),i=m(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(e){}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s="HTML"===e.nodeName?v(e.ownerDocument):{},o=s.width||e.clientWidth||r.right-r.left,a=s.height||e.clientHeight||r.bottom-r.top,l=e.offsetWidth-o,c=e.offsetHeight-a;if(l||c){var d=b(e);l-=h(d,"x"),c-=h(d,"y"),r.width-=l,r.height-=c}return j(r)}function E(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=g(10),r="HTML"===t.nodeName,s=x(e),o=x(t),a=p(e),l=b(t),c=parseFloat(l.borderTopWidth,10),d=parseFloat(l.borderLeftWidth,10);n&&r&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var h=j({top:s.top-o.top-c,left:s.left-o.left-d,width:s.width,height:s.height});if(h.marginTop=0,h.marginLeft=0,!i&&r){var u=parseFloat(l.marginTop,10),f=parseFloat(l.marginLeft,10);h.top-=c-u,h.bottom-=c-u,h.left-=d-f,h.right-=d-f,h.marginTop=u,h.marginLeft=f}return(i&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(h=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=m(t,"top"),r=m(t,"left"),s=n?-1:1;return e.top+=i*s,e.bottom+=i*s,e.left+=r*s,e.right+=r*s,e}(h,t)),h}function C(e){if(!e||!e.parentElement||g())return document.documentElement;for(var t=e.parentElement;t&&"none"===b(t,"transform");)t=t.parentElement;return t||document.documentElement}function u(e,t,n,i){var r=4<arguments.length&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},o=r?C(e):_(e,t);if("viewport"===i)s=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=E(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:m(n),a=t?0:m(n,"left");return j({top:o-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:s})}(o,r);else{var a=void 0;"scrollParent"===i?"BODY"===(a=p(f(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===i?e.ownerDocument.documentElement:i;var l=E(a,o,r);if("HTML"!==a.nodeName||function e(t){var n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===b(t,"position")||e(f(t)))}(o))s=l;else{var c=v(e.ownerDocument),d=c.height,h=c.width;s.top+=l.top-l.marginTop,s.bottom=d+l.top,s.left+=l.left-l.marginLeft,s.right=h+l.left}}var u="number"==typeof(n=n||0);return s.left+=u?n:n.left||0,s.top+=u?n:n.top||0,s.right-=u?n:n.right||0,s.bottom-=u?n:n.bottom||0,s}function T(e,t,i,n,r){var s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=u(i,n,s,r),a={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},l=Object.keys(a).map(function(e){return k({key:e},a[e],{area:(t=a[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,n=e.height;return t>=i.clientWidth&&n>=i.clientHeight}),d=0<c.length?c[0].key:l[0].key,h=e.split("-")[1];return d+(h?"-"+h:"")}function S(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return E(n,i?C(t):_(t,n),i)}function A(e){var t=getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),i=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function O(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function D(e,t,n){n=n.split("-")[0];var i=A(e),r={width:i.width,height:i.height},s=-1!==["right","left"].indexOf(n),o=s?"top":"left",a=s?"left":"top",l=s?"height":"width",c=s?"width":"height";return r[o]=t[o]+t[l]/2-i[l]/2,r[a]=n===a?t[a]-i[c]:t[O(a)],r}function I(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function N(e,n,t){return(void 0===t?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e.name===n});var i=I(e,function(e){return e.name===n});return e.indexOf(i)}(e,0,t))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var t=e.function||e.fn;e.enabled&&a(t)&&(n.offsets.popper=j(n.offsets.popper),n.offsets.reference=j(n.offsets.reference),n=t(n,e))}),n}function L(e,n){return e.some(function(e){var t=e.name;return e.enabled&&t===n})}function $(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],s=r?""+r+n:e;if(void 0!==document.body.style[s])return s}return null}function P(e){var t=e.ownerDocument;return t?t.defaultView:window}function H(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function M(n,i){Object.keys(i).forEach(function(e){var t="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&H(i[e])&&(t="px"),n.style[e]=i[e]+t})}function q(e,t,n){var i=I(e,function(e){return e.name===t}),r=!!i&&e.some(function(e){return e.name===n&&e.enabled&&e.order<i.order});if(!r){var s="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return r}var R=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],U=R.slice(3);function W(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=U.indexOf(e),i=U.slice(n+1).concat(U.slice(0,n));return t?i.reverse():i}var Y="flip",F="clockwise",K="counterclockwise";var B={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var r=e.offsets,s=r.reference,o=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",d={start:w({},l,s[l]),end:w({},l,s[l]+s[c]-o[c])};e.offsets.popper=k({},o,d[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n,i=t.offset,r=e.placement,s=e.offsets,o=s.popper,a=s.reference,l=r.split("-")[0];return n=H(+i)?[+i,0]:function(e,r,s,t){var o=[0,0],a=-1!==["right","left"].indexOf(t),n=e.split(/(\+|\-)/).map(function(e){return e.trim()}),i=n.indexOf(I(n,function(e){return-1!==e.search(/,|\s/)}));n[i]&&-1===n[i].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==i?[n.slice(0,i).concat([n[i].split(l)[0]]),[n[i].split(l)[1]].concat(n.slice(i+1))]:[n];return(c=c.map(function(e,t){var n=(1===t?!a:a)?"height":"width",i=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,i=!0,e):i?(e[e.length-1]+=t,i=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+r[1],o=r[2];if(!s)return e;if(0!==o.indexOf("%"))return"vh"===o||"vw"===o?("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s:s;var a=void 0;switch(o){case"%p":a=n;break;case"%":case"%r":default:a=i}return j(a)[t]/100*s}(e,n,r,s)})})).forEach(function(n,i){n.forEach(function(e,t){H(e)&&(o[i]+=e*("-"===n[t-1]?-1:1))})}),o}(i,o,a,l),"left"===l?(o.top+=n[0],o.left-=n[1]):"right"===l?(o.top+=n[0],o.left+=n[1]):"top"===l?(o.left+=n[0],o.top-=n[1]):"bottom"===l&&(o.left+=n[0],o.top+=n[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,i){var t=i.boundariesElement||y(e.instance.popper);e.instance.reference===t&&(t=y(t));var n=$("transform"),r=e.instance.popper.style,s=r.top,o=r.left,a=r[n];r.top="",r.left="",r[n]="";var l=u(e.instance.popper,e.instance.reference,i.padding,t,e.positionFixed);r.top=s,r.left=o,r[n]=a,i.boundaries=l;var c=i.priority,d=e.offsets.popper,h={primary:function(e){var t=d[e];return d[e]<l[e]&&!i.escapeWithReference&&(t=Math.max(d[e],l[e])),w({},e,t)},secondary:function(e){var t="right"===e?"left":"top",n=d[t];return d[e]>l[e]&&!i.escapeWithReference&&(n=Math.min(d[t],l[e]-("right"===e?d.width:d.height))),w({},t,n)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";d=k({},d,h[t](e))}),e.offsets.popper=d,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],s=Math.floor,o=-1!==["top","bottom"].indexOf(r),a=o?"right":"bottom",l=o?"left":"top",c=o?"width":"height";return n[a]<s(i[l])&&(e.offsets.popper[l]=s(i[l])-n[c]),n[l]>s(i[a])&&(e.offsets.popper[l]=s(i[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!q(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],s=e.offsets,o=s.popper,a=s.reference,l=-1!==["left","right"].indexOf(r),c=l?"height":"width",d=l?"Top":"Left",h=d.toLowerCase(),u=l?"left":"top",f=l?"bottom":"right",p=A(i)[c];a[f]-p<o[h]&&(e.offsets.popper[h]-=o[h]-(a[f]-p)),a[h]+p>o[f]&&(e.offsets.popper[h]+=a[h]+p-o[f]),e.offsets.popper=j(e.offsets.popper);var g=a[h]+a[c]/2-p/2,_=b(e.instance.popper),m=parseFloat(_["margin"+d],10),v=parseFloat(_["border"+d+"Width"],10),y=g-e.offsets.popper[h]-m-v;return y=Math.max(Math.min(o[c]-p,y),0),e.arrowElement=i,e.offsets.arrow=(w(n={},h,Math.round(y)),w(n,u,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(f,p){if(L(f.instance.modifiers,"inner"))return f;if(f.flipped&&f.placement===f.originalPlacement)return f;var g=u(f.instance.popper,f.instance.reference,p.padding,p.boundariesElement,f.positionFixed),_=f.placement.split("-")[0],m=O(_),v=f.placement.split("-")[1]||"",y=[];switch(p.behavior){case Y:y=[_,m];break;case F:y=W(_);break;case K:y=W(_,!0);break;default:y=p.behavior}return y.forEach(function(e,t){if(_!==e||y.length===t+1)return f;_=f.placement.split("-")[0],m=O(_);var n=f.offsets.popper,i=f.offsets.reference,r=Math.floor,s="left"===_&&r(n.right)>r(i.left)||"right"===_&&r(n.left)<r(i.right)||"top"===_&&r(n.bottom)>r(i.top)||"bottom"===_&&r(n.top)<r(i.bottom),o=r(n.left)<r(g.left),a=r(n.right)>r(g.right),l=r(n.top)<r(g.top),c=r(n.bottom)>r(g.bottom),d="left"===_&&o||"right"===_&&a||"top"===_&&l||"bottom"===_&&c,h=-1!==["top","bottom"].indexOf(_),u=!!p.flipVariations&&(h&&"start"===v&&o||h&&"end"===v&&a||!h&&"start"===v&&l||!h&&"end"===v&&c);(s||d||u)&&(f.flipped=!0,(s||d)&&(_=y[t+1]),u&&(v="end"===v?"start":"start"===v?"end":v),f.placement=_+(v?"-"+v:""),f.offsets.popper=k({},f.offsets.popper,D(f.instance.popper,f.offsets.reference,f.placement)),f=N(f.instance.modifiers,f,"flip"))}),f},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,s=i.reference,o=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[o?"left":"top"]=s[n]-(a?r[o?"width":"height"]:0),e.placement=O(t),e.offsets.popper=j(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=I(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,s=I(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o,a,l=void 0!==s?s:t.gpuAcceleration,c=y(e.instance.popper),d=x(c),h={position:r.position},u={left:Math.floor(r.left),top:Math.round(r.top),bottom:Math.round(r.bottom),right:Math.floor(r.right)},f="bottom"===n?"top":"bottom",p="right"===i?"left":"right",g=$("transform");if(a="bottom"===f?"HTML"===c.nodeName?-c.clientHeight+u.bottom:-d.height+u.bottom:u.top,o="right"===p?"HTML"===c.nodeName?-c.clientWidth+u.right:-d.width+u.right:u.left,l&&g)h[g]="translate3d("+o+"px, "+a+"px, 0)",h[f]=0,h[p]=0,h.willChange="transform";else{var _="bottom"===f?-1:1,m="right"===p?-1:1;h[f]=a*_,h[p]=o*m,h.willChange=f+", "+p}var v={"x-placement":e.placement};return e.attributes=k({},v,e.attributes),e.styles=k({},h,e.styles),e.arrowStyles=k({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return M(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&M(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,r){var s=S(r,t,e,n.positionFixed),o=T(n.placement,s,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),M(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},X=function(){function s(e,t){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,s),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=o(this.update.bind(this)),this.options=k({},s.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(k({},s.Defaults.modifiers,i.modifiers)).forEach(function(e){n.options.modifiers[e]=k({},s.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return k({name:e},n.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&a(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)}),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return c(s,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=S(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=T(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=D(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=N(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,L(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[$("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=function(e,t,n,i){n.updateBound=i,P(e).addEventListener("resize",n.updateBound,{passive:!0});var r=p(e);return function e(t,n,i,r){var s="BODY"===t.nodeName,o=s?t.ownerDocument.defaultView:t;o.addEventListener(n,i,{passive:!0}),s||e(p(o.parentNode),n,i,r),r.push(o)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return function(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,P(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}.call(this)}}]),s}();return X.Utils=("undefined"!=typeof window?window:global).PopperUtils,X.placements=R,X.Defaults=B,X},"object"==typeof exports&&"undefined"!=typeof module?module.exports=l():"function"==typeof define&&define.amd?define(l):a.Popper=l(),s=this,o=function(e,t,d){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function l(r){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},t=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),t.forEach(function(e){var t,n,i;t=r,i=s[n=e],n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i})}return r}t=t&&t.hasOwnProperty("default")?t.default:t,d=d&&d.hasOwnProperty("default")?d.default:d;var r,n,s,a,c,h,u,f,p,g,_,m,v,y,b,w,k,j,x,E,C,T,S,A,O,D,I,N,L,$,P,H,M,q,R,U,W,Y,F,K,B,X,z,Q,G,V,J,Z,ee,te,ne,ie,re,se,oe,ae,le,ce,de,he,ue,fe,pe,ge,_e,me,ve,ye,be,we,ke,je,xe,Ee,Ce,Te,Se,Ae,Oe,De,Ie,Ne,Le,$e,Pe,He,Me,qe,Re,Ue,We,Ye,Fe,Ke,Be,Xe,ze,Qe,Ge,Ve,Je,Ze,et,tt,nt,it,rt,st,ot,at,lt,ct,dt,ht,ut,ft,pt,gt,_t,mt,vt,yt,bt,wt,kt,jt,xt,Et,Ct,Tt=(Et="transitionend",Ct={TRANSITION_END:"bsTransitionEnd",getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");t&&"#"!==t||(t=e.getAttribute("href")||"");try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var t=xt(e).css("transition-duration");return parseFloat(t)?(t=t.split(",")[0],1e3*parseFloat(t)):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){xt(e).trigger(Et)},supportsTransitionEnd:function(){return Boolean(Et)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],s=t[i],o=s&&Ct.isElement(s)?"element":(a=s,{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(r).test(o))throw new Error(e.toUpperCase()+': Option "'+i+'" provided type "'+o+'" but expected type "'+r+'".')}var a}},(xt=t).fn.emulateTransitionEnd=function(e){var t=this,n=!1;return xt(this).one(Ct.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||Ct.triggerTransitionEnd(t)},e),this},xt.event.special[Ct.TRANSITION_END]={bindType:Et,delegateType:Et,handle:function(e){if(xt(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}},Ct),St=(n="alert",a="."+(s="bs.alert"),c=(r=t).fn[n],h={CLOSE:"close"+a,CLOSED:"closed"+a,CLICK_DATA_API:"click"+a+".data-api"},u=function(){function i(e){this._element=e}var e=i.prototype;return e.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},e.dispose=function(){r.removeData(this._element,s),this._element=null},e._getRootElement=function(e){var t=Tt.getSelectorFromElement(e),n=!1;return t&&(n=document.querySelector(t)),n||(n=r(e).closest(".alert")[0]),n},e._triggerCloseEvent=function(e){var t=r.Event(h.CLOSE);return r(e).trigger(t),t},e._removeElement=function(t){var n=this;if(r(t).removeClass("show"),r(t).hasClass("fade")){var e=Tt.getTransitionDurationFromElement(t);r(t).one(Tt.TRANSITION_END,function(e){return n._destroyElement(t,e)}).emulateTransitionEnd(e)}else this._destroyElement(t)},e._destroyElement=function(e){r(e).detach().trigger(h.CLOSED).remove()},i._jQueryInterface=function(n){return this.each(function(){var e=r(this),t=e.data(s);t||(t=new i(this),e.data(s,t)),"close"===n&&t[n](this)})},i._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},o(i,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),i}(),r(document).on(h.CLICK_DATA_API,'[data-dismiss="alert"]',u._handleDismiss(new u)),r.fn[n]=u._jQueryInterface,r.fn[n].Constructor=u,r.fn[n].noConflict=function(){return r.fn[n]=c,u._jQueryInterface},u),At=(p="button",_="."+(g="bs.button"),m=".data-api",v=(f=t).fn[p],y="active",b='[data-toggle^="button"]',".btn",w={CLICK_DATA_API:"click"+_+m,FOCUS_BLUR_DATA_API:"focus"+_+m+" blur"+_+m},k=function(){function n(e){this._element=e}var e=n.prototype;return e.toggle=function(){var e=!0,t=!0,n=f(this._element).closest('[data-toggle="buttons"]')[0];if(n){var i=this._element.querySelector("input");if(i){if("radio"===i.type)if(i.checked&&this._element.classList.contains(y))e=!1;else{var r=n.querySelector(".active");r&&f(r).removeClass(y)}if(e){if(i.hasAttribute("disabled")||n.hasAttribute("disabled")||i.classList.contains("disabled")||n.classList.contains("disabled"))return;i.checked=!this._element.classList.contains(y),f(i).trigger("change")}i.focus(),t=!1}}t&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(y)),e&&f(this._element).toggleClass(y)},e.dispose=function(){f.removeData(this._element,g),this._element=null},n._jQueryInterface=function(t){return this.each(function(){var e=f(this).data(g);e||(e=new n(this),f(this).data(g,e)),"toggle"===t&&e[t]()})},o(n,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),n}(),f(document).on(w.CLICK_DATA_API,b,function(e){e.preventDefault();var t=e.target;f(t).hasClass("btn")||(t=f(t).closest(".btn")),k._jQueryInterface.call(f(t),"toggle")}).on(w.FOCUS_BLUR_DATA_API,b,function(e){var t=f(e.target).closest(".btn")[0];f(t).toggleClass("focus",/^focus(in)?$/.test(e.type))}),f.fn[p]=k._jQueryInterface,f.fn[p].Constructor=k,f.fn[p].noConflict=function(){return f.fn[p]=v,k._jQueryInterface},k),Ot=(x="carousel",C="."+(E="bs.carousel"),T=".data-api",S=(j=t).fn[x],A={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},O={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},D="next",I="prev",N={SLIDE:"slide"+C,SLID:"slid"+C,KEYDOWN:"keydown"+C,MOUSEENTER:"mouseenter"+C,MOUSELEAVE:"mouseleave"+C,TOUCHEND:"touchend"+C,LOAD_DATA_API:"load"+C+T,CLICK_DATA_API:"click"+C+T},L="active",$=".active.carousel-item",".carousel-indicators",P=function(){function s(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(t),this._element=j(e)[0],this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._addEventListeners()}var e=s.prototype;return e.next=function(){this._isSliding||this._slide(D)},e.nextWhenVisible=function(){!document.hidden&&j(this._element).is(":visible")&&"hidden"!==j(this._element).css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide(I)},e.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(Tt.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(e){var t=this;this._activeElement=this._element.querySelector($);var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)j(this._element).one(N.SLID,function(){return t.to(e)});else{if(n===e)return this.pause(),void this.cycle();var i=n<e?D:I;this._slide(i,this._items[e])}},e.dispose=function(){j(this._element).off(C),j.removeData(this._element,E),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(e){return e=l({},A,e),Tt.typeCheckConfig(x,e,O),e},e._addEventListeners=function(){var t=this;this._config.keyboard&&j(this._element).on(N.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&(j(this._element).on(N.MOUSEENTER,function(e){return t.pause(e)}).on(N.MOUSELEAVE,function(e){return t.cycle(e)}),"ontouchstart"in document.documentElement&&j(this._element).on(N.TOUCHEND,function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval)}))},e._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},e._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(e)},e._getItemByDirection=function(e,t){var n=e===D,i=e===I,r=this._getItemIndex(t),s=this._items.length-1;if((i&&0===r||n&&r===s)&&!this._config.wrap)return t;var o=(r+(e===I?-1:1))%this._items.length;return-1===o?this._items[this._items.length-1]:this._items[o]},e._triggerSlideEvent=function(e,t){var n=this._getItemIndex(e),i=this._getItemIndex(this._element.querySelector($)),r=j.Event(N.SLIDE,{relatedTarget:e,direction:t,from:i,to:n});return j(this._element).trigger(r),r},e._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var t=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));j(t).removeClass(L);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&j(n).addClass(L)}},e._slide=function(e,t){var n,i,r,s=this,o=this._element.querySelector($),a=this._getItemIndex(o),l=t||o&&this._getItemByDirection(e,o),c=this._getItemIndex(l),d=Boolean(this._interval);if(r=e===D?(n="carousel-item-left",i="carousel-item-next","left"):(n="carousel-item-right",i="carousel-item-prev","right"),l&&j(l).hasClass(L))this._isSliding=!1;else if(!this._triggerSlideEvent(l,r).isDefaultPrevented()&&o&&l){this._isSliding=!0,d&&this.pause(),this._setActiveIndicatorElement(l);var h=j.Event(N.SLID,{relatedTarget:l,direction:r,from:a,to:c});if(j(this._element).hasClass("slide")){j(l).addClass(i),Tt.reflow(l),j(o).addClass(n),j(l).addClass(n);var u=Tt.getTransitionDurationFromElement(o);j(o).one(Tt.TRANSITION_END,function(){j(l).removeClass(n+" "+i).addClass(L),j(o).removeClass(L+" "+i+" "+n),s._isSliding=!1,setTimeout(function(){return j(s._element).trigger(h)},0)}).emulateTransitionEnd(u)}else j(o).removeClass(L),j(l).addClass(L),this._isSliding=!1,j(this._element).trigger(h);d&&this.cycle()}},s._jQueryInterface=function(i){return this.each(function(){var e=j(this).data(E),t=l({},A,j(this).data());"object"==typeof i&&(t=l({},t,i));var n="string"==typeof i?i:t.slide;if(e||(e=new s(this,t),j(this).data(E,e)),"number"==typeof i)e.to(i);else if("string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}else t.interval&&(e.pause(),e.cycle())})},s._dataApiClickHandler=function(e){var t=Tt.getSelectorFromElement(this);if(t){var n=j(t)[0];if(n&&j(n).hasClass("carousel")){var i=l({},j(n).data(),j(this).data()),r=this.getAttribute("data-slide-to");r&&(i.interval=!1),s._jQueryInterface.call(j(n),i),r&&j(n).data(E).to(r),e.preventDefault()}}},o(s,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return A}}]),s}(),j(document).on(N.CLICK_DATA_API,"[data-slide], [data-slide-to]",P._dataApiClickHandler),j(window).on(N.LOAD_DATA_API,function(){for(var e=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),t=0,n=e.length;t<n;t++){var i=j(e[t]);P._jQueryInterface.call(i,i.data())}}),j.fn[x]=P._jQueryInterface,j.fn[x].Constructor=P,j.fn[x].noConflict=function(){return j.fn[x]=S,P._jQueryInterface},P),Dt=(M="collapse",R="."+(q="bs.collapse"),U=(H=t).fn[M],W={toggle:!0,parent:""},Y={toggle:"boolean",parent:"(string|element)"},F={SHOW:"show"+R,SHOWN:"shown"+R,HIDE:"hide"+R,HIDDEN:"hidden"+R,CLICK_DATA_API:"click"+R+".data-api"},K="show",B="collapse",X="collapsing",z="collapsed",Q='[data-toggle="collapse"]',G=function(){function a(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=H.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(Q)),i=0,r=n.length;i<r;i++){var s=n[i],o=Tt.getSelectorFromElement(s),a=[].slice.call(document.querySelectorAll(o)).filter(function(e){return e===t});null!==o&&0<a.length&&(this._selector=o,this._triggerArray.push(s))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=a.prototype;return e.toggle=function(){H(this._element).hasClass(K)?this.hide():this.show()},e.show=function(){var e,t,n=this;if(!(this._isTransitioning||H(this._element).hasClass(K)||(this._parent&&0===(e=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(e){return e.getAttribute("data-parent")===n._config.parent})).length&&(e=null),e&&(t=H(e).not(this._selector).data(q))&&t._isTransitioning))){var i=H.Event(F.SHOW);if(H(this._element).trigger(i),!i.isDefaultPrevented()){e&&(a._jQueryInterface.call(H(e).not(this._selector),"hide"),t||H(e).data(q,null));var r=this._getDimension();H(this._element).removeClass(B).addClass(X),this._element.style[r]=0,this._triggerArray.length&&H(this._triggerArray).removeClass(z).attr("aria-expanded",!0),this.setTransitioning(!0);var s="scroll"+(r[0].toUpperCase()+r.slice(1)),o=Tt.getTransitionDurationFromElement(this._element);H(this._element).one(Tt.TRANSITION_END,function(){H(n._element).removeClass(X).addClass(B).addClass(K),n._element.style[r]="",n.setTransitioning(!1),H(n._element).trigger(F.SHOWN)}).emulateTransitionEnd(o),this._element.style[r]=this._element[s]+"px"}}},e.hide=function(){var e=this;if(!this._isTransitioning&&H(this._element).hasClass(K)){var t=H.Event(F.HIDE);if(H(this._element).trigger(t),!t.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",Tt.reflow(this._element),H(this._element).addClass(X).removeClass(B).removeClass(K);var i=this._triggerArray.length;if(0<i)for(var r=0;r<i;r++){var s=this._triggerArray[r],o=Tt.getSelectorFromElement(s);null!==o&&(H([].slice.call(document.querySelectorAll(o))).hasClass(K)||H(s).addClass(z).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[n]="";var a=Tt.getTransitionDurationFromElement(this._element);H(this._element).one(Tt.TRANSITION_END,function(){e.setTransitioning(!1),H(e._element).removeClass(X).addClass(B).trigger(F.HIDDEN)}).emulateTransitionEnd(a)}}},e.setTransitioning=function(e){this._isTransitioning=e},e.dispose=function(){H.removeData(this._element,q),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(e){return(e=l({},W,e)).toggle=Boolean(e.toggle),Tt.typeCheckConfig(M,e,Y),e},e._getDimension=function(){return H(this._element).hasClass("width")?"width":"height"},e._getParent=function(){var n=this,e=null;Tt.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent);var t='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',i=[].slice.call(e.querySelectorAll(t));return H(i).each(function(e,t){n._addAriaAndCollapsedClass(a._getTargetFromElement(t),[t])}),e},e._addAriaAndCollapsedClass=function(e,t){if(e){var n=H(e).hasClass(K);t.length&&H(t).toggleClass(z,!n).attr("aria-expanded",n)}},a._getTargetFromElement=function(e){var t=Tt.getSelectorFromElement(e);return t?document.querySelector(t):null},a._jQueryInterface=function(i){return this.each(function(){var e=H(this),t=e.data(q),n=l({},W,e.data(),"object"==typeof i&&i?i:{});if(!t&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),t||(t=new a(this,n),e.data(q,t)),"string"==typeof i){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i]()}})},o(a,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return W}}]),a}(),H(document).on(F.CLICK_DATA_API,Q,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var n=H(this),t=Tt.getSelectorFromElement(this),i=[].slice.call(document.querySelectorAll(t));H(i).each(function(){var e=H(this),t=e.data(q)?"toggle":n.data();G._jQueryInterface.call(e,t)})}),H.fn[M]=G._jQueryInterface,H.fn[M].Constructor=G,H.fn[M].noConflict=function(){return H.fn[M]=U,G._jQueryInterface},G),It=(J="dropdown",ee="."+(Z="bs.dropdown"),te=".data-api",ne=(V=t).fn[J],ie=new RegExp("38|40|27"),re={HIDE:"hide"+ee,HIDDEN:"hidden"+ee,SHOW:"show"+ee,SHOWN:"shown"+ee,CLICK:"click"+ee,CLICK_DATA_API:"click"+ee+te,KEYDOWN_DATA_API:"keydown"+ee+te,KEYUP_DATA_API:"keyup"+ee+te},se="disabled",oe="show",ae="dropdown-menu-right",le='[data-toggle="dropdown"]',ce=".dropdown-menu",de={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},he={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},ue=function(){function c(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e=c.prototype;return e.toggle=function(){if(!this._element.disabled&&!V(this._element).hasClass(se)){var e=c._getParentFromElement(this._element),t=V(this._menu).hasClass(oe);if(c._clearMenus(),!t){var n={relatedTarget:this._element},i=V.Event(re.SHOW,n);if(V(e).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar){if(void 0===d)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var r=this._element;"parent"===this._config.reference?r=e:Tt.isElement(this._config.reference)&&(r=this._config.reference,void 0!==this._config.reference.jquery&&(r=this._config.reference[0])),"scrollParent"!==this._config.boundary&&V(e).addClass("position-static"),this._popper=new d(r,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===V(e).closest(".navbar-nav").length&&V(document.body).children().on("mouseover",null,V.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),V(this._menu).toggleClass(oe),V(e).toggleClass(oe).trigger(V.Event(re.SHOWN,n))}}}},e.dispose=function(){V.removeData(this._element,Z),V(this._element).off(ee),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function(){var t=this;V(this._element).on(re.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},e._getConfig=function(e){return e=l({},this.constructor.Default,V(this._element).data(),e),Tt.typeCheckConfig(J,e,this.constructor.DefaultType),e},e._getMenuElement=function(){if(!this._menu){var e=c._getParentFromElement(this._element);e&&(this._menu=e.querySelector(ce))}return this._menu},e._getPlacement=function(){var e=V(this._element.parentNode),t="bottom-start";return e.hasClass("dropup")?(t="top-start",V(this._menu).hasClass(ae)&&(t="top-end")):e.hasClass("dropright")?t="right-start":e.hasClass("dropleft")?t="left-start":V(this._menu).hasClass(ae)&&(t="bottom-end"),t},e._detectNavbar=function(){return 0<V(this._element).closest(".navbar").length},e._getPopperConfig=function(){var t=this,e={};"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=l({},e.offsets,t._config.offset(e.offsets)||{}),e}:e.offset=this._config.offset;var n={placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(n.modifiers.applyStyle={enabled:!1}),n},c._jQueryInterface=function(t){return this.each(function(){var e=V(this).data(Z);if(e||(e=new c(this,"object"==typeof t?t:null),V(this).data(Z,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},c._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var t=[].slice.call(document.querySelectorAll(le)),n=0,i=t.length;n<i;n++){var r=c._getParentFromElement(t[n]),s=V(t[n]).data(Z),o={relatedTarget:t[n]};if(e&&"click"===e.type&&(o.clickEvent=e),s){var a=s._menu;if(V(r).hasClass(oe)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&V.contains(r,e.target))){var l=V.Event(re.HIDE,o);V(r).trigger(l),l.isDefaultPrevented()||("ontouchstart"in document.documentElement&&V(document.body).children().off("mouseover",null,V.noop),t[n].setAttribute("aria-expanded","false"),V(a).removeClass(oe),V(r).removeClass(oe).trigger(V.Event(re.HIDDEN,o)))}}}},c._getParentFromElement=function(e){var t,n=Tt.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode},c._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||V(e.target).closest(ce).length)):ie.test(e.which))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!V(this).hasClass(se))){var t=c._getParentFromElement(this),n=V(t).hasClass(oe);if((n||27===e.which&&32===e.which)&&(!n||27!==e.which&&32!==e.which)){var i=[].slice.call(t.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"));if(0!==i.length){var r=i.indexOf(e.target);38===e.which&&0<r&&r--,40===e.which&&r<i.length-1&&r++,r<0&&(r=0),i[r].focus()}}else{if(27===e.which){var s=t.querySelector(le);V(s).trigger("focus")}V(this).trigger("click")}}},o(c,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return de}},{key:"DefaultType",get:function(){return he}}]),c}(),V(document).on(re.KEYDOWN_DATA_API,le,ue._dataApiKeydownHandler).on(re.KEYDOWN_DATA_API,ce,ue._dataApiKeydownHandler).on(re.CLICK_DATA_API+" "+re.KEYUP_DATA_API,ue._clearMenus).on(re.CLICK_DATA_API,le,function(e){e.preventDefault(),e.stopPropagation(),ue._jQueryInterface.call(V(this),"toggle")}).on(re.CLICK_DATA_API,".dropdown form",function(e){e.stopPropagation()}),V.fn[J]=ue._jQueryInterface,V.fn[J].Constructor=ue,V.fn[J].noConflict=function(){return V.fn[J]=ne,ue._jQueryInterface},ue),Nt=(pe="modal",_e="."+(ge="bs.modal"),me=(fe=t).fn[pe],ve={backdrop:!0,keyboard:!0,focus:!0,show:!0},ye={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},be={HIDE:"hide"+_e,HIDDEN:"hidden"+_e,SHOW:"show"+_e,SHOWN:"shown"+_e,FOCUSIN:"focusin"+_e,RESIZE:"resize"+_e,CLICK_DISMISS:"click.dismiss"+_e,KEYDOWN_DISMISS:"keydown.dismiss"+_e,MOUSEUP_DISMISS:"mouseup.dismiss"+_e,MOUSEDOWN_DISMISS:"mousedown.dismiss"+_e,CLICK_DATA_API:"click"+_e+".data-api"},we="modal-open",ke="fade",je="show",".modal-dialog",xe=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ee=".sticky-top",Ce=function(){function r(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}var e=r.prototype;return e.toggle=function(e){return this._isShown?this.hide():this.show(e)},e.show=function(e){var t=this;if(!this._isTransitioning&&!this._isShown){fe(this._element).hasClass(ke)&&(this._isTransitioning=!0);var n=fe.Event(be.SHOW,{relatedTarget:e});fe(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),fe(document.body).addClass(we),this._setEscapeEvent(),this._setResizeEvent(),fe(this._element).on(be.CLICK_DISMISS,'[data-dismiss="modal"]',function(e){return t.hide(e)}),fe(this._dialog).on(be.MOUSEDOWN_DISMISS,function(){fe(t._element).one(be.MOUSEUP_DISMISS,function(e){fe(e.target).is(t._element)&&(t._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return t._showElement(e)}))}},e.hide=function(e){var t=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var n=fe.Event(be.HIDE);if(fe(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var i=fe(this._element).hasClass(ke);if(i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),fe(document).off(be.FOCUSIN),fe(this._element).removeClass(je),fe(this._element).off(be.CLICK_DISMISS),fe(this._dialog).off(be.MOUSEDOWN_DISMISS),i){var r=Tt.getTransitionDurationFromElement(this._element);fe(this._element).one(Tt.TRANSITION_END,function(e){return t._hideModal(e)}).emulateTransitionEnd(r)}else this._hideModal()}}},e.dispose=function(){fe.removeData(this._element,ge),fe(window,document,this._element,this._backdrop).off(_e),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(e){return e=l({},ve,e),Tt.typeCheckConfig(pe,e,ye),e},e._showElement=function(e){var t=this,n=fe(this._element).hasClass(ke);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,n&&Tt.reflow(this._element),fe(this._element).addClass(je),this._config.focus&&this._enforceFocus();var i=fe.Event(be.SHOWN,{relatedTarget:e}),r=function(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,fe(t._element).trigger(i)};if(n){var s=Tt.getTransitionDurationFromElement(this._element);fe(this._dialog).one(Tt.TRANSITION_END,r).emulateTransitionEnd(s)}else r()},e._enforceFocus=function(){var t=this;fe(document).off(be.FOCUSIN).on(be.FOCUSIN,function(e){document!==e.target&&t._element!==e.target&&0===fe(t._element).has(e.target).length&&t._element.focus()})},e._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?fe(this._element).on(be.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||fe(this._element).off(be.KEYDOWN_DISMISS)},e._setResizeEvent=function(){var t=this;this._isShown?fe(window).on(be.RESIZE,function(e){return t.handleUpdate(e)}):fe(window).off(be.RESIZE)},e._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){fe(document.body).removeClass(we),e._resetAdjustments(),e._resetScrollbar(),fe(e._element).trigger(be.HIDDEN)})},e._removeBackdrop=function(){this._backdrop&&(fe(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(e){var t=this,n=fe(this._element).hasClass(ke)?ke:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",n&&this._backdrop.classList.add(n),fe(this._backdrop).appendTo(document.body),fe(this._element).on(be.CLICK_DISMISS,function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===t._config.backdrop?t._element.focus():t.hide())}),n&&Tt.reflow(this._backdrop),fe(this._backdrop).addClass(je),!e)return;if(!n)return void e();var i=Tt.getTransitionDurationFromElement(this._backdrop);fe(this._backdrop).one(Tt.TRANSITION_END,e).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){fe(this._backdrop).removeClass(je);var r=function(){t._removeBackdrop(),e&&e()};if(fe(this._element).hasClass(ke)){var s=Tt.getTransitionDurationFromElement(this._backdrop);fe(this._backdrop).one(Tt.TRANSITION_END,r).emulateTransitionEnd(s)}else r()}else e&&e()},e._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var r=this;if(this._isBodyOverflowing){var e=[].slice.call(document.querySelectorAll(xe)),t=[].slice.call(document.querySelectorAll(Ee));fe(e).each(function(e,t){var n=t.style.paddingRight,i=fe(t).css("padding-right");fe(t).data("padding-right",n).css("padding-right",parseFloat(i)+r._scrollbarWidth+"px")}),fe(t).each(function(e,t){var n=t.style.marginRight,i=fe(t).css("margin-right");fe(t).data("margin-right",n).css("margin-right",parseFloat(i)-r._scrollbarWidth+"px")});var n=document.body.style.paddingRight,i=fe(document.body).css("padding-right");fe(document.body).data("padding-right",n).css("padding-right",parseFloat(i)+this._scrollbarWidth+"px")}},e._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(xe));fe(e).each(function(e,t){var n=fe(t).data("padding-right");fe(t).removeData("padding-right"),t.style.paddingRight=n||""});var t=[].slice.call(document.querySelectorAll(""+Ee));fe(t).each(function(e,t){var n=fe(t).data("margin-right");void 0!==n&&fe(t).css("margin-right",n).removeData("margin-right")});var n=fe(document.body).data("padding-right");fe(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},e._getScrollbarWidth=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},r._jQueryInterface=function(n,i){return this.each(function(){var e=fe(this).data(ge),t=l({},ve,fe(this).data(),"object"==typeof n&&n?n:{});if(e||(e=new r(this,t),fe(this).data(ge,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n](i)}else t.show&&e.show(i)})},o(r,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return ve}}]),r}(),fe(document).on(be.CLICK_DATA_API,'[data-toggle="modal"]',function(e){var t,n=this,i=Tt.getSelectorFromElement(this);i&&(t=document.querySelector(i));var r=fe(t).data(ge)?"toggle":l({},fe(t).data(),fe(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var s=fe(t).one(be.SHOW,function(e){e.isDefaultPrevented()||s.one(be.HIDDEN,function(){fe(n).is(":visible")&&n.focus()})});Ce._jQueryInterface.call(fe(t),r,this)}),fe.fn[pe]=Ce._jQueryInterface,fe.fn[pe].Constructor=Ce,fe.fn[pe].noConflict=function(){return fe.fn[pe]=me,Ce._jQueryInterface},Ce),Lt=(Se="tooltip",Oe="."+(Ae="bs.tooltip"),De=(Te=t).fn[Se],Ie="bs-tooltip",Ne=new RegExp("(^|\\s)"+Ie+"\\S+","g"),Pe={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:($e={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},!1),selector:(Le={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},!1),placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},Me={HIDE:"hide"+Oe,HIDDEN:"hidden"+Oe,SHOW:(He="show")+Oe,SHOWN:"shown"+Oe,INSERTED:"inserted"+Oe,CLICK:"click"+Oe,FOCUSIN:"focusin"+Oe,FOCUSOUT:"focusout"+Oe,MOUSEENTER:"mouseenter"+Oe,MOUSELEAVE:"mouseleave"+Oe},qe="fade",Re="show",Ue="hover",We="focus",Ye=function(){function i(e,t){if(void 0===d)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var e=i.prototype;return e.enable=function(){this._isEnabled=!0},e.disable=function(){this._isEnabled=!1},e.toggleEnabled=function(){this._isEnabled=!this._isEnabled},e.toggle=function(e){if(this._isEnabled)if(e){var t=this.constructor.DATA_KEY,n=Te(e.currentTarget).data(t);n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),Te(e.currentTarget).data(t,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(Te(this.getTipElement()).hasClass(Re))return void this._leave(null,this);this._enter(null,this)}},e.dispose=function(){clearTimeout(this._timeout),Te.removeData(this.element,this.constructor.DATA_KEY),Te(this.element).off(this.constructor.EVENT_KEY),Te(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&Te(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,(this._activeTrigger=null)!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function(){var t=this;if("none"===Te(this.element).css("display"))throw new Error("Please use show on visible elements");var e=Te.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){Te(this.element).trigger(e);var n=Te.contains(this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!n)return;var i=this.getTipElement(),r=Tt.getUID(this.constructor.NAME);i.setAttribute("id",r),this.element.setAttribute("aria-describedby",r),this.setContent(),this.config.animation&&Te(i).addClass(qe);var s="function"==typeof this.config.placement?this.config.placement.call(this,i,this.element):this.config.placement,o=this._getAttachment(s);this.addAttachmentClass(o);var a=!1===this.config.container?document.body:Te(document).find(this.config.container);Te(i).data(this.constructor.DATA_KEY,this),Te.contains(this.element.ownerDocument.documentElement,this.tip)||Te(i).appendTo(a),Te(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new d(this.element,i,{placement:o,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){t._handlePopperPlacementChange(e)}}),Te(i).addClass(Re),"ontouchstart"in document.documentElement&&Te(document.body).children().on("mouseover",null,Te.noop);var l=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,Te(t.element).trigger(t.constructor.Event.SHOWN),"out"===e&&t._leave(null,t)};if(Te(this.tip).hasClass(qe)){var c=Tt.getTransitionDurationFromElement(this.tip);Te(this.tip).one(Tt.TRANSITION_END,l).emulateTransitionEnd(c)}else l()}},e.hide=function(e){var t=this,n=this.getTipElement(),i=Te.Event(this.constructor.Event.HIDE),r=function(){t._hoverState!==He&&n.parentNode&&n.parentNode.removeChild(n),t._cleanTipClass(),t.element.removeAttribute("aria-describedby"),Te(t.element).trigger(t.constructor.Event.HIDDEN),null!==t._popper&&t._popper.destroy(),e&&e()};if(Te(this.element).trigger(i),!i.isDefaultPrevented()){if(Te(n).removeClass(Re),"ontouchstart"in document.documentElement&&Te(document.body).children().off("mouseover",null,Te.noop),this._activeTrigger.click=!1,this._activeTrigger[We]=!1,this._activeTrigger[Ue]=!1,Te(this.tip).hasClass(qe)){var s=Tt.getTransitionDurationFromElement(n);Te(n).one(Tt.TRANSITION_END,r).emulateTransitionEnd(s)}else r();this._hoverState=""}},e.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function(){return Boolean(this.getTitle())},e.addAttachmentClass=function(e){Te(this.getTipElement()).addClass(Ie+"-"+e)},e.getTipElement=function(){return this.tip=this.tip||Te(this.config.template)[0],this.tip},e.setContent=function(){var e=this.getTipElement();this.setElementContent(Te(e.querySelectorAll(".tooltip-inner")),this.getTitle()),Te(e).removeClass(qe+" "+Re)},e.setElementContent=function(e,t){var n=this.config.html;"object"==typeof t&&(t.nodeType||t.jquery)?n?Te(t).parent().is(e)||e.empty().append(t):e.text(Te(t).text()):e[n?"html":"text"](t)},e.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},e._getAttachment=function(e){return $e[e.toUpperCase()]},e._setListeners=function(){var i=this;this.config.trigger.split(" ").forEach(function(e){if("click"===e)Te(i.element).on(i.constructor.Event.CLICK,i.config.selector,function(e){return i.toggle(e)});else if("manual"!==e){var t=e===Ue?i.constructor.Event.MOUSEENTER:i.constructor.Event.FOCUSIN,n=e===Ue?i.constructor.Event.MOUSELEAVE:i.constructor.Event.FOCUSOUT;Te(i.element).on(t,i.config.selector,function(e){return i._enter(e)}).on(n,i.config.selector,function(e){return i._leave(e)})}Te(i.element).closest(".modal").on("hide.bs.modal",function(){return i.hide()})}),this.config.selector?this.config=l({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},e._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},e._enter=function(e,t){var n=this.constructor.DATA_KEY;(t=t||Te(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),Te(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusin"===e.type?We:Ue]=!0),Te(t.getTipElement()).hasClass(Re)||t._hoverState===He?t._hoverState=He:(clearTimeout(t._timeout),t._hoverState=He,t.config.delay&&t.config.delay.show?t._timeout=setTimeout(function(){t._hoverState===He&&t.show()},t.config.delay.show):t.show())},e._leave=function(e,t){var n=this.constructor.DATA_KEY;(t=t||Te(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),Te(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusout"===e.type?We:Ue]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState="out",t.config.delay&&t.config.delay.hide?t._timeout=setTimeout(function(){"out"===t._hoverState&&t.hide()},t.config.delay.hide):t.hide())},e._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},e._getConfig=function(e){return"number"==typeof(e=l({},this.constructor.Default,Te(this.element).data(),"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),Tt.typeCheckConfig(Se,e,this.constructor.DefaultType),e},e._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},e._cleanTipClass=function(){var e=Te(this.getTipElement()),t=e.attr("class").match(Ne);null!==t&&t.length&&e.removeClass(t.join(""))},e._handlePopperPlacementChange=function(e){var t=e.instance;this.tip=t.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},e._fixTransition=function(){var e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(Te(e).removeClass(qe),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},i._jQueryInterface=function(n){return this.each(function(){var e=Te(this).data(Ae),t="object"==typeof n&&n;if((e||!/dispose|hide/.test(n))&&(e||(e=new i(this,t),Te(this).data(Ae,e)),"string"==typeof n)){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},o(i,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Pe}},{key:"NAME",get:function(){return Se}},{key:"DATA_KEY",get:function(){return Ae}},{key:"Event",get:function(){return Me}},{key:"EVENT_KEY",get:function(){return Oe}},{key:"DefaultType",get:function(){return Le}}]),i}(),Te.fn[Se]=Ye._jQueryInterface,Te.fn[Se].Constructor=Ye,Te.fn[Se].noConflict=function(){return Te.fn[Se]=De,Ye._jQueryInterface},Ye),$t=(Ke="popover",Xe="."+(Be="bs.popover"),ze=(Fe=t).fn[Ke],Qe="bs-popover",Ge=new RegExp("(^|\\s)"+Qe+"\\S+","g"),Ve=l({},Lt.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Je=l({},Lt.DefaultType,{content:"(string|element|function)"}),Ze={HIDE:"hide"+Xe,HIDDEN:"hidden"+Xe,SHOW:"show"+Xe,SHOWN:"shown"+Xe,INSERTED:"inserted"+Xe,CLICK:"click"+Xe,FOCUSIN:"focusin"+Xe,FOCUSOUT:"focusout"+Xe,MOUSEENTER:"mouseenter"+Xe,MOUSELEAVE:"mouseleave"+Xe},et=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var r=i.prototype;return r.isWithContent=function(){return this.getTitle()||this._getContent()},r.addAttachmentClass=function(e){Fe(this.getTipElement()).addClass(Qe+"-"+e)},r.getTipElement=function(){return this.tip=this.tip||Fe(this.config.template)[0],this.tip},r.setContent=function(){var e=Fe(this.getTipElement());this.setElementContent(e.find(".popover-header"),this.getTitle());var t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(".popover-body"),t),e.removeClass("fade show")},r._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},r._cleanTipClass=function(){var e=Fe(this.getTipElement()),t=e.attr("class").match(Ge);null!==t&&0<t.length&&e.removeClass(t.join(""))},i._jQueryInterface=function(n){return this.each(function(){var e=Fe(this).data(Be),t="object"==typeof n?n:null;if((e||!/destroy|hide/.test(n))&&(e||(e=new i(this,t),Fe(this).data(Be,e)),"string"==typeof n)){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},o(i,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Ve}},{key:"NAME",get:function(){return Ke}},{key:"DATA_KEY",get:function(){return Be}},{key:"Event",get:function(){return Ze}},{key:"EVENT_KEY",get:function(){return Xe}},{key:"DefaultType",get:function(){return Je}}]),i}(Lt),Fe.fn[Ke]=et._jQueryInterface,Fe.fn[Ke].Constructor=et,Fe.fn[Ke].noConflict=function(){return Fe.fn[Ke]=ze,et._jQueryInterface},et),Pt=(nt="scrollspy",rt="."+(it="bs.scrollspy"),st=(tt=t).fn[nt],ot={offset:10,method:"auto",target:""},at={offset:"number",method:"string",target:"(string|element)"},lt={ACTIVATE:"activate"+rt,SCROLL:"scroll"+rt,LOAD_DATA_API:"load"+rt+".data-api"},ct="active",dt=".nav, .list-group",ht=".nav-link",ut=".list-group-item",".dropdown-item",ft="position",pt=function(){function n(e,t){var n=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" "+ht+","+this._config.target+" "+ut+","+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,tt(this._scrollElement).on(lt.SCROLL,function(e){return n._process(e)}),this.refresh(),this._process()}var e=n.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?"offset":ft,r="auto"===this._config.method?e:this._config.method,s=r===ft?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(e){var t,n=Tt.getSelectorFromElement(e);if(n&&(t=document.querySelector(n)),t){var i=t.getBoundingClientRect();if(i.width||i.height)return[tt(t)[r]().top+s,n]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},e.dispose=function(){tt.removeData(this._element,it),tt(this._scrollElement).off(rt),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(e){if("string"!=typeof(e=l({},ot,"object"==typeof e&&e?e:{})).target){var t=tt(e.target).attr("id");t||(t=Tt.getUID(nt),tt(e.target).attr("id",t)),e.target="#"+t}return Tt.typeCheckConfig(nt,e,at),e},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),n<=e){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&e<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&e>=this._offsets[r]&&(void 0===this._offsets[r+1]||e<this._offsets[r+1])&&this._activate(this._targets[r])}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",");e=e.map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'});var n=tt([].slice.call(document.querySelectorAll(e.join(","))));n.hasClass("dropdown-item")?(n.closest(".dropdown").find(".dropdown-toggle").addClass(ct),n.addClass(ct)):(n.addClass(ct),n.parents(dt).prev(ht+", "+ut).addClass(ct),n.parents(dt).prev(".nav-item").children(ht).addClass(ct)),tt(this._scrollElement).trigger(lt.ACTIVATE,{relatedTarget:t})},e._clear=function(){var e=[].slice.call(document.querySelectorAll(this._selector));tt(e).filter(".active").removeClass(ct)},n._jQueryInterface=function(t){return this.each(function(){var e=tt(this).data(it);if(e||(e=new n(this,"object"==typeof t&&t),tt(this).data(it,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},o(n,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return ot}}]),n}(),tt(window).on(lt.LOAD_DATA_API,function(){for(var e=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),t=e.length;t--;){var n=tt(e[t]);pt._jQueryInterface.call(n,n.data())}}),tt.fn[nt]=pt._jQueryInterface,tt.fn[nt].Constructor=pt,tt.fn[nt].noConflict=function(){return tt.fn[nt]=st,pt._jQueryInterface},pt),Ht=(mt="."+(_t="bs.tab"),vt=(gt=t).fn.tab,yt={HIDE:"hide"+mt,HIDDEN:"hidden"+mt,SHOW:"show"+mt,SHOWN:"shown"+mt,CLICK_DATA_API:"click"+mt+".data-api"},bt="active",wt=".active",kt="> li > .active",jt=function(){function i(e){this._element=e}var e=i.prototype;return e.show=function(){var n=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&gt(this._element).hasClass(bt)||gt(this._element).hasClass("disabled"))){var e,i,t=gt(this._element).closest(".nav, .list-group")[0],r=Tt.getSelectorFromElement(this._element);if(t){var s="UL"===t.nodeName?kt:wt;i=(i=gt.makeArray(gt(t).find(s)))[i.length-1]}var o=gt.Event(yt.HIDE,{relatedTarget:this._element}),a=gt.Event(yt.SHOW,{relatedTarget:i});if(i&&gt(i).trigger(o),gt(this._element).trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){r&&(e=document.querySelector(r)),this._activate(this._element,t);var l=function(){var e=gt.Event(yt.HIDDEN,{relatedTarget:n._element}),t=gt.Event(yt.SHOWN,{relatedTarget:i});gt(i).trigger(e),gt(n._element).trigger(t)};e?this._activate(e,e.parentNode,l):l()}}},e.dispose=function(){gt.removeData(this._element,_t),this._element=null},e._activate=function(e,t,n){var i=this,r=("UL"===t.nodeName?gt(t).find(kt):gt(t).children(wt))[0],s=n&&r&&gt(r).hasClass("fade"),o=function(){return i._transitionComplete(e,r,n)};if(r&&s){var a=Tt.getTransitionDurationFromElement(r);gt(r).one(Tt.TRANSITION_END,o).emulateTransitionEnd(a)}else o()},e._transitionComplete=function(e,t,n){if(t){gt(t).removeClass("show "+bt);var i=gt(t.parentNode).find("> .dropdown-menu .active")[0];i&&gt(i).removeClass(bt),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}if(gt(e).addClass(bt),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),Tt.reflow(e),gt(e).addClass("show"),e.parentNode&&gt(e.parentNode).hasClass("dropdown-menu")){var r=gt(e).closest(".dropdown")[0];if(r){var s=[].slice.call(r.querySelectorAll(".dropdown-toggle"));gt(s).addClass(bt)}e.setAttribute("aria-expanded",!0)}n&&n()},i._jQueryInterface=function(n){return this.each(function(){var e=gt(this),t=e.data(_t);if(t||(t=new i(this),e.data(_t,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},o(i,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),i}(),gt(document).on(yt.CLICK_DATA_API,'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(e){e.preventDefault(),jt._jQueryInterface.call(gt(this),"show")}),gt.fn.tab=jt._jQueryInterface,gt.fn.tab.Constructor=jt,gt.fn.tab.noConflict=function(){return gt.fn.tab=vt,jt._jQueryInterface},jt);!function(e){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||4<=t[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(t),e.Util=Tt,e.Alert=St,e.Button=At,e.Carousel=Ot,e.Collapse=Dt,e.Dropdown=It,e.Modal=Nt,e.Popover=$t,e.Scrollspy=Pt,e.Tab=Ht,e.Tooltip=Lt,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],o):o(s.bootstrap={},s.jQuery,s.Popper),i=this,r=function(s){"use strict";s=s&&s.hasOwnProperty("default")?s.default:s;var e=function(){function i(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0,arrowSelector:".tooltip-arrow, .tooltip__arrow",innerSelector:".tooltip-inner, .tooltip__inner"},t=function(){function i(e,t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,i),a.call(this),t=o({},r,t),e.jquery&&(e=e[0]),this.reference=e;var n="string"==typeof(this.options=t).trigger?t.trigger.split(" ").filter(function(e){return-1!==["click","hover","focus"].indexOf(e)}):[];this._isOpen=!1,this._popperOptions={},this._setEventListeners(e,n,t)}return e(i,[{key:"_create",value:function(e,t,n,i){var r=window.document.createElement("div");r.innerHTML=t.trim();var s=r.childNodes[0];s.id="tooltip_"+Math.random().toString(36).substr(2,10),s.setAttribute("aria-hidden","false");var o=r.querySelector(this.options.innerSelector);return this._addTitleContent(e,n,i,o),s}},{key:"_addTitleContent",value:function(e,t,n,i){if(1===t.nodeType||11===t.nodeType)n&&i.appendChild(t);else if((s=t)&&"[object Function]"==={}.toString.call(s)){var r=t.call(e);n?i.innerHTML=r:i.textContent=r}else n?i.innerHTML=t:i.textContent=t;var s}},{key:"_show",value:function(e,t){if(this._isOpen&&!this._isOpening)return this;if(this._isOpen=!0,this._tooltipNode)return this._tooltipNode.style.visibility="visible",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.update(),this;var n=e.getAttribute("title")||t.title;if(!n)return this;var i=this._create(e,t.template,n,t.html);e.setAttribute("aria-describedby",i.id);var r=this._findContainer(t.container,e);return this._append(i,r),this._popperOptions=o({},t.popperOptions,{placement:t.placement}),this._popperOptions.modifiers=o({},this._popperOptions.modifiers,{arrow:{element:this.options.arrowSelector},offset:{offset:t.offset}}),t.boundariesElement&&(this._popperOptions.modifiers.preventOverflow={boundariesElement:t.boundariesElement}),this.popperInstance=new s(e,i,this._popperOptions),this._tooltipNode=i,this}},{key:"_hide",value:function(){return this._isOpen&&(this._isOpen=!1,this._tooltipNode.style.visibility="hidden",this._tooltipNode.setAttribute("aria-hidden","true")),this}},{key:"_dispose",value:function(){var i=this;return this._events.forEach(function(e){var t=e.func,n=e.event;i.reference.removeEventListener(n,t)}),this._events=[],this._tooltipNode&&(this._hide(),this.popperInstance.destroy(),!this.popperInstance.options.removeOnDestroy&&(this._tooltipNode.parentNode.removeChild(this._tooltipNode),this._tooltipNode=null)),this}},{key:"_findContainer",value:function(e,t){return"string"==typeof e?e=window.document.querySelector(e):!1===e&&(e=t.parentNode),e}},{key:"_append",value:function(e,t){t.appendChild(e)}},{key:"_setEventListeners",value:function(i,e,r){var s=this,t=[],n=[];e.forEach(function(e){"hover"===e?(t.push("mouseenter"),n.push("mouseleave")):"focus"===e?(t.push("focus"),n.push("blur")):"click"===e&&(t.push("click"),n.push("click"))}),t.forEach(function(e){var t=function(e){!0===s._isOpening||(e.usedByTooltip=!0,s._scheduleShow(i,r.delay,r,e))};s._events.push({event:e,func:t}),i.addEventListener(e,t)}),n.forEach(function(e){var n=function(e){!0===e.usedByTooltip||s._scheduleHide(i,r.delay,r,e)};s._events.push({event:e,func:n}),i.addEventListener(e,n),"click"===e&&r.closeOnClickOutside&&document.addEventListener("mousedown",function(e){if(s._isOpening){var t=s.popperInstance.popper;i.contains(e.target)||t.contains(e.target)||n(e)}},!0)})}},{key:"_scheduleShow",value:function(e,t,n){var i=this;this._isOpening=!0;var r=t&&t.show||t||0;this._showTimeout=window.setTimeout(function(){return i._show(e,n)},r)}},{key:"_scheduleHide",value:function(e,t,n,i){var r=this;this._isOpening=!1;var s=t&&t.hide||t||0;window.setTimeout(function(){if(window.clearTimeout(r._showTimeout),!1!==r._isOpen&&document.body.contains(r._tooltipNode)){if("mouseleave"===i.type&&r._setTooltipNodeEvent(i,e,t,n))return;r._hide(e,n)}},s)}},{key:"_updateTitleContent",value:function(e){if(void 0!==this._tooltipNode){var t=this._tooltipNode.parentNode.querySelector(this.options.innerSelector);this._clearTitleContent(t,this.options.html,this.reference.getAttribute("title")||this.options.title),this._addTitleContent(this.reference,e,this.options.html,t),this.options.title=e,this.popperInstance.update()}else void 0!==this.options.title&&(this.options.title=e)}},{key:"_clearTitleContent",value:function(e,t,n){1===n.nodeType||11===n.nodeType?t&&e.removeChild(n):t?e.innerHTML="":e.textContent=""}}]),i}(),a=function(){var o=this;this.show=function(){return o._show(o.reference,o.options)},this.hide=function(){return o._hide()},this.dispose=function(){return o._dispose()},this.toggle=function(){return o._isOpen?o.hide():o.show()},this.updateTitleContent=function(e){return o._updateTitleContent(e)},this._events=[],this._setTooltipNodeEvent=function(i,r,e,s){var t=i.relatedreference||i.toElement||i.relatedTarget;return!!o._tooltipNode.contains(t)&&(o._tooltipNode.addEventListener(i.type,function e(t){var n=t.relatedreference||t.toElement||t.relatedTarget;o._tooltipNode.removeEventListener(i.type,e),r.contains(n)||o._scheduleHide(r,s.delay,s,t)}),!0)}};return t},"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("popper.js")):"function"==typeof define&&define.amd?define(["popper.js"],r):i.Tooltip=r(i.Popper),e=this,t=function(){"use strict";function m(e){return getComputedStyle(e)}function u(e,t){for(var n in t){var i=t[n];"number"==typeof i&&(i+="px"),e.style[n]=i}return e}function f(e){var t=document.createElement("div");return t.className=e,t}var n="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function a(e,t){if(!n)throw new Error("No element matching method supported");return n.call(e,t)}function i(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function r(e,t){return Array.prototype.filter.call(e.children,function(e){return a(e,t)})}var v={main:"ps",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},s={x:null,y:null};function y(e,t){var n=e.element.classList,i=v.state.scrolling(t);n.contains(i)?clearTimeout(s[t]):n.add(i)}function b(e,t){s[t]=setTimeout(function(){return e.isAlive&&e.element.classList.remove(v.state.scrolling(t))},e.settings.scrollingThreshold)}var o=function(e){this.element=e,this.handlers={}},e={isEmpty:{configurable:!0}};o.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},o.prototype.unbind=function(t,n){var i=this;this.handlers[t]=this.handlers[t].filter(function(e){return!(!n||e===n)||(i.element.removeEventListener(t,e,!1),!1)})},o.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},e.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return 0===t.handlers[e].length})},Object.defineProperties(o.prototype,e);var p=function(){this.eventElements=[]};function g(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}p.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return e||(e=new o(t),this.eventElements.push(e)),e},p.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},p.prototype.unbind=function(e,t,n){var i=this.eventElement(e);i.unbind(t,n),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)},p.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]},p.prototype.once=function(e,t,n){var i=this.eventElement(e),r=function(e){i.unbind(t,r),n(e)};i.bind(t,r)};var t=function(e,t,n,i,r){var s;if(void 0===i&&(i=!0),void 0===r&&(r=!1),"top"===t)s=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");s=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,n,i,r){var s=n[0],o=n[1],a=n[2],l=n[3],c=n[4],d=n[5];void 0===i&&(i=!0),void 0===r&&(r=!1);var h,u,f=e.element;e.reach[l]=null,f[a]<1&&(e.reach[l]="start"),f[a]>e[s]-e[o]-1&&(e.reach[l]="end"),t&&(f.dispatchEvent(g("ps-scroll-"+l)),t<0?f.dispatchEvent(g("ps-scroll-"+c)):0<t&&f.dispatchEvent(g("ps-scroll-"+d)),i&&(y(h=e,u=l),b(h,u))),e.reach[l]&&(t||r)&&f.dispatchEvent(g("ps-"+l+"-reach-"+e.reach[l]))}(e,n,s,i,r)};function _(e){return parseInt(e,10)||0}var w={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},k=function(e){var t=e.element,n=Math.floor(t.scrollTop);e.containerWidth=t.clientWidth,e.containerHeight=t.clientHeight,e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(r(t,v.element.rail("x")).forEach(function(e){return i(e)}),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(r(t,v.element.rail("y")).forEach(function(e){return i(e)}),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=l(e,_(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=_((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=l(e,_(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=_(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var n={width:t.railXWidth},i=Math.floor(e.scrollTop);t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-i:n.top=t.scrollbarXTop+i,u(t.scrollbarXRail,n);var r={top:i,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?r.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:r.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?r.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:r.left=t.scrollbarYLeft+e.scrollLeft,u(t.scrollbarYRail,r),u(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),u(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(v.state.active("x")):(t.classList.remove(v.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=0),e.scrollbarYActive?t.classList.add(v.state.active("y")):(t.classList.remove(v.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)};function l(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function c(t,e){var n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=t.element,u=null,f=null,p=null;function g(e){h[l]=u+p*(e[r]-f),y(t,c),k(t),e.stopPropagation(),e.preventDefault()}function _(){b(t,c),t[d].classList.remove(v.state.clicking),t.event.unbind(t.ownerDocument,"mousemove",g)}t.event.bind(t[o],"mousedown",function(e){u=h[l],f=e[r],p=(t[i]-t[n])/(t[s]-t[a]),t.event.bind(t.ownerDocument,"mousemove",g),t.event.once(t.ownerDocument,"mouseup",_),t[d].classList.add(v.state.clicking),e.stopPropagation(),e.preventDefault()})}var j={"click-rail":function(n){n.event.bind(n.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),n.event.bind(n.scrollbarYRail,"mousedown",function(e){var t=e.pageY-window.pageYOffset-n.scrollbarYRail.getBoundingClientRect().top>n.scrollbarYTop?1:-1;n.element.scrollTop+=t*n.containerHeight,k(n),e.stopPropagation()}),n.event.bind(n.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),n.event.bind(n.scrollbarXRail,"mousedown",function(e){var t=e.pageX-window.pageXOffset-n.scrollbarXRail.getBoundingClientRect().left>n.scrollbarXLeft?1:-1;n.element.scrollLeft+=t*n.containerWidth,k(n),e.stopPropagation()})},"drag-thumb":function(e){c(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),c(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(s){var o=s.element;s.event.bind(s.ownerDocument,"keydown",function(e){if(!(e.isDefaultPrevented&&e.isDefaultPrevented()||e.defaultPrevented)&&(a(o,":hover")||a(s.scrollbarX,":focus")||a(s.scrollbarY,":focus"))){var t,n=document.activeElement?document.activeElement:s.ownerDocument.activeElement;if(n){if("IFRAME"===n.tagName)n=n.contentDocument.activeElement;else for(;n.shadowRoot;)n=n.shadowRoot.activeElement;if(a(t=n,"input,[contenteditable]")||a(t,"select,[contenteditable]")||a(t,"textarea,[contenteditable]")||a(t,"button,[contenteditable]"))return}var i=0,r=0;switch(e.which){case 37:i=e.metaKey?-s.contentWidth:e.altKey?-s.containerWidth:-30;break;case 38:r=e.metaKey?s.contentHeight:e.altKey?s.containerHeight:30;break;case 39:i=e.metaKey?s.contentWidth:e.altKey?s.containerWidth:30;break;case 40:r=e.metaKey?-s.contentHeight:e.altKey?-s.containerHeight:-30;break;case 32:r=e.shiftKey?s.containerHeight:-s.containerHeight;break;case 33:r=s.containerHeight;break;case 34:r=-s.containerHeight;break;case 36:r=s.contentHeight;break;case 35:r=-s.contentHeight;break;default:return}s.settings.suppressScrollX&&0!==i||s.settings.suppressScrollY&&0!==r||(o.scrollTop-=r,o.scrollLeft+=i,k(s),function(e,t){var n=Math.floor(o.scrollTop);if(0===e){if(!s.scrollbarYActive)return!1;if(0===n&&0<t||n>=s.contentHeight-s.containerHeight&&t<0)return!s.settings.wheelPropagation}var i=o.scrollLeft;if(0===t){if(!s.scrollbarXActive)return!1;if(0===i&&e<0||i>=s.contentWidth-s.containerWidth&&0<e)return!s.settings.wheelPropagation}return!0}(i,r)&&e.preventDefault())}})},wheel:function(g){var _=g.element;function e(e){var t,n,i,r,s,o,a,l,c,d,h=(n=(t=e).deltaX,i=-1*t.deltaY,void 0!==n&&void 0!==i||(n=-1*t.wheelDeltaX/6,i=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(n*=10,i*=10),n!=n&&i!=i&&(n=0,i=t.wheelDelta),t.shiftKey?[-i,-n]:[n,i]),u=h[0],f=h[1];if(!function(e,t,n){if(!w.isWebKit&&_.querySelector("select:focus"))return!0;if(!_.contains(e))return!1;for(var i=e;i&&i!==_;){if(i.classList.contains(v.element.consuming))return!0;var r=m(i);if([r.overflow,r.overflowX,r.overflowY].join("").match(/(scroll|auto)/)){var s=i.scrollHeight-i.clientHeight;if(0<s&&!(0===i.scrollTop&&0<n||i.scrollTop===s&&n<0))return!0;var o=i.scrollWidth-i.clientWidth;if(0<o&&!(0===i.scrollLeft&&t<0||i.scrollLeft===o&&0<t))return!0}i=i.parentNode}return!1}(e.target,u,f)){var p=!1;g.settings.useBothWheelAxes?g.scrollbarYActive&&!g.scrollbarXActive?(f?_.scrollTop-=f*g.settings.wheelSpeed:_.scrollTop+=u*g.settings.wheelSpeed,p=!0):g.scrollbarXActive&&!g.scrollbarYActive&&(u?_.scrollLeft+=u*g.settings.wheelSpeed:_.scrollLeft-=f*g.settings.wheelSpeed,p=!0):(_.scrollTop-=f*g.settings.wheelSpeed,_.scrollLeft+=u*g.settings.wheelSpeed),k(g),(p=p||(r=u,s=f,o=Math.floor(_.scrollTop),a=0===_.scrollTop,l=o+_.offsetHeight===_.scrollHeight,c=0===_.scrollLeft,d=_.scrollLeft+_.offsetWidth===_.scrollWidth,!(Math.abs(s)>Math.abs(r)?a||l:c||d)||!g.settings.wheelPropagation))&&!e.ctrlKey&&(e.stopPropagation(),e.preventDefault())}}void 0!==window.onwheel?g.event.bind(_,"wheel",e):void 0!==window.onmousewheel&&g.event.bind(_,"mousewheel",e)},touch:function(a){if(w.supportsTouch||w.supportsIePointer){var l=a.element,c={},d=0,h={},n=null;w.supportsTouch?(a.event.bind(l,"touchstart",e),a.event.bind(l,"touchmove",t),a.event.bind(l,"touchend",i)):w.supportsIePointer&&(window.PointerEvent?(a.event.bind(l,"pointerdown",e),a.event.bind(l,"pointermove",t),a.event.bind(l,"pointerup",i)):window.MSPointerEvent&&(a.event.bind(l,"MSPointerDown",e),a.event.bind(l,"MSPointerMove",t),a.event.bind(l,"MSPointerUp",i)))}function u(e,t){l.scrollTop-=t,l.scrollLeft-=e,k(a)}function f(e){return e.targetTouches?e.targetTouches[0]:e}function p(e){return!(e.pointerType&&"pen"===e.pointerType&&0===e.buttons||(!e.targetTouches||1!==e.targetTouches.length)&&(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function e(e){if(p(e)){var t=f(e);c.pageX=t.pageX,c.pageY=t.pageY,d=(new Date).getTime(),null!==n&&clearInterval(n)}}function t(e){if(p(e)){var t=f(e),n={pageX:t.pageX,pageY:t.pageY},i=n.pageX-c.pageX,r=n.pageY-c.pageY;if(function(e,t,n){if(!l.contains(e))return!1;for(var i=e;i&&i!==l;){if(i.classList.contains(v.element.consuming))return!0;var r=m(i);if([r.overflow,r.overflowX,r.overflowY].join("").match(/(scroll|auto)/)){var s=i.scrollHeight-i.clientHeight;if(0<s&&!(0===i.scrollTop&&0<n||i.scrollTop===s&&n<0))return!0;var o=i.scrollLeft-i.clientWidth;if(0<o&&!(0===i.scrollLeft&&t<0||i.scrollLeft===o&&0<t))return!0}i=i.parentNode}return!1}(e.target,i,r))return;u(i,r),c=n;var s=(new Date).getTime(),o=s-d;0<o&&(h.x=i/o,h.y=r/o,d=s),function(e,t){var n=Math.floor(l.scrollTop),i=l.scrollLeft,r=Math.abs(e),s=Math.abs(t);if(r<s){if(t<0&&n===a.contentHeight-a.containerHeight||0<t&&0===n)return 0===window.scrollY&&0<t&&w.isChrome}else if(s<r&&(e<0&&i===a.contentWidth-a.containerWidth||0<e&&0===i))return!0;return!0}(i,r)&&e.preventDefault()}}function i(){a.settings.swipeEasing&&(clearInterval(n),n=setInterval(function(){a.isInitialized?clearInterval(n):h.x||h.y?Math.abs(h.x)<.01&&Math.abs(h.y)<.01?clearInterval(n):(u(30*h.x,30*h.y),h.x*=.8,h.y*=.8):clearInterval(n)},10))}}},d=function(e,t){var n=this;if(void 0===t&&(t={}),"string"==typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var i in(this.element=e).classList.add(v.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)n.settings[i]=t[i];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var r,s,o=function(){return e.classList.add(v.state.focus)},a=function(){return e.classList.remove(v.state.focus)};this.isRtl="rtl"===m(e).direction,this.isNegativeScroll=(s=e.scrollLeft,e.scrollLeft=-1,r=e.scrollLeft<0,e.scrollLeft=s,r),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new p,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=f(v.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=f(v.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",o),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var l=m(this.scrollbarXRail);this.scrollbarXBottom=parseInt(l.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=_(l.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=_(l.borderLeftWidth)+_(l.borderRightWidth),u(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=_(l.marginLeft)+_(l.marginRight),u(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=f(v.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=f(v.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",o),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var c,d,h=m(this.scrollbarYRail);this.scrollbarYRight=parseInt(h.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=_(h.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?(c=this.scrollbarY,_((d=m(c)).width)+_(d.paddingLeft)+_(d.paddingRight)+_(d.borderLeftWidth)+_(d.borderRightWidth)):null,this.railBorderYWidth=_(h.borderTopWidth)+_(h.borderBottomWidth),u(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=_(h.marginTop)+_(h.marginBottom),u(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(e){return j[e](n)}),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",function(e){return n.onScroll(e)}),k(this)};return d.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,u(this.scrollbarXRail,{display:"block"}),u(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=_(m(this.scrollbarXRail).marginLeft)+_(m(this.scrollbarXRail).marginRight),this.railYMarginHeight=_(m(this.scrollbarYRail).marginTop)+_(m(this.scrollbarYRail).marginBottom),u(this.scrollbarXRail,{display:"none"}),u(this.scrollbarYRail,{display:"none"}),k(this),t(this,"top",0,!1,!0),t(this,"left",0,!1,!0),u(this.scrollbarXRail,{display:""}),u(this.scrollbarYRail,{display:""}))},d.prototype.onScroll=function(e){this.isAlive&&(k(this),t(this,"top",this.element.scrollTop-this.lastScrollTop),t(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},d.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),i(this.scrollbarX),i(this.scrollbarY),i(this.scrollbarXRail),i(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},d.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")},d},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.PerfectScrollbar=t(),function(){"use strict";function e(D){D.fn._fadeIn=D.fn.fadeIn;var I=D.noop||function(){},N=/MSIE/.test(navigator.userAgent),L=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),$=(document.documentMode,D.isFunction(document.createElement("div").style.setExpression));D.blockUI=function(e){n(window,e)},D.unblockUI=function(e){M(window,e)},D.growlUI=function(e,t,n,i){var r=D('<div class="growlUI"></div>');e&&r.append("<h1>"+e+"</h1>"),t&&r.append("<h2>"+t+"</h2>"),void 0===n&&(n=3e3);var s=function(e){e=e||{},D.blockUI({message:r,fadeIn:void 0!==e.fadeIn?e.fadeIn:700,fadeOut:void 0!==e.fadeOut?e.fadeOut:1e3,timeout:void 0!==e.timeout?e.timeout:n,centerY:!1,showOverlay:!1,onUnblock:i,css:D.blockUI.defaults.growlCSS})};s(),r.css("opacity"),r.mouseover(function(){s({fadeIn:0,timeout:3e4});var e=D(".blockMsg");e.stop(),e.fadeTo(300,1)}).mouseout(function(){D(".blockMsg").fadeOut(1e3)})},D.fn.block=function(e){if(this[0]===window)return D.blockUI(e),this;var t=D.extend({},D.blockUI.defaults,e||{});return this.each(function(){var e=D(this);t.ignoreIfBlocked&&e.data("blockUI.isBlocked")||e.unblock({fadeOut:0})}),this.each(function(){"static"==D.css(this,"position")&&(this.style.position="relative",D(this).data("blockUI.static",!0)),this.style.zoom=1,n(this,e)})},D.fn.unblock=function(e){return this[0]===window?(D.unblockUI(e),this):this.each(function(){M(this,e)})},D.blockUI.version=2.7,D.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var P=null,H=[];function n(e,r){var t,n,i,s,o,a,l,c,d,h=e==window,u=r&&void 0!==r.message?r.message:void 0;if(!(r=D.extend({},D.blockUI.defaults,r||{})).ignoreIfBlocked||!D(e).data("blockUI.isBlocked")){if(r.overlayCSS=D.extend({},D.blockUI.defaults.overlayCSS,r.overlayCSS||{}),t=D.extend({},D.blockUI.defaults.css,r.css||{}),r.onOverlayClick&&(r.overlayCSS.cursor="pointer"),n=D.extend({},D.blockUI.defaults.themedCSS,r.themedCSS||{}),u=void 0===u?r.message:u,h&&P&&M(window,{fadeOut:0}),u&&"string"!=typeof u&&(u.parentNode||u.jquery)){var f=u.jquery?u[0]:u,p={};D(e).data("blockUI.history",p),p.el=f,p.parent=f.parentNode,p.display=f.style.display,p.position=f.style.position,p.parent&&p.parent.removeChild(f)}D(e).data("blockUI.onUnblock",r.onUnblock);var g,_,m,v,y=r.baseZ;g=N||r.forceIframe?D('<iframe class="blockUI" style="z-index:'+y+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+r.iframeSrc+'"></iframe>'):D('<div class="blockUI" style="display:none"></div>'),_=r.theme?D('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+y+++';display:none"></div>'):D('<div class="blockUI blockOverlay" style="z-index:'+y+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),r.theme&&h?(v='<div class="blockUI '+r.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(y+10)+';display:none;position:fixed">',r.title&&(v+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(r.title||"&nbsp;")+"</div>"),v+='<div class="ui-widget-content ui-dialog-content"></div>',v+="</div>"):r.theme?(v='<div class="blockUI '+r.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(y+10)+';display:none;position:absolute">',r.title&&(v+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(r.title||"&nbsp;")+"</div>"),v+='<div class="ui-widget-content ui-dialog-content"></div>',v+="</div>"):v=h?'<div class="blockUI '+r.blockMsgClass+' blockPage" style="z-index:'+(y+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+r.blockMsgClass+' blockElement" style="z-index:'+(y+10)+';display:none;position:absolute"></div>',m=D(v),u&&(r.theme?(m.css(n),m.addClass("ui-widget-content")):m.css(t)),r.theme||_.css(r.overlayCSS),_.css("position",h?"fixed":"absolute"),(N||r.forceIframe)&&g.css("opacity",0);var b=[g,_,m],w=D(h?"body":e);D.each(b,function(){this.appendTo(w)}),r.theme&&r.draggable&&D.fn.draggable&&m.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var k=$&&(!D.support.boxModel||0<D("object,embed",h?null:e).length);if(L||k){if(h&&r.allowBodyStretch&&D.support.boxModel&&D("html,body").css("height","100%"),(L||!D.support.boxModel)&&!h)var j=U(e,"borderTopWidth"),x=U(e,"borderLeftWidth"),E=j?"(0 - "+j+")":0,C=x?"(0 - "+x+")":0;D.each(b,function(e,t){var n=t[0].style;if(n.position="absolute",e<2)h?n.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+r.quirksmodeOffsetHack+') + "px"'):n.setExpression("height",'this.parentNode.offsetHeight + "px"'),h?n.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):n.setExpression("width",'this.parentNode.offsetWidth + "px"'),C&&n.setExpression("left",C),E&&n.setExpression("top",E);else if(r.centerY)h&&n.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),n.marginTop=0;else if(!r.centerY&&h){var i="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(r.css&&r.css.top?parseInt(r.css.top,10):0)+') + "px"';n.setExpression("top",i)}})}if(u&&(r.theme?m.find(".ui-widget-content").append(u):m.append(u),(u.jquery||u.nodeType)&&D(u).show()),(N||r.forceIframe)&&r.showOverlay&&g.show(),r.fadeIn){var T=r.onBlock?r.onBlock:I,S=r.showOverlay&&!u?T:I,A=u?T:I;r.showOverlay&&_._fadeIn(r.fadeIn,S),u&&m._fadeIn(r.fadeIn,A)}else r.showOverlay&&_.show(),u&&m.show(),r.onBlock&&r.onBlock.bind(m)();if(q(1,e,r),h?(P=m[0],H=D(r.focusableElements,P),r.focusInput&&setTimeout(R,20)):(i=m[0],s=r.centerX,o=r.centerY,a=i.parentNode,l=i.style,c=(a.offsetWidth-i.offsetWidth)/2-U(a,"borderLeftWidth"),d=(a.offsetHeight-i.offsetHeight)/2-U(a,"borderTopWidth"),s&&(l.left=0<c?c+"px":"0"),o&&(l.top=0<d?d+"px":"0")),r.timeout){var O=setTimeout(function(){h?D.unblockUI(r):D(e).unblock(r)},r.timeout);D(e).data("blockUI.timeout",O)}}}function M(e,t){var n,i,r=e==window,s=D(e),o=s.data("blockUI.history"),a=s.data("blockUI.timeout");a&&(clearTimeout(a),s.removeData("blockUI.timeout")),t=D.extend({},D.blockUI.defaults,t||{}),q(0,e,t),null===t.onUnblock&&(t.onUnblock=s.data("blockUI.onUnblock"),s.removeData("blockUI.onUnblock")),i=r?D("body").children().filter(".blockUI").add("body > .blockUI"):s.find(">.blockUI"),t.cursorReset&&(1<i.length&&(i[1].style.cursor=t.cursorReset),2<i.length&&(i[2].style.cursor=t.cursorReset)),r&&(P=H=null),t.fadeOut?(n=i.length,i.stop().fadeOut(t.fadeOut,function(){0==--n&&l(i,o,t,e)})):l(i,o,t,e)}function l(e,t,n,i){var r=D(i);if(!r.data("blockUI.isBlocked")){e.each(function(e,t){this.parentNode&&this.parentNode.removeChild(this)}),t&&t.el&&(t.el.style.display=t.display,t.el.style.position=t.position,t.el.style.cursor="default",t.parent&&t.parent.appendChild(t.el),r.removeData("blockUI.history")),r.data("blockUI.static")&&r.css("position","static"),"function"==typeof n.onUnblock&&n.onUnblock(i,n);var s=D(document.body),o=s.width(),a=s[0].style.width;s.width(o-1).width(o),s[0].style.width=a}}function q(e,t,n){var i=t==window,r=D(t);if((e||(!i||P)&&(i||r.data("blockUI.isBlocked")))&&(r.data("blockUI.isBlocked",e),i&&n.bindEvents&&(!e||n.showOverlay))){var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";e?D(document).bind(s,n,o):D(document).unbind(s,o)}}function o(e){if("keydown"===e.type&&e.keyCode&&9==e.keyCode&&P&&e.data.constrainTabKey){var t=H,n=!e.shiftKey&&e.target===t[t.length-1],i=e.shiftKey&&e.target===t[0];if(n||i)return setTimeout(function(){R(i)},10),!1}var r=e.data,s=D(e.target);return s.hasClass("blockOverlay")&&r.onOverlayClick&&r.onOverlayClick(e),0<s.parents("div."+r.blockMsgClass).length||0===s.parents().children().filter("div.blockUI").length}function R(e){if(H){var t=H[!0===e?H.length-1:0];t&&t.focus()}}function U(e,t){return parseInt(D.css(e,t),10)||0}}"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(),n=function(i){var e=function(){if(i&&i.fn&&i.fn.select2&&i.fn.select2.amd)var e=i.fn.select2.amd;var t,r,c,n;return e&&e.requirejs||(e?r=e:e={},function(f){var s,o,p,g,_={},m={},v={},y={},n=Object.prototype.hasOwnProperty,i=[].slice,b=/\.js$/;function w(e,t){return n.call(e,t)}function a(e,t){var n,i,r,s,o,a,l,c,d,h,u,f=t&&t.split("/"),p=v.map,g=p&&p["*"]||{};if(e){for(o=(e=e.split("/")).length-1,v.nodeIdCompat&&b.test(e[o])&&(e[o]=e[o].replace(b,"")),"."===e[0].charAt(0)&&f&&(e=f.slice(0,f.length-1).concat(e)),d=0;d<e.length;d++)if("."===(u=e[d]))e.splice(d,1),d-=1;else if(".."===u){if(0===d||1===d&&".."===e[2]||".."===e[d-1])continue;0<d&&(e.splice(d-1,2),d-=2)}e=e.join("/")}if((f||g)&&p){for(d=(n=e.split("/")).length;0<d;d-=1){if(i=n.slice(0,d).join("/"),f)for(h=f.length;0<h;h-=1)if((r=p[f.slice(0,h).join("/")])&&(r=r[i])){s=r,a=d;break}if(s)break;!l&&g&&g[i]&&(l=g[i],c=d)}!s&&l&&(s=l,a=c),s&&(n.splice(0,a,s),e=n.join("/"))}return e}function k(t,n){return function(){var e=i.call(arguments,0);return"string"!=typeof e[0]&&1===e.length&&e.push(null),o.apply(f,e.concat([t,n]))}}function j(t){return function(e){_[t]=e}}function x(e){if(w(m,e)){var t=m[e];delete m[e],y[e]=!0,s.apply(f,t)}if(!w(_,e)&&!w(y,e))throw new Error("No "+e);return _[e]}function l(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function E(e){return e?l(e):[]}p=function(e,t){var n,i,r=l(e),s=r[0],o=t[1];return e=r[1],s&&(n=x(s=a(s,o))),s?e=n&&n.normalize?n.normalize(e,(i=o,function(e){return a(e,i)})):a(e,o):(s=(r=l(e=a(e,o)))[0],e=r[1],s&&(n=x(s))),{f:s?s+"!"+e:e,n:e,pr:s,p:n}},g={require:function(e){return k(e)},exports:function(e){var t=_[e];return void 0!==t?t:_[e]={}},module:function(e){return{id:e,uri:"",exports:_[e],config:(t=e,function(){return v&&v.config&&v.config[t]||{}})};var t}},s=function(e,t,n,i){var r,s,o,a,l,c,d,h=[],u=typeof n;if(c=E(i=i||e),"undefined"===u||"function"===u){for(t=!t.length&&n.length?["require","exports","module"]:t,l=0;l<t.length;l+=1)if("require"===(s=(a=p(t[l],c)).f))h[l]=g.require(e);else if("exports"===s)h[l]=g.exports(e),d=!0;else if("module"===s)r=h[l]=g.module(e);else if(w(_,s)||w(m,s)||w(y,s))h[l]=x(s);else{if(!a.p)throw new Error(e+" missing "+s);a.p.load(a.n,k(i,!0),j(s),{}),h[l]=_[s]}o=n?n.apply(_[e],h):void 0,e&&(r&&r.exports!==f&&r.exports!==_[e]?_[e]=r.exports:o===f&&d||(_[e]=o))}else e&&(_[e]=n)},t=r=o=function(e,t,n,i,r){if("string"==typeof e)return g[e]?g[e](t):x(p(e,E(t)).f);if(!e.splice){if((v=e).deps&&o(v.deps,v.callback),!t)return;t.splice?(e=t,t=n,n=null):e=f}return t=t||function(){},"function"==typeof n&&(n=i,i=r),i?s(f,e,t,n):setTimeout(function(){s(f,e,t,n)},4),o},o.config=function(e){return o(e)},t._defined=_,(c=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),w(_,e)||w(m,e)||(m[e]=[e,t,n])}).amd={jQuery:!0}}(),e.requirejs=t,e.require=r,e.define=c),e.define("almond",function(){}),e.define("jquery",[],function(){var e=i||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(s){var r={};function d(e){var t=e.prototype,n=[];for(var i in t)"function"==typeof t[i]&&"constructor"!==i&&n.push(i);return n}r.Extend=function(e,t){var n={}.hasOwnProperty;function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},r.Decorate=function(i,r){var e=d(r),t=d(i);function s(){var e=Array.prototype.unshift,t=r.prototype.constructor.length,n=i.prototype.constructor;0<t&&(e.call(arguments,i.prototype.constructor),n=r.prototype.constructor),n.apply(this,arguments)}r.displayName=i.displayName,s.prototype=new function(){this.constructor=s};for(var n=0;n<t.length;n++){var o=t[n];s.prototype[o]=i.prototype[o]}for(var a=function(e){var t=function(){};e in s.prototype&&(t=s.prototype[e]);var n=r.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),n.apply(this,arguments)}},l=0;l<e.length;l++){var c=e[l];s.prototype[c]=a(c)}return s};var e=function(){this.listeners={}};e.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},e.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=e)in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},e.prototype.invoke=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].apply(this,t)},r.Observable=e,r.generateChars=function(e){for(var t="",n=0;n<e;n++)t+=Math.floor(36*Math.random()).toString(36);return t},r.bind=function(e,t){return function(){e.apply(t,arguments)}},r._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var r=0;r<n.length;r++){var s=n[r];(s=s.substring(0,1).toLowerCase()+s.substring(1))in i||(i[s]={}),r==n.length-1&&(i[s]=e[t]),i=i[s]}delete e[t]}}return e},r.hasScroll=function(e,t){var n=s(t),i=t.style.overflowX,r=t.style.overflowY;return(i!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===i||"scroll"===r||n.innerHeight()<t.scrollHeight||n.innerWidth()<t.scrollWidth)},r.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},r.appendMany=function(e,t){if("1.7"===s.fn.jquery.substr(0,3)){var n=s();s.map(t,function(e){n=n.add(e)}),t=n}e.append(t)},r.__cache={};var n=0;return r.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(e.id?(t=e.id,e.setAttribute("data-select2-id",t)):(e.setAttribute("data-select2-id",++n),t=n.toString())),t},r.StoreData=function(e,t,n){var i=r.GetUniqueElementId(e);r.__cache[i]||(r.__cache[i]={}),r.__cache[i][t]=n},r.GetData=function(e,t){var n=r.GetUniqueElementId(e);return t?r.__cache[n]&&null!=r.__cache[n][t]?r.__cache[n][t]:s(e).data(t):r.__cache[n]},r.RemoveData=function(e){var t=r.GetUniqueElementId(e);null!=r.__cache[t]&&delete r.__cache[t]},r}),e.define("select2/results",["jquery","./utils"],function(u,f){function i(e,t,n){this.$element=e,this.data=n,this.options=t,i.__super__.constructor.call(this)}return f.Extend(i,f.Observable),i.prototype.render=function(){var e=u('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var t=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=u('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),i=this.options.get("translations").get(e.message);n.append(t(i(e.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],r=this.option(i);t.push(r)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(e,t){t.find(".select2-results").append(e)},i.prototype.sort=function(e){return this.options.get("sorter")(e)},i.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");0<t.length?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var t=this;this.data.current(function(e){var i=u.map(e,function(e){return e.id.toString()});t.$results.find(".select2-results__option[aria-selected]").each(function(){var e=u(this),t=f.GetData(this,"data"),n=""+t.id;null!=t.element&&t.element.selected||null==t.element&&-1<u.inArray(n,i)?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},i.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},n=this.option(t);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(e){var t=document.createElement("li");t.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};for(var i in e.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==e.id&&delete n["aria-selected"],null!=e._resultId&&(t.id=e._resultId),e.title&&(t.title=e.title),e.children&&(n.role="group",n["aria-label"]=e.text,delete n["aria-selected"]),n){var r=n[i];t.setAttribute(i,r)}if(e.children){var s=u(t),o=document.createElement("strong");o.className="select2-results__group",u(o),this.template(e,o);for(var a=[],l=0;l<e.children.length;l++){var c=e.children[l],d=this.option(c);a.push(d)}var h=u("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});h.append(a),s.append(o),s.append(h)}else this.template(e,t);return f.StoreData(t,"data",e),t},i.prototype.bind=function(t,e){var l=this,n=t.id+"-results";this.$results.attr("id",n),t.on("results:all",function(e){l.clear(),l.append(e.data),t.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),t.on("results:append",function(e){l.append(e.data),t.isOpen()&&l.setClasses()}),t.on("query",function(e){l.hideMessages(),l.showLoading(e)}),t.on("select",function(){t.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),t.on("unselect",function(){t.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),t.on("open",function(){l.$results.attr("aria-expanded","true"),l.$results.attr("aria-hidden","false"),l.setClasses(),l.ensureHighlightVisible()}),t.on("close",function(){l.$results.attr("aria-expanded","false"),l.$results.attr("aria-hidden","true"),l.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=l.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=l.getHighlightedResults();if(0!==e.length){var t=f.GetData(e[0],"data");"true"==e.attr("aria-selected")?l.trigger("close",{}):l.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=l.getHighlightedResults(),t=l.$results.find("[aria-selected]"),n=t.index(e);if(!(n<=0)){var i=n-1;0===e.length&&(i=0);var r=t.eq(i);r.trigger("mouseenter");var s=l.$results.offset().top,o=r.offset().top,a=l.$results.scrollTop()+(o-s);0===i?l.$results.scrollTop(0):o-s<0&&l.$results.scrollTop(a)}}),t.on("results:next",function(){var e=l.getHighlightedResults(),t=l.$results.find("[aria-selected]"),n=t.index(e)+1;if(!(n>=t.length)){var i=t.eq(n);i.trigger("mouseenter");var r=l.$results.offset().top+l.$results.outerHeight(!1),s=i.offset().top+i.outerHeight(!1),o=l.$results.scrollTop()+s-r;0===n?l.$results.scrollTop(0):r<s&&l.$results.scrollTop(o)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){l.displayMessage(e)}),u.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=l.$results.scrollTop(),n=l.$results.get(0).scrollHeight-t+e.deltaY,i=0<e.deltaY&&t-e.deltaY<=0,r=e.deltaY<0&&n<=l.$results.height();i?(l.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):r&&(l.$results.scrollTop(l.$results.get(0).scrollHeight-l.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var t=u(this),n=f.GetData(this,"data");"true"!==t.attr("aria-selected")?l.trigger("select",{originalEvent:e,data:n}):l.options.get("multiple")?l.trigger("unselect",{originalEvent:e,data:n}):l.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var t=f.GetData(this,"data");l.getHighlightedResults().removeClass("select2-results__option--highlighted"),l.trigger("results:focus",{data:t,element:u(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),n=this.$results.offset().top,i=e.offset().top,r=this.$results.scrollTop()+(i-n),s=i-n;r-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(s>this.$results.outerHeight()||s<0)&&this.$results.scrollTop(r)}},i.prototype.template=function(e,t){var n=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),r=n(e,t);null==r?t.style.display="none":"string"==typeof r?t.innerHTML=i(r):u(t).append(r)},i}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(n,i,r){function s(e,t){this.$element=e,this.options=t,s.__super__.constructor.call(this)}return i.Extend(s,i.Observable),s.prototype.render=function(){var e=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=i.GetData(this.$element[0],"old-tabindex")?this._tabindex=i.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e},s.prototype.bind=function(e,t){var n=this,i=(e.id,e.id+"-results");this.container=e,this.$selection.on("focus",function(e){n.trigger("focus",e)}),this.$selection.on("blur",function(e){n._handleBlur(e)}),this.$selection.on("keydown",function(e){n.trigger("keypress",e),e.which===r.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){n.update(e.data)}),e.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",i),n._attachCloseHandler(e)}),e.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),window.setTimeout(function(){n.$selection.focus()},0),n._detachCloseHandler(e)}),e.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),e.on("disable",function(){n.$selection.attr("tabindex","-1")})},s.prototype._handleBlur=function(e){var t=this;window.setTimeout(function(){document.activeElement==t.$selection[0]||n.contains(t.$selection[0],document.activeElement)||t.trigger("blur",e)},1)},s.prototype._attachCloseHandler=function(e){n(document.body).on("mousedown.select2."+e.id,function(e){var t=n(e.target).closest(".select2");n(".select2.select2-container--open").each(function(){n(this),this!=t[0]&&i.GetData(this,"element").select2("close")})})},s.prototype._detachCloseHandler=function(e){n(document.body).off("mousedown.select2."+e.id)},s.prototype.position=function(e,t){t.find(".selection").append(e)},s.prototype.destroy=function(){this._detachCloseHandler(this.container)},s.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},s}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,i){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},r.prototype.bind=function(t,e){var n=this;r.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),t.on("focus",function(e){t.isOpen()||n.$selection.focus()})},r.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},r.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},r.prototype.selectionContainer=function(){return e("<span></span>")},r.prototype.update=function(e){if(0!==e.length){var t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(t,n);n.empty().append(i),n.attr("title",t.title||t.text)}else this.clear()},r}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(r,e,a){function n(e,t){n.__super__.constructor.apply(this,arguments)}return a.Extend(n,e),n.prototype.render=function(){var e=n.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},n.prototype.bind=function(e,t){var i=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){i.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!i.options.get("disabled")){var t=r(this).parent(),n=a.GetData(t[0],"data");i.trigger("unselect",{originalEvent:e,data:n})}})},n.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},n.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},n.prototype.selectionContainer=function(){return r('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},n.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=this.selectionContainer(),s=this.display(i,r);r.append(s),r.attr("title",i.title||i.text),a.StoreData(r[0],"data",i),t.push(r)}var o=this.$selection.find(".select2-selection__rendered");a.appendMany(o,t)}},n}),e.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||n)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t}),e.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(i,r,a){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){i._handleClear(e)}),t.on("keypress",function(e){i._handleKeyboardClear(e,t)})},e.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();var i=a.GetData(n[0],"data"),r=this.$element.val();this.$element.val(this.placeholder.id);var s={data:i};if(this.trigger("clear",s),s.prevented)this.$element.val(r);else{for(var o=0;o<i.length;o++)if(s={data:i[o]},this.trigger("unselect",s),s.prevented)return void this.$element.val(r);this.$element.trigger("change"),this.trigger("toggle",{})}}}},e.prototype._handleKeyboardClear=function(e,t,n){n.isOpen()||t.which!=r.DELETE&&t.which!=r.BACKSPACE||this._handleClear(t)},e.prototype.update=function(e,t){if(e.call(this,t),!(0<this.$selection.find(".select2-selection__placeholder").length||0===t.length)){var n=i('<span class="select2-selection__clear">&times;</span>');a.StoreData(n[0],"data",t),this.$selection.find(".select2-selection__rendered").prepend(n)}},e}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(i,o,a){function e(e,t,n){e.call(this,t,n)}return e.prototype.render=function(e){var t=i('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=t,this.$search=t.find("input");var n=e.call(this);return this._transferTabIndex(),n},e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("open",function(){i.$search.trigger("focus")}),t.on("close",function(){i.$search.val(""),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")}),t.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),t.on("disable",function(){i.$search.prop("disabled",!0)}),t.on("focus",function(e){i.$search.trigger("focus")}),t.on("results:focus",function(e){i.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){i.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){i._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented(),e.which===a.BACKSPACE&&""===i.$search.val()){var t=i.$searchContainer.prev(".select2-selection__choice");if(0<t.length){var n=o.GetData(t[0],"data");i.searchRemoveChoice(n),e.preventDefault()}}});var r=document.documentMode,s=r&&r<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){s?i.$selection.off("input.search input.searchcheck"):i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(s&&"input"===e.type)i.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=a.SHIFT&&t!=a.CTRL&&t!=a.ALT&&t!=a.TAB&&i.handleSearch(e)}})},e.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},e.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},e.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&(this.$element.find("[data-select2-tag]").length?this.$element.focus():this.$search.focus())},e.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},e.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},e.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";e=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").innerWidth():.75*(this.$search.val().length+1)+"em",this.$search.css("width",e)},e}),e.define("select2/selection/eventRelay",["jquery"],function(o){function e(){}return e.prototype.bind=function(e,t,n){var i=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],s=["opening","closing","selecting","unselecting","clearing"];e.call(this,t,n),t.on("*",function(e,t){if(-1!==o.inArray(e,r)){t=t||{};var n=o.Event("select2:"+e,{params:t});i.$element.trigger(n),-1!==o.inArray(e,s)&&(t.prevented=n.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,n){function i(e){this.dict=e||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(e){return this.dict[e]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(e){if(!(e in i._cache)){var t=n(e);i._cache[e]=t}return new i(i._cache[e])},i}),e.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}}),e.define("select2/data/base",["../utils"],function(i){function n(e,t){n.__super__.constructor.call(this)}return i.Extend(n,i.Observable),n.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},n.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},n.prototype.bind=function(e,t){},n.prototype.destroy=function(){},n.prototype.generateResultId=function(e,t){var n=e.id+"-result-";return n+=i.generateChars(4),null!=t.id?n+="-"+t.id.toString():n+="-"+i.generateChars(4),n},n}),e.define("select2/data/select",["./base","../utils","jquery"],function(e,a,l){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return a.Extend(n,e),n.prototype.current=function(e){var n=[],i=this;this.$element.find(":selected").each(function(){var e=l(this),t=i.item(e);n.push(t)}),e(n)},n.prototype.select=function(r){var s=this;if(r.selected=!0,l(r.element).is("option"))return r.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(e){var t=[];(r=[r]).push.apply(r,e);for(var n=0;n<r.length;n++){var i=r[n].id;-1===l.inArray(i,t)&&t.push(i)}s.$element.val(t),s.$element.trigger("change")});else{var e=r.id;this.$element.val(e),this.$element.trigger("change")}},n.prototype.unselect=function(r){var s=this;if(this.$element.prop("multiple")){if(r.selected=!1,l(r.element).is("option"))return r.element.selected=!1,void this.$element.trigger("change");this.current(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].id;i!==r.id&&-1===l.inArray(i,t)&&t.push(i)}s.$element.val(t),s.$element.trigger("change")})}},n.prototype.bind=function(e,t){var n=this;(this.container=e).on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){a.RemoveData(this)})},n.prototype.query=function(i,e){var r=[],s=this;this.$element.children().each(function(){var e=l(this);if(e.is("option")||e.is("optgroup")){var t=s.item(e),n=s.matches(i,t);null!==n&&r.push(n)}}),e({results:r})},n.prototype.addOptions=function(e){a.appendMany(this.$element,e)},n.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup")).label=e.text:void 0!==(t=document.createElement("option")).textContent?t.textContent=e.text:t.innerText=e.text,void 0!==e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var n=l(t),i=this._normalizeItem(e);return i.element=t,a.StoreData(t,"data",i),n},n.prototype.item=function(e){var t={};if(null!=(t=a.GetData(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var n=e.children("option"),i=[],r=0;r<n.length;r++){var s=l(n[r]),o=this.item(s);i.push(o)}t.children=i}return(t=this._normalizeItem(t)).element=e[0],a.StoreData(e[0],"data",t),t},n.prototype._normalizeItem=function(e){return e!==Object(e)&&(e={id:e,text:e}),null!=(e=l.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),l.extend({},{selected:!1,disabled:!1},e)},n.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},n}),e.define("select2/data/array",["./select","../utils","jquery"],function(e,p,g){function i(e,t){var n=t.get("data")||[];i.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return p.Extend(i,e),i.prototype.select=function(n){var e=this.$element.find("option").filter(function(e,t){return t.value==n.id.toString()});0===e.length&&(e=this.option(n),this.addOptions(e)),i.__super__.select.call(this,n)},i.prototype.convertToOptions=function(e){var t=this,n=this.$element.find("option"),i=n.map(function(){return t.item(g(this)).id}).get(),r=[];function s(e){return function(){return g(this).val()==e.id}}for(var o=0;o<e.length;o++){var a=this._normalizeItem(e[o]);if(0<=g.inArray(a.id,i)){var l=n.filter(s(a)),c=this.item(l),d=g.extend(!0,{},a,c),h=this.option(d);l.replaceWith(h)}else{var u=this.option(a);if(a.children){var f=this.convertToOptions(a.children);p.appendMany(u,f)}r.push(u)}}return r},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,s){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){var t={data:function(e){return s.extend({},e,{q:e.term})},transport:function(e,t,n){var i=s.ajax(e);return i.then(t),i.fail(n),i}};return s.extend({},t,e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(n,i){var r=this;null!=this._request&&(s.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var t=s.extend({type:"GET"},this.ajaxOptions);function e(){var e=t.transport(t,function(e){var t=r.processResults(e,n);r.options.get("debug")&&window.console&&console.error&&(t&&t.results&&s.isArray(t.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),i(t)},function(){"status"in e&&(0===e.status||"0"===e.status)||r.trigger("results:message",{message:"errorLoading"})});r._request=e}"function"==typeof t.url&&(t.url=t.url.call(this.$element,n)),"function"==typeof t.data&&(t.data=t.data.call(this.$element,n)),this.ajaxOptions.delay&&null!=n.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(e,this.ajaxOptions.delay)):e()},n}),e.define("select2/data/tags",["jquery"],function(d){function e(e,t,n){var i=n.get("tags"),r=n.get("createTag");void 0!==r&&(this.createTag=r);var s=n.get("insertTag");if(void 0!==s&&(this.insertTag=s),e.call(this,t,n),d.isArray(i))for(var o=0;o<i.length;o++){var a=i[o],l=this._normalizeItem(a),c=this.option(l);this.$element.append(c)}}return e.prototype.query=function(e,c,d){var h=this;this._removeOldTags(),null!=c.term&&null==c.page?e.call(this,c,function e(t,n){for(var i=t.results,r=0;r<i.length;r++){var s=i[r],o=null!=s.children&&!e({results:s.children},!0);if((s.text||"").toUpperCase()===(c.term||"").toUpperCase()||o)return!n&&(t.data=i,void d(t))}if(n)return!0;var a=h.createTag(c);if(null!=a){var l=h.option(a);l.attr("data-select2-tag",!0),h.addOptions([l]),h.insertTag(i,a)}t.results=i,d(t)}):e.call(this,c,d)},e.prototype.createTag=function(e,t){var n=d.trim(t.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(e,t,n){t.unshift(n)},e.prototype._removeOldTags=function(e){this._lastTag,this.$element.find("option[data-select2-tag]").each(function(){this.selected||d(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(h){function e(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,t,n){var r=this;t.term=t.term||"";var i=this.tokenizer(t,this.options,function(e){var t,n=r._normalizeItem(e);if(!r.$element.find("option").filter(function(){return h(this).val()===n.id}).length){var i=r.option(n);i.attr("data-select2-tag",!0),r._removeOldTags(),r.addOptions([i])}t=n,r.trigger("select",{data:t})});i.term!==t.term&&(this.$search.length&&(this.$search.val(i.term),this.$search.focus()),t.term=i.term),e.call(this,t,n)},e.prototype.tokenizer=function(e,t,n,i){for(var r=n.get("tokenSeparators")||[],s=t.term,o=0,a=this.createTag||function(e){return{id:e.term,text:e.term}};o<s.length;){var l=s[o];if(-1!==h.inArray(l,r)){var c=s.substr(0,o),d=a(h.extend({},t,{term:c}));null!=d?(i(d),s=s.substr(o+1)||"",o=0):o++}else o++}return{term:s}},e}),e.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),e.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),e.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(n,i,r){var s=this;this.current(function(e){var t=null!=e?e.length:0;0<s.maximumSelectionLength&&t>=s.maximumSelectionLength?s.trigger("results:message",{message:"maximumSelected",args:{maximum:s.maximumSelectionLength}}):n.call(s,i,r)})},e}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(r,e){function t(){}return t.prototype.render=function(e){var t=e.call(this),n=r('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),t.prepend(n),t},t.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),this.$search.on("keydown",function(e){i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(e){r(this).off("keyup")}),this.$search.on("keyup input",function(e){i.handleSearch(e)}),t.on("open",function(){i.$search.attr("tabindex",0),i.$search.focus(),window.setTimeout(function(){i.$search.focus()},0)}),t.on("close",function(){i.$search.attr("tabindex",-1),i.$search.val(""),i.$search.blur()}),t.on("focus",function(){t.isOpen()||i.$search.focus()}),t.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(i.showSearch(e)?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide"))})},t.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},t.prototype.showSearch=function(e,t){return!0},t}),e.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;0<=i;i--){var r=t[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},e}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(r){function e(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("query",function(e){i.lastParams=e,i.loading=!0}),t.on("query:append",function(e){i.lastParams=e,i.loading=!0}),this.$results.on("scroll",function(){var e=r.contains(document.documentElement,i.$loadingMore[0]);!i.loading&&e&&i.$results.offset().top+i.$results.outerHeight(!1)+50>=i.$loadingMore.offset().top+i.$loadingMore.outerHeight(!1)&&i.loadMore()})},e.prototype.loadMore=function(){this.loading=!0;var e=r.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},e.prototype.createLoadingMore=function(){var e=r('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),t=this.options.get("translations").get("loadingMore");return e.html(t(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(p,a){function e(e,t,n){this.$dropdownParent=n.get("dropdownParent")||p(document.body),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var i=this,r=!1;e.call(this,t,n),t.on("open",function(){i._showDropdown(),i._attachPositioningHandler(t),r||(r=!0,t.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),t.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},e.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},e.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},e.prototype.render=function(e){var t=p("<span></span>"),n=e.call(this);return t.append(n),this.$dropdownContainer=t},e.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},e.prototype._attachPositioningHandler=function(e,t){var n=this,i="scroll.select2."+t.id,r="resize.select2."+t.id,s="orientationchange.select2."+t.id,o=this.$container.parents().filter(a.hasScroll);o.each(function(){a.StoreData(this,"select2-scroll-position",{x:p(this).scrollLeft(),y:p(this).scrollTop()})}),o.on(i,function(e){var t=a.GetData(this,"select2-scroll-position");p(this).scrollTop(t.y)}),p(window).on(i+" "+r+" "+s,function(e){n._positionDropdown(),n._resizeDropdown()})},e.prototype._detachPositioningHandler=function(e,t){var n="scroll.select2."+t.id,i="resize.select2."+t.id,r="orientationchange.select2."+t.id;this.$container.parents().filter(a.hasScroll).off(n),p(window).off(n+" "+i+" "+r)},e.prototype._positionDropdown=function(){var e=p(window),t=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),i=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=r.top,s.bottom=r.top+s.height;var o=this.$dropdown.outerHeight(!1),a=e.scrollTop(),l=e.scrollTop()+e.height(),c=a<r.top-o,d=l>r.bottom+o,h={left:r.left,top:s.bottom},u=this.$dropdownParent;"static"===u.css("position")&&(u=u.offsetParent());var f=u.offset();h.top-=f.top,h.left-=f.left,t||n||(i="below"),d||!c||t?!c&&d&&t&&(i="below"):i="above",("above"==i||t&&"below"!==i)&&(h.top=s.top-f.top-o),null!=i&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(h)},e.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},e.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},e}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var n=0,i=0;i<t.length;i++){var r=t[i];r.children?n+=e(r.children):n++}return n}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),e.define("select2/dropdown/selectOnClose",["../utils"],function(s){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",function(e){i._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var n=t.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var r=s.GetData(i[0],"data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},e}),e.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(e){i._selectTriggered(e)}),t.on("unselect",function(e){i._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(p,g,_,m,v,y,b,w,k,j,x,t,E,C,T,S,A,O,D,I,N,L,$,P,H,M,q,R,e){function n(){this.reset()}return n.prototype.apply=function(t){if(null==(t=p.extend(!0,{},this.defaults,t)).dataAdapter){if(null!=t.ajax?t.dataAdapter=T:null!=t.data?t.dataAdapter=C:t.dataAdapter=E,0<t.minimumInputLength&&(t.dataAdapter=j.Decorate(t.dataAdapter,O)),0<t.maximumInputLength&&(t.dataAdapter=j.Decorate(t.dataAdapter,D)),0<t.maximumSelectionLength&&(t.dataAdapter=j.Decorate(t.dataAdapter,I)),t.tags&&(t.dataAdapter=j.Decorate(t.dataAdapter,S)),null==t.tokenSeparators&&null==t.tokenizer||(t.dataAdapter=j.Decorate(t.dataAdapter,A)),null!=t.query){var e=g(t.amdBase+"compat/query");t.dataAdapter=j.Decorate(t.dataAdapter,e)}if(null!=t.initSelection){var n=g(t.amdBase+"compat/initSelection");t.dataAdapter=j.Decorate(t.dataAdapter,n)}}if(null==t.resultsAdapter&&(t.resultsAdapter=_,null!=t.ajax&&(t.resultsAdapter=j.Decorate(t.resultsAdapter,P)),null!=t.placeholder&&(t.resultsAdapter=j.Decorate(t.resultsAdapter,$)),t.selectOnClose&&(t.resultsAdapter=j.Decorate(t.resultsAdapter,q))),null==t.dropdownAdapter){if(t.multiple)t.dropdownAdapter=N;else{var i=j.Decorate(N,L);t.dropdownAdapter=i}if(0!==t.minimumResultsForSearch&&(t.dropdownAdapter=j.Decorate(t.dropdownAdapter,M)),t.closeOnSelect&&(t.dropdownAdapter=j.Decorate(t.dropdownAdapter,R)),null!=t.dropdownCssClass||null!=t.dropdownCss||null!=t.adaptDropdownCssClass){var r=g(t.amdBase+"compat/dropdownCss");t.dropdownAdapter=j.Decorate(t.dropdownAdapter,r)}t.dropdownAdapter=j.Decorate(t.dropdownAdapter,H)}if(null==t.selectionAdapter){if(t.multiple?t.selectionAdapter=v:t.selectionAdapter=m,null!=t.placeholder&&(t.selectionAdapter=j.Decorate(t.selectionAdapter,y)),t.allowClear&&(t.selectionAdapter=j.Decorate(t.selectionAdapter,b)),t.multiple&&(t.selectionAdapter=j.Decorate(t.selectionAdapter,w)),null!=t.containerCssClass||null!=t.containerCss||null!=t.adaptContainerCssClass){var s=g(t.amdBase+"compat/containerCss");t.selectionAdapter=j.Decorate(t.selectionAdapter,s)}t.selectionAdapter=j.Decorate(t.selectionAdapter,k)}if("string"==typeof t.language)if(0<t.language.indexOf("-")){var o=t.language.split("-")[0];t.language=[t.language,o]}else t.language=[t.language];if(p.isArray(t.language)){var a=new x;t.language.push("en");for(var l=t.language,c=0;c<l.length;c++){var d=l[c],h={};try{h=x.loadPath(d)}catch(e){try{d=this.defaults.amdLanguageBase+d,h=x.loadPath(d)}catch(e){t.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+d+'" could not be automatically loaded. A fallback will be used instead.');continue}}a.extend(h)}t.translations=a}else{var u=x.loadPath(this.defaults.amdLanguageBase+"en"),f=new x(t.language);f.extend(u),t.translations=f}return t},n.prototype.reset=function(){function a(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:j.escapeMarkup,language:e,matcher:function e(t,n){if(""===p.trim(t.term))return n;if(n.children&&0<n.children.length){for(var i=p.extend(!0,{},n),r=n.children.length-1;0<=r;r--)null==e(t,n.children[r])&&i.children.splice(r,1);return 0<i.children.length?i:e(t,i)}var s=a(n.text).toUpperCase(),o=a(t.term).toUpperCase();return-1<s.indexOf(o)?n:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},n.prototype.set=function(e,t){var n={};n[p.camelCase(e)]=t;var i=j._convertData(n);p.extend(!0,this.defaults,i)},new n}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(i,s,r,o){function e(e,t){if(this.options=e,null!=t&&this.fromElement(t),this.options=r.apply(this.options),t&&t.is("input")){var n=i(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=o.Decorate(this.options.dataAdapter,n)}}return e.prototype.fromElement=function(e){var t=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),o.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),o.StoreData(e[0],"data",o.GetData(e[0],"select2Tags")),o.StoreData(e[0],"tags",!0)),o.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",o.GetData(e[0],"ajaxUrl")),o.StoreData(e[0],"ajax-Url",o.GetData(e[0],"ajaxUrl")));var n;n=s.fn.jquery&&"1."==s.fn.jquery.substr(0,2)&&e[0].dataset?s.extend(!0,{},e[0].dataset,o.GetData(e[0])):o.GetData(e[0]);var i=s.extend(!0,{},n);for(var r in i=o._convertData(i))-1<s.inArray(r,t)||(s.isPlainObject(this.options[r])?s.extend(this.options[r],i[r]):this.options[r]=i[r]);return this},e.prototype.get=function(e){return this.options[e]},e.prototype.set=function(e,t){this.options[e]=t},e}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(r,c,d,i){var h=function(e,t){null!=d.GetData(e[0],"select2")&&d.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),t=t||{},this.options=new c(t,e),h.__super__.constructor.call(this);var n=e.attr("tabindex")||0;d.StoreData(e[0],"old-tabindex",n),e.attr("tabindex","-1");var i=this.options.get("dataAdapter");this.dataAdapter=new i(e,this.options);var r=this.render();this._placeContainer(r);var s=this.options.get("selectionAdapter");this.selection=new s(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,r);var o=this.options.get("dropdownAdapter");this.dropdown=new o(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,r);var a=this.options.get("resultsAdapter");this.results=new a(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){l.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),d.StoreData(e[0],"select2",this),e.data("select2",this)};return d.Extend(h,d.Observable),h.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+d.generateChars(2):d.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},h.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},h.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var i=this._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var r=e.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"!=t)return t;var s=e.attr("style");if("string"!=typeof s)return null;for(var o=s.split(";"),a=0,l=o.length;a<l;a+=1){var c=o[a].replace(/\s/g,"").match(n);if(null!==c&&1<=c.length)return c[1]}return null},h.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},h.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=d.bind(this._syncAttributes,this),this._syncS=d.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=e?(this._observer=new e(function(e){r.each(e,t._syncA),r.each(e,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},h.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(e,t){n.trigger(e,t)})},h.prototype._registerSelectionEvents=function(){var n=this,i=["toggle","focus"];this.selection.on("toggle",function(){n.toggleDropdown()}),this.selection.on("focus",function(e){n.focus(e)}),this.selection.on("*",function(e,t){-1===r.inArray(e,i)&&n.trigger(e,t)})},h.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(e,t){n.trigger(e,t)})},h.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(e,t){n.trigger(e,t)})},h.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")}),this.on("close",function(){n.$container.removeClass("select2-container--open")}),this.on("enable",function(){n.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){n.$container.addClass("select2-container--disabled")}),this.on("blur",function(){n.$container.removeClass("select2-container--focus")}),this.on("query",function(t){n.isOpen()||n.trigger("open",{}),this.dataAdapter.query(t,function(e){n.trigger("results:all",{data:e,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(e){n.trigger("results:append",{data:e,query:t})})}),this.on("keypress",function(e){var t=e.which;n.isOpen()?t===i.ESC||t===i.TAB||t===i.UP&&e.altKey?(n.close(),e.preventDefault()):t===i.ENTER?(n.trigger("results:select",{}),e.preventDefault()):t===i.SPACE&&e.ctrlKey?(n.trigger("results:toggle",{}),e.preventDefault()):t===i.UP?(n.trigger("results:previous",{}),e.preventDefault()):t===i.DOWN&&(n.trigger("results:next",{}),e.preventDefault()):(t===i.ENTER||t===i.SPACE||t===i.DOWN&&e.altKey)&&(n.open(),e.preventDefault())})},h.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},h.prototype._syncSubtree=function(e,t){var n=!1,i=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&0<t.addedNodes.length)for(var r=0;r<t.addedNodes.length;r++)t.addedNodes[r].selected&&(n=!0);else t.removedNodes&&0<t.removedNodes.length&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(e){i.trigger("selection:update",{data:e})})}},h.prototype.trigger=function(e,t){var n=h.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in i){var r=i[e],s={prevented:!1,name:e,args:t};if(n.call(this,r,s),s.prevented)return void(t.prevented=!0)}n.call(this,e,t)},h.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},h.prototype.open=function(){this.isOpen()||this.trigger("query",{})},h.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},h.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},h.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},h.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},h.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},h.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},h.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var t=e[0];r.isArray(t)&&(t=r.map(t,function(e){return e.toString()})),this.$element.val(t).trigger("change")},h.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",d.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),d.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},h.prototype.render=function(){var e=r('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),d.StoreData(e[0],"element",this.$element),e},h}),e.define("select2/compat/utils",["jquery"],function(o){return{syncCssClasses:function(e,t,n){var i,r,s=[];(i=o.trim(e.attr("class")))&&o((i=""+i).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&s.push(this)}),(i=o.trim(t.attr("class")))&&o((i=""+i).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(r=n(this))&&s.push(r)}),e.attr("class",s.join(" "))}}}),e.define("select2/compat/containerCss",["jquery","./utils"],function(o,a){function l(e){return null}function e(){}return e.prototype.render=function(e){var t=e.call(this),n=this.options.get("containerCssClass")||"";o.isFunction(n)&&(n=n(this.$element));var i=this.options.get("adaptContainerCssClass");if(i=i||l,-1!==n.indexOf(":all:")){n=n.replace(":all:","");var r=i;i=function(e){var t=r(e);return null!=t?t+" "+e:e}}var s=this.options.get("containerCss")||{};return o.isFunction(s)&&(s=s(this.$element)),a.syncCssClasses(t,this.$element,i),t.css(s),t.addClass(n),t},e}),e.define("select2/compat/dropdownCss",["jquery","./utils"],function(o,a){function l(e){return null}function e(){}return e.prototype.render=function(e){var t=e.call(this),n=this.options.get("dropdownCssClass")||"";o.isFunction(n)&&(n=n(this.$element));var i=this.options.get("adaptDropdownCssClass");if(i=i||l,-1!==n.indexOf(":all:")){n=n.replace(":all:","");var r=i;i=function(e){var t=r(e);return null!=t?t+" "+e:e}}var s=this.options.get("dropdownCss")||{};return o.isFunction(s)&&(s=s(this.$element)),a.syncCssClasses(t,this.$element,i),t.css(s),t.addClass(n),t},e}),e.define("select2/compat/initSelection",["jquery"],function(i){function e(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,e.call(this,t,n)}return e.prototype.current=function(e,t){var n=this;this._isInitialized?e.call(this,t):this.initSelection.call(null,this.$element,function(e){n._isInitialized=!0,i.isArray(e)||(e=[e]),t(e)})},e}),e.define("select2/compat/inputData",["jquery","../utils"],function(o,i){function e(e,t,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===t.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,n)}return e.prototype.current=function(e,t){function i(e,t){var n=[];return e.selected||-1!==o.inArray(e.id,t)?(e.selected=!0,n.push(e)):e.selected=!1,e.children&&n.push.apply(n,i(e.children,t)),n}for(var n=[],r=0;r<this._currentData.length;r++){var s=this._currentData[r];n.push.apply(n,i(s,this.$element.val().split(this._valueSeparator)))}t(n)},e.prototype.select=function(e,t){if(this.options.get("multiple")){var n=this.$element.val();n+=this._valueSeparator+t.id,this.$element.val(n),this.$element.trigger("change")}else this.current(function(e){o.map(e,function(e){e.selected=!1})}),this.$element.val(t.id),this.$element.trigger("change")},e.prototype.unselect=function(e,r){var s=this;r.selected=!1,this.current(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];r.id!=i.id&&t.push(i.id)}s.$element.val(t.join(s._valueSeparator)),s.$element.trigger("change")})},e.prototype.query=function(e,t,n){for(var i=[],r=0;r<this._currentData.length;r++){var s=this._currentData[r],o=this.matches(t,s);null!==o&&i.push(o)}n({results:i})},e.prototype.addOptions=function(e,t){var n=o.map(t,function(e){return i.GetData(e[0],"data")});this._currentData.push.apply(this._currentData,n)},e}),e.define("select2/compat/matcher",["jquery"],function(o){return function(s){return function(e,t){var n=o.extend(!0,{},t);if(null==e.term||""===o.trim(e.term))return n;if(t.children){for(var i=t.children.length-1;0<=i;i--){var r=t.children[i];s(e.term,r.text,r)||n.children.splice(i,1)}if(0<n.children.length)return n}return s(e.term,t.text,t)?n:null}}}),e.define("select2/compat/query",[],function(){function e(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.callback=n,this.options.get("query").call(null,t)},e}),e.define("select2/dropdown/attachContainer",[],function(){function e(e,t,n){e.call(this,t,n)}return e.prototype.position=function(e,t,n){n.find(".dropdown-wrapper").append(t),t.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},e}),e.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(e){e.stopPropagation()})},e}),e.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(e){e.stopPropagation()})},e}),n=function(u){var f,p,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],t="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],g=Array.prototype.slice;if(u.event.fixHooks)for(var n=e.length;n;)u.event.fixHooks[e[--n]]=u.event.mouseHooks;var _=u.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],i,!1);else this.onmousewheel=i;u.data(this,"mousewheel-line-height",_.getLineHeight(this)),u.data(this,"mousewheel-page-height",_.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],i,!1);else this.onmousewheel=null;u.removeData(this,"mousewheel-line-height"),u.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=u(e),n=t["offsetParent"in u.fn?"offsetParent":"parent"]();return n.length||(n=u("body")),parseInt(n.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return u(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function i(e){var t,n=e||window.event,i=g.call(arguments,1),r=0,s=0,o=0,a=0,l=0;if((e=u.event.fix(n)).type="mousewheel","detail"in n&&(o=-1*n.detail),"wheelDelta"in n&&(o=n.wheelDelta),"wheelDeltaY"in n&&(o=n.wheelDeltaY),"wheelDeltaX"in n&&(s=-1*n.wheelDeltaX),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(s=-1*o,o=0),r=0===o?s:o,"deltaY"in n&&(r=o=-1*n.deltaY),"deltaX"in n&&(s=n.deltaX,0===o&&(r=-1*s)),0!==o||0!==s){if(1===n.deltaMode){var c=u.data(this,"mousewheel-line-height");r*=c,o*=c,s*=c}else if(2===n.deltaMode){var d=u.data(this,"mousewheel-page-height");r*=d,o*=d,s*=d}if(t=Math.max(Math.abs(o),Math.abs(s)),(!p||t<p)&&(v(n,p=t)&&(p/=40)),v(n,t)&&(r/=40,s/=40,o/=40),r=Math[1<=r?"floor":"ceil"](r/p),s=Math[1<=s?"floor":"ceil"](s/p),o=Math[1<=o?"floor":"ceil"](o/p),_.settings.normalizeOffset&&this.getBoundingClientRect){var h=this.getBoundingClientRect();a=e.clientX-h.left,l=e.clientY-h.top}return e.deltaX=s,e.deltaY=o,e.deltaFactor=p,e.offsetX=a,e.offsetY=l,e.deltaMode=0,i.unshift(e,r,s,o),f&&clearTimeout(f),f=setTimeout(m,200),(u.event.dispatch||u.event.handle).apply(this,i)}}function m(){p=null}function v(e,t){return _.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}u.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},"function"==typeof e.define&&e.define.amd?e.define("jquery-mousewheel",["jquery"],n):"object"==typeof exports?module.exports=n:n(i),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(r,e,s,t,o){if(null==r.fn.select2){var a=["open","close","destroy"];r.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var e=r.extend(!0,{},t);new s(r(this),e)}),this;if("string"!=typeof t)throw new Error("Invalid arguments for Select2: "+t);var n,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=o.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),n=e[t].apply(e,i)}),-1<r.inArray(t,a)?this:n}}return null==r.fn.select2.defaults&&(r.fn.select2.defaults=t),s}),{define:e.define,require:e.require}}(),t=e.require("jquery.select2");return i.fn.select2.amd=e,t},"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n(t),t}:n(jQuery),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=e()}(function(){return function s(o,a,l){function c(t,e){if(!a[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(d)return d(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[t]={exports:{}};o[t][0].call(r.exports,function(e){return c(o[t][1][e]||e)},r,r.exports,s,o,a,l)}return a[t].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},{}],2:[function(e,t,n){var o=e("./closest");t.exports=function(e,t,n,i,r){var s=function(t,n,e,i){return function(e){e.delegateTarget=o(e.target,n),e.delegateTarget&&i.call(t,e)}}.apply(this,arguments);return e.addEventListener(n,s,r),{destroy:function(){e.removeEventListener(n,s,r)}}}},{"./closest":1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,n){var u=e("./is"),f=e("delegate");t.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!u.string(t))throw new TypeError("Second argument must be a String");if(!u.fn(n))throw new TypeError("Third argument must be a Function");if(u.node(e))return r=t,s=n,(i=e).addEventListener(r,s),{destroy:function(){i.removeEventListener(r,s)}};var i,r,s,o,a,l,c,d,h;if(u.nodeList(e))return o=e,a=t,l=n,Array.prototype.forEach.call(o,function(e){e.addEventListener(a,l)}),{destroy:function(){Array.prototype.forEach.call(o,function(e){e.removeEventListener(a,l)})}};if(u.string(e))return c=e,d=t,h=n,f(document.body,c,d,h);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(e,t,n){t.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var i=window.getSelection(),r=document.createRange();r.selectNodeContents(e),i.removeAllRanges(),i.addRange(r),t=i.toString()}return t}},{}],6:[function(e,t,n){function i(){}i.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function i(){r.off(e,i),t.apply(n,arguments)}var r=this;return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],r=[];if(i&&t)for(var s=0,o=i.length;s<o;s++)i[s].fn!==t&&i[s].fn._!==t&&r.push(i[s]);return r.length?n[e]=r:delete n[e],this}},t.exports=i},{}],7:[function(i,r,s){!function(e,t){if(void 0!==s)t(r,i("select"));else{var n={exports:{}};t(n,e.select),e.clipboardAction=n.exports}}(this,function(e,t){"use strict";var n,i=(n=t)&&n.__esModule?n:{default:n},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=function(){function n(e){(function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this),this.resolveOptions(e),this.initSelection()}return s(n,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),n}();e.exports=o})},{select:5}],8:[function(i,r,s){!function(e,t){if(void 0!==s)t(r,i("./clipboard-action"),i("tiny-emitter"),i("good-listener"));else{var n={exports:{}};t(n,e.clipboardAction,e.tinyEmitter,e.goodListener),e.clipboard=n.exports}}(this,function(e,t,n,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var o=r(t),a=r(n),l=r(i),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),h=function(e){function i(e,t){!function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.resolveOptions(t),n.listenClick(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a.default),d(i,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===c(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,l.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return s("action",e)}},{key:"defaultTarget",value:function(e){var t=s("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return s("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),i}();e.exports=h})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(O,D){"use strict";if(!O.jstree){var r=0,s=!1,o=!1,a=!1,i=[],e=O("script:last").attr("src"),b=window.document;O.jstree={version:"3.3.5",defaults:{plugins:[]},plugins:{},path:e&&-1!==e.indexOf("/")?e.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},O.jstree.create=function(e,n){var i=new O.jstree.core(++r),t=n;return n=O.extend(!0,{},O.jstree.defaults,n),t&&t.plugins&&(n.plugins=t.plugins),O.each(n.plugins,function(e,t){"core"!==e&&(i=i.plugin(t,n[t]))}),O(e).data("jstree",i),i.init(e,n),i},O.jstree.destroy=function(){O(".jstree:jstree").jstree("destroy"),O(b).off(".jstree")},O.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},O.jstree.reference=function(t){var n=null,e=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!e||!e.length)try{e=O(t)}catch(e){}if(!e||!e.length)try{e=O("#"+t.replace(O.jstree.idregex,"\\$&"))}catch(e){}return e&&e.length&&(e=e.closest(".jstree")).length&&(e=e.data("jstree"))?n=e:O(".jstree").each(function(){var e=O(this).data("jstree");if(e&&e._model.data[t])return n=e,!1}),n},O.fn.jstree=function(n){var i="string"==typeof n,r=Array.prototype.slice.call(arguments,1),s=null;return!(!0===n&&!this.length)&&(this.each(function(){var e=O.jstree.reference(this),t=i&&e?e[n]:null;if(s=i&&t?t.apply(e,r):null,e||i||n!==D&&!O.isPlainObject(n)||O.jstree.create(this,n),(e&&!i||!0===n)&&(s=e||!1),null!==s&&s!==D)return!1}),null!==s&&s!==D?s:this)},O.expr.pseudos.jstree=O.expr.createPseudo(function(e){return function(e){return O(e).hasClass("jstree")&&O(e).data("jstree")!==D}}),O.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:O.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,keyboard:{"ctrl-space":function(e){e.type="click",O(e.currentTarget).trigger(e)},enter:function(e){e.type="click",O(e.currentTarget).trigger(e)},left:function(e){if(e.preventDefault(),this.is_open(e.currentTarget))this.close_node(e.currentTarget);else{var t=this.get_parent(e.currentTarget);t&&t.id!==O.jstree.root&&this.get_node(t,!0).children(".jstree-anchor").focus()}},up:function(e){e.preventDefault();var t=this.get_prev_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},right:function(e){if(e.preventDefault(),this.is_closed(e.currentTarget))this.open_node(e.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()});else if(this.is_open(e.currentTarget)){var t=this.get_node(e.currentTarget,!0).children(".jstree-children")[0];t&&O(this._firstChild(t)).children(".jstree-anchor").focus()}},down:function(e){e.preventDefault();var t=this.get_next_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},"*":function(e){this.open_all()},home:function(e){e.preventDefault();var t=this._firstChild(this.get_container_ul()[0]);t&&O(t).children(".jstree-anchor").filter(":visible").focus()},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}}},O.jstree.core.prototype={plugin:function(e,t){var n=O.jstree.plugins[e];return n?(this._data[e]={},n.prototype=this,new n(t,this)):this},init:function(e,t){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[O.jstree.root]={id:O.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=O(e).addClass("jstree jstree-"+this._id),this.settings=t,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(O.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,n=b.createElement("LI");return n.setAttribute("role","treeitem"),(e=b.createElement("I")).className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),n.appendChild(e),(e=b.createElement("A")).className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),(t=b.createElement("I")).className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),n.appendChild(e),e=t=null,n},_kbevent_to_func:function(e){var t=[];e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),t.push({8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"}[e.which]||e.which),t=t.sort().join("-").toLowerCase();var n,i,r=this.settings.core.keyboard;for(n in r)if(r.hasOwnProperty(n)&&("-"!==(i=n)&&"+"!==i&&(i=(i=i.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),i===t))return r[n];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var s="",o=null,t=0;this.element.on("dblclick.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(b.selection&&b.selection.empty)b.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(e){}}}).on("mousedown.jstree",O.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),t=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",O.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",O.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(e.target)},this)).on("click.jstree",".jstree-anchor",O.proxy(function(e){e.preventDefault(),e.currentTarget!==b.activeElement&&O(e.currentTarget).focus(),this.activate_node(e.currentTarget,e)},this)).on("keydown.jstree",".jstree-anchor",O.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===e.which?e.which=39:39===e.which&&(e.which=37));var t=this._kbevent_to_func(e);if(t){var n=t.call(this,e);if(!1===n||!0===n)return n}},this)).on("load_node.jstree",O.proxy(function(e,t){t.status&&(t.node.id!==O.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(O.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var e,t,n=[];for(e=0,t=this._data.core.selected.length;e<t;e++)n=n.concat(this._model.data[this._data.core.selected[e]].parents);for(e=0,t=(n=O.vakata.array_unique(n)).length;e<t;e++)this.open_node(n[e],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",O.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;o&&clearTimeout(o),o=setTimeout(function(){s=""},500);var n=String.fromCharCode(e.which).toLowerCase(),t=this.element.find(".jstree-anchor").filter(":visible"),i=t.index(b.activeElement)||0,r=!1;if(1<(s+=n).length){if(t.slice(i).each(O.proxy(function(e,t){if(0===O(t).text().toLowerCase().indexOf(s))return O(t).focus(),!(r=!0)},this)),r)return;if(t.slice(0,i).each(O.proxy(function(e,t){if(0===O(t).text().toLowerCase().indexOf(s))return O(t).focus(),!(r=!0)},this)),r)return}if(new RegExp("^"+n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(s)){if(t.slice(i+1).each(O.proxy(function(e,t){if(O(t).text().toLowerCase().charAt(0)===n)return O(t).focus(),!(r=!0)},this)),r)return;if(t.slice(0,i+1).each(O.proxy(function(e,t){if(O(t).text().toLowerCase().charAt(0)===n)return O(t).focus(),!(r=!0)},this)),r)return}},this)).on("init.jstree",O.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",O.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",O.proxy(function(e){this._data.core.focused=null,O(e.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",O.proxy(function(e){var t=this.get_node(e.currentTarget);t&&t.id&&(this._data.core.focused=t.id),this.element.find(".jstree-hovered").not(e.currentTarget).mouseleave(),O(e.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",O.proxy(function(){if(500<+new Date-t&&!this._data.core.focused&&this.settings.core.restore_focus){t=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",O.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",O.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),O(b).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),(t.instance=this).element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(e){var t=this.settings.core.strings;return O.isFunction(t)?t.call(this,e):t&&t[e]?t[e]:e},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(e,t){var n;e&&e.id&&(e=e.id);try{if(this._model.data[e])e=this._model.data[e];else if("string"==typeof e&&this._model.data[e.replace(/^#/,"")])e=this._model.data[e.replace(/^#/,"")];else if("string"==typeof e&&(n=O("#"+e.replace(O.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[n.closest(".jstree-node").attr("id")])e=this._model.data[n.closest(".jstree-node").attr("id")];else if((n=O(e,this.element)).length&&this._model.data[n.closest(".jstree-node").attr("id")])e=this._model.data[n.closest(".jstree-node").attr("id")];else{if(!(n=O(e,this.element)).length||!n.hasClass("jstree"))return!1;e=this._model.data[O.jstree.root]}return t&&(e=e.id===O.jstree.root?this.element:O("#"+e.id.replace(O.jstree.idregex,"\\$&"),this.element)),e}catch(e){return!1}},get_path:function(e,t,n){if(!(e=e.parents?e:this.get_node(e))||e.id===O.jstree.root||!e.parents)return!1;var i,r,s=[];for(s.push(n?e.id:e.text),i=0,r=e.parents.length;i<r;i++)s.push(n?e.parents[i]:this.get_text(e.parents[i]));return s=s.reverse().slice(1),t?s.join(t):s},get_next_dom:function(e,t){var n;if((e=this.get_node(e,!0))[0]===this.element[0]){for(n=this._firstChild(this.get_container_ul()[0]);n&&0===n.offsetHeight;)n=this._nextSibling(n);return!!n&&O(n)}if(!e||!e.length)return!1;if(t){for(n=e[0];(n=this._nextSibling(n))&&0===n.offsetHeight;);return!!n&&O(n)}if(e.hasClass("jstree-open")){for(n=this._firstChild(e.children(".jstree-children")[0]);n&&0===n.offsetHeight;)n=this._nextSibling(n);if(null!==n)return O(n)}for(n=e[0];(n=this._nextSibling(n))&&0===n.offsetHeight;);return null!==n?O(n):e.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(e,t){var n;if((e=this.get_node(e,!0))[0]===this.element[0]){for(n=this.get_container_ul()[0].lastChild;n&&0===n.offsetHeight;)n=this._previousSibling(n);return!!n&&O(n)}if(!e||!e.length)return!1;if(t){for(n=e[0];(n=this._previousSibling(n))&&0===n.offsetHeight;);return!!n&&O(n)}for(n=e[0];(n=this._previousSibling(n))&&0===n.offsetHeight;);if(null===n)return!(!(n=e[0].parentNode.parentNode)||!n.className||-1===n.className.indexOf("jstree-node"))&&O(n);for(e=O(n);e.hasClass("jstree-open");)e=e.children(".jstree-children").first().children(".jstree-node:visible:last");return e},get_parent:function(e){return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&e.parent},get_children_dom:function(e){return(e=this.get_node(e,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||0<e.children.length)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(o,a){var e,t,n,i,r;if(O.isArray(o))return this._load_nodes(o.slice(),a),!0;if(!(o=this.get_node(o)))return a&&a.call(this,o,!1),!1;if(o.state.loaded){for(o.state.loaded=!1,n=0,i=o.parents.length;n<i;n++)this._model.data[o.parents[n]].children_d=O.vakata.array_filter(this._model.data[o.parents[n]].children_d,function(e){return-1===O.inArray(e,o.children_d)});for(e=0,t=o.children_d.length;e<t;e++)this._model.data[o.children_d[e]].state.selected&&(r=!0),delete this._model.data[o.children_d[e]];r&&(this._data.core.selected=O.vakata.array_filter(this._data.core.selected,function(e){return-1===O.inArray(e,o.children_d)})),o.children=[],o.children_d=[],r&&this.trigger("changed",{action:"load_node",node:o,selected:this._data.core.selected})}return o.state.failed=!1,o.state.loading=!0,this.get_node(o,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(o,O.proxy(function(e){(o=this._model.data[o.id]).state.loading=!1,o.state.loaded=e,o.state.failed=!o.state.loaded;var t,n=this.get_node(o,!0),i=0,r=this._model.data,s=!1;for(i=0,t=o.children.length;i<t;i++)if(r[o.children[i]]&&!r[o.children[i]].state.hidden){s=!0;break}o.state.loaded&&n&&n.length&&(n.removeClass("jstree-closed jstree-open jstree-leaf"),s?"#"!==o.id&&n.addClass(o.state.opened?"jstree-open":"jstree-closed"):n.addClass("jstree-leaf")),n.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:o,status:e}),a&&a.call(this,o,e)},this)),!0},_load_nodes:function(e,t,n,i){var r,s,o=!0,a=function(){this._load_nodes(e,t,!0)},l=this._model.data,c=[];for(r=0,s=e.length;r<s;r++)l[e[r]]&&(!l[e[r]].state.loaded&&!l[e[r]].state.failed||!n&&i)&&(this.is_loading(e[r])||this.load_node(e[r],a),o=!1);if(o){for(r=0,s=e.length;r<s;r++)l[e[r]]&&l[e[r]].state.loaded&&c.push(e[r]);t&&!t.done&&(t.call(this,c),t.done=!0)}},load_all:function(e,t){if(e||(e=O.jstree.root),!(e=this.get_node(e)))return!1;var n,i,r=[],s=this._model.data,o=s[e.id].children_d;for(e.state&&!e.state.loaded&&r.push(e.id),n=0,i=o.length;n<i;n++)s[o[n]]&&s[o[n]].state&&!s[o[n]].state.loaded&&r.push(o[n]);r.length?this._load_nodes(r,function(){this.load_all(e,t)}):(t&&t.call(this,e),this.trigger("load_all",{node:e}))},_load_node:function(r,s){var e,t=this.settings.core.data,o=function(){return 3!==this.nodeType&&8!==this.nodeType};return t?O.isFunction(t)?t.call(this,r,O.proxy(function(e){!1===e?s.call(this,!1):this["string"==typeof e?"_append_html_data":"_append_json_data"](r,"string"==typeof e?O(O.parseHTML(e)).filter(o):e,function(e){s.call(this,e)})},this)):"object"==typeof t?t.url?(t=O.extend(!0,{},t),O.isFunction(t.url)&&(t.url=t.url.call(this,r)),O.isFunction(t.data)&&(t.data=t.data.call(this,r)),O.ajax(t).done(O.proxy(function(e,t,n){var i=n.getResponseHeader("Content-Type");return i&&-1!==i.indexOf("json")||"object"==typeof e?this._append_json_data(r,e,function(e){s.call(this,e)}):i&&-1!==i.indexOf("html")||"string"==typeof e?this._append_html_data(r,O(O.parseHTML(e)).filter(o),function(e){s.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:r.id,xhr:n})},this.settings.core.error.call(this,this._data.core.last_error),s.call(this,!1))},this)).fail(O.proxy(function(e){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:r.id,xhr:e})},s.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)},this))):(e=O.isArray(t)?O.extend(!0,[],t):O.isPlainObject(t)?O.extend(!0,{},t):t,r.id===O.jstree.root?this._append_json_data(r,e,function(e){s.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:r.id})},this.settings.core.error.call(this,this._data.core.last_error),s.call(this,!1))):"string"==typeof t?r.id===O.jstree.root?this._append_html_data(r,O(O.parseHTML(t)).filter(o),function(e){s.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:r.id})},this.settings.core.error.call(this,this._data.core.last_error),s.call(this,!1)):s.call(this,!1):r.id===O.jstree.root?this._append_html_data(r,this._data.core.original_container_html.clone(!0),function(e){s.call(this,e)}):s.call(this,!1)},_node_changed:function(e){(e=this.get_node(e))&&-1===O.inArray(e.id,this._model.changed)&&this._model.changed.push(e.id)},_append_html_data:function(e,t,n){(e=this.get_node(e)).children=[],e.children_d=[];var i,r,s,o=t.is("ul")?t.children():t,a=e.id,l=[],c=[],d=this._model.data,h=d[a],u=this._data.core.selected.length;for(o.each(O.proxy(function(e,t){(i=this._parse_model_from_html(O(t),a,h.parents.concat()))&&(l.push(i),c.push(i),d[i].children_d.length&&(c=c.concat(d[i].children_d)))},this)),h.children=l,h.children_d=c,r=0,s=h.parents.length;r<s;r++)d[h.parents[r]].children_d=d[h.parents[r]].children_d.concat(c);this.trigger("model",{nodes:c,parent:a}),a!==O.jstree.root?(this._node_changed(a),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==u&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),n.call(this,!0)},_append_json_data:function(e,t,l,n){if(null!==this.element){(e=this.get_node(e)).children=[],e.children_d=[],t.d&&"string"==typeof(t=t.d)&&(t=JSON.parse(t)),O.isArray(t)||(t=[t]);var i=null,r={df:this._model.default_state,dat:t,par:e.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},s=function(e,c){e.data&&(e=e.data);var t,n,i,r,s=e.dat,o=e.par,a=[],l=[],d=[],h=e.df,u=e.t_id,f=e.t_cnt,p=e.m,g=p[o],_=e.sel,m=function(e,t,n){n=n?n.concat():[],t&&n.unshift(t);var i,r,s,o,a=e.id.toString(),l={id:a,text:e.text||"",icon:e.icon===c||e.icon,parent:t,parents:n,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(i in h)h.hasOwnProperty(i)&&(l.state[i]=h[i]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==c&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(l.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(l.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(l.li_attr[i]=e.li_attr[i]);if(l.li_attr.id||(l.li_attr.id=a),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(l.a_attr[i]=e.a_attr[i]);for(e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),i=0,r=(p[l.id]=l).children.length;i<r;i++)s=m(p[l.children[i]],l.id,n),o=p[s],l.children_d.push(s),o.children_d.length&&(l.children_d=l.children_d.concat(o.children_d));return delete e.data,delete e.children,p[l.id].original=e,l.state.selected&&d.push(l.id),l.id},v=function(e,t,n){n=n?n.concat():[],t&&n.unshift(t);for(var i,r,s,o,a,l=!1;l="j"+u+"_"+ ++f,p[l];);for(i in a={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===c||e.icon,parent:t,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},h)h.hasOwnProperty(i)&&(a.state[i]=h[i]);if(e&&e.id&&(a.id=e.id.toString()),e&&e.text&&(a.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(a.icon=e.data.jstree.icon),a.icon!==c&&null!==a.icon&&""!==a.icon||(a.icon=!0),e&&e.data&&(a.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(a.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(a.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(a.li_attr[i]=e.li_attr[i]);if(a.li_attr.id&&!a.id&&(a.id=a.li_attr.id.toString()),a.id||(a.id=l),a.li_attr.id||(a.li_attr.id=a.id),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(a.a_attr[i]=e.a_attr[i]);if(e&&e.children&&e.children.length){for(i=0,r=e.children.length;i<r;i++)s=v(e.children[i],a.id,n),o=p[s],a.children.push(s),o.children_d.length&&(a.children_d=a.children_d.concat(o.children_d));a.children_d=a.children_d.concat(a.children)}return e&&e.children&&!0===e.children&&(a.state.loaded=!1,a.children=[],a.children_d=[]),delete e.data,delete e.children,a.original=e,(p[a.id]=a).state.selected&&d.push(a.id),a.id};if(s.length&&s[0].id!==c&&s[0].parent!==c){for(n=0,i=s.length;n<i;n++)s[n].children||(s[n].children=[]),s[n].state||(s[n].state={}),p[s[n].id.toString()]=s[n];for(n=0,i=s.length;n<i;n++)p[s[n].parent.toString()]?(p[s[n].parent.toString()].children.push(s[n].id.toString()),g.children_d.push(s[n].id.toString())):(this._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:s[n].id.toString(),parent:s[n].parent.toString()})},this.settings.core.error.call(this,this._data.core.last_error));for(n=0,i=g.children.length;n<i;n++)t=m(p[g.children[n]],o,g.parents.concat()),l.push(t),p[t].children_d.length&&(l=l.concat(p[t].children_d));for(n=0,i=g.parents.length;n<i;n++)p[g.parents[n]].children_d=p[g.parents[n]].children_d.concat(l);r={cnt:f,mod:p,sel:_,par:o,dpc:l,add:d}}else{for(n=0,i=s.length;n<i;n++)(t=v(s[n],o,g.parents.concat()))&&(a.push(t),l.push(t),p[t].children_d.length&&(l=l.concat(p[t].children_d)));for(g.children=a,g.children_d=l,n=0,i=g.parents.length;n<i;n++)p[g.parents[n]].children_d=p[g.parents[n]].children_d.concat(l);r={cnt:f,mod:p,sel:_,par:o,dpc:l,add:d}}if("undefined"!=typeof window&&void 0!==window.document)return r;postMessage(r)},o=function(e,t){if(null!==this.element){this._cnt=e.cnt;var n,i=this._model.data;for(n in i)i.hasOwnProperty(n)&&i[n].state&&i[n].state.loading&&e.mod[n]&&(e.mod[n].state.loading=!0);if(this._model.data=e.mod,t){var r,s=e.add,o=e.sel,a=this._data.core.selected.slice();if(i=this._model.data,o.length!==a.length||O.vakata.array_unique(o.concat(a)).length!==o.length){for(n=0,r=o.length;n<r;n++)-1===O.inArray(o[n],s)&&-1===O.inArray(o[n],a)&&(i[o[n]].state.selected=!1);for(n=0,r=a.length;n<r;n++)-1===O.inArray(a[n],o)&&(i[a[n]].state.selected=!0)}}e.add.length&&(this._data.core.selected=this._data.core.selected.concat(e.add)),this.trigger("model",{nodes:e.dpc,parent:e.par}),e.par!==O.jstree.root?(this._node_changed(e.par),this.redraw()):this.redraw(!0),e.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),l.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+s.toString()],{type:"text/javascript"}))),!this._data.core.working||n?(this._data.core.working=!0,(i=new window.Worker(this._wrk)).onmessage=O.proxy(function(e){o.call(this,e.data,!0);try{i.terminate(),i=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),r.par?i.postMessage(r):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([e,t,l,!0])}catch(e){o.call(this,s(r),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else o.call(this,s(r),!1)}},_parse_model_from_html:function(e,t,n){n=n?[].concat(n):[],t&&n.unshift(t);var i,r,s,o,a,l=this._model.data,c={id:!1,text:!1,icon:!0,parent:t,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in this._model.default_state)this._model.default_state.hasOwnProperty(s)&&(c.state[s]=this._model.default_state[s]);if(o=O.vakata.attributes(e,!0),O.each(o,function(e,t){if(!(t=O.trim(t)).length)return!0;c.li_attr[e]=t,"id"===e&&(c.id=t.toString())}),(o=e.children("a").first()).length&&(o=O.vakata.attributes(o,!0),O.each(o,function(e,t){(t=O.trim(t)).length&&(c.a_attr[e]=t)})),(o=e.children("a").first().length?e.children("a").first().clone():e.clone()).children("ins, i, ul").remove(),o=o.html(),o=O("<div />").html(o),c.text=this.settings.core.force_text?o.text():o.html(),o=e.data(),c.data=o?O.extend(!0,{},o):null,c.state.opened=e.hasClass("jstree-open"),c.state.selected=e.children("a").hasClass("jstree-clicked"),c.state.disabled=e.children("a").hasClass("jstree-disabled"),c.data&&c.data.jstree)for(s in c.data.jstree)c.data.jstree.hasOwnProperty(s)&&(c.state[s]=c.data.jstree[s]);for((o=e.children("a").children(".jstree-themeicon")).length&&(c.icon=!o.hasClass("jstree-themeicon-hidden")&&o.attr("rel")),c.state.icon!==D&&(c.icon=c.state.icon),c.icon!==D&&null!==c.icon&&""!==c.icon||(c.icon=!0),o=e.children("ul").children("li");l[a="j"+this._id+"_"+ ++this._cnt];);return c.id=c.li_attr.id?c.li_attr.id.toString():a,o.length?(o.each(O.proxy(function(e,t){i=this._parse_model_from_html(O(t),c.id,n),r=this._model.data[i],c.children.push(i),r.children_d.length&&(c.children_d=c.children_d.concat(r.children_d))},this)),c.children_d=c.children_d.concat(c.children)):e.hasClass("jstree-closed")&&(c.state.loaded=!1),c.li_attr.class&&(c.li_attr.class=c.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),c.a_attr.class&&(c.a_attr.class=c.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),(l[c.id]=c).state.selected&&this._data.core.selected.push(c.id),c.id},_parse_model_from_flat_json:function(e,t,n){n=n?n.concat():[],t&&n.unshift(t);var i,r,s,o,a=e.id.toString(),l=this._model.data,c=this._model.default_state,d={id:a,text:e.text||"",icon:e.icon===D||e.icon,parent:t,parents:n,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(i in c)c.hasOwnProperty(i)&&(d.state[i]=c[i]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(d.icon=e.data.jstree.icon),d.icon!==D&&null!==d.icon&&""!==d.icon||(d.icon=!0),e&&e.data&&(d.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(d.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(d.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(d.li_attr[i]=e.li_attr[i]);if(d.li_attr.id||(d.li_attr.id=a),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(d.a_attr[i]=e.a_attr[i]);for(e&&e.children&&!0===e.children&&(d.state.loaded=!1,d.children=[],d.children_d=[]),i=0,r=(l[d.id]=d).children.length;i<r;i++)o=l[s=this._parse_model_from_flat_json(l[d.children[i]],d.id,n)],d.children_d.push(s),o.children_d.length&&(d.children_d=d.children_d.concat(o.children_d));return delete e.data,delete e.children,l[d.id].original=e,d.state.selected&&this._data.core.selected.push(d.id),d.id},_parse_model_from_json:function(e,t,n){n=n?n.concat():[],t&&n.unshift(t);for(var i,r,s,o,a,l=!1,c=this._model.data,d=this._model.default_state;c[l="j"+this._id+"_"+ ++this._cnt];);for(i in a={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===D||e.icon,parent:t,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},d)d.hasOwnProperty(i)&&(a.state[i]=d[i]);if(e&&e.id&&(a.id=e.id.toString()),e&&e.text&&(a.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(a.icon=e.data.jstree.icon),a.icon!==D&&null!==a.icon&&""!==a.icon||(a.icon=!0),e&&e.data&&(a.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(a.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(a.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(a.li_attr[i]=e.li_attr[i]);if(a.li_attr.id&&!a.id&&(a.id=a.li_attr.id.toString()),a.id||(a.id=l),a.li_attr.id||(a.li_attr.id=a.id),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(a.a_attr[i]=e.a_attr[i]);if(e&&e.children&&e.children.length){for(i=0,r=e.children.length;i<r;i++)o=c[s=this._parse_model_from_json(e.children[i],a.id,n)],a.children.push(s),o.children_d.length&&(a.children_d=a.children_d.concat(o.children_d));a.children_d=a.children_d.concat(a.children)}return e&&e.children&&!0===e.children&&(a.state.loaded=!1,a.children=[],a.children_d=[]),delete e.data,delete e.children,a.original=e,(c[a.id]=a).state.selected&&this._data.core.selected.push(a.id),a.id},_redraw:function(){var e,t,n,i=this._model.force_full_redraw?this._model.data[O.jstree.root].children.concat([]):this._model.changed.concat([]),r=b.createElement("UL"),s=this._data.core.focused;for(t=0,n=i.length;t<n;t++)(e=this.redraw_node(i[t],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&r.appendChild(e);this._model.force_full_redraw&&(r.className=this.get_container_ul()[0].className,r.setAttribute("role","group"),this.element.empty().append(r)),null!==s&&((e=this.get_node(s,!0))&&e.length&&e.children(".jstree-anchor")[0]!==b.activeElement?e.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:i})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(e){var t=this.get_node(e),n=!1,i=!1,r=!1,s=b;if(!t)return!1;if(t.id===O.jstree.root)return this.redraw(!0);if(!(e=this.get_node(e,!0))||!e.length)return!1;if(e.children(".jstree-children").remove(),e=e[0],t.children.length&&t.state.loaded){for((r=s.createElement("UL")).setAttribute("role","group"),r.className="jstree-children",n=0,i=t.children.length;n<i;n++)r.appendChild(this.redraw_node(t.children[n],!0,!0));e.appendChild(r)}},redraw_node:function(e,t,n,i){var r=this.get_node(e),s=!1,o=!1,a=!1,l=!1,c=!1,d=!1,h="",u=b,f=this._model.data,p=!1,g=null,_=0,m=0,v=!1,y=!1;if(!r)return!1;if(r.id===O.jstree.root)return this.redraw(!0);if(t=t||0===r.children.length,e=b.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(r.id[0])?"\\3"+r.id[0]+" "+r.id.substr(1).replace(O.jstree.idregex,"\\$&"):r.id.replace(O.jstree.idregex,"\\$&"))):b.getElementById(r.id))e=O(e),n||((s=e.parent().parent()[0])===this.element[0]&&(s=null),o=e.index()),t||!r.children.length||e.children(".jstree-children").length||(t=!0),t||(a=e.children(".jstree-children")[0]),p=e.children(".jstree-anchor")[0]===b.activeElement,e.remove();else if(t=!0,!n){if(!(null===(s=r.parent!==O.jstree.root?O("#"+r.parent.replace(O.jstree.idregex,"\\$&"),this.element)[0]:null)||s&&f[r.parent].state.opened))return!1;o=O.inArray(r.id,null===s?f[O.jstree.root].children:f[r.parent].children)}for(l in e=this._data.core.node.cloneNode(!0),h="jstree-node ",r.li_attr)if(r.li_attr.hasOwnProperty(l)){if("id"===l)continue;"class"!==l?e.setAttribute(l,r.li_attr[l]):h+=r.li_attr[l]}for(r.a_attr.id||(r.a_attr.id=r.id+"_anchor"),e.setAttribute("aria-selected",!!r.state.selected),e.setAttribute("aria-level",r.parents.length),e.setAttribute("aria-labelledby",r.a_attr.id),r.state.disabled&&e.setAttribute("aria-disabled",!0),l=0,c=r.children.length;l<c;l++)if(!f[r.children[l]].state.hidden){v=!0;break}if(null!==r.parent&&f[r.parent]&&!r.state.hidden&&(l=O.inArray(r.id,f[r.parent].children),y=r.id,-1!==l))for(l++,c=f[r.parent].children.length;l<c&&(f[f[r.parent].children[l]].state.hidden||(y=f[r.parent].children[l]),y===r.id);l++);for(c in r.state.hidden&&(h+=" jstree-hidden"),r.state.loading&&(h+=" jstree-loading"),r.state.loaded&&!v?h+=" jstree-leaf":(h+=r.state.opened&&r.state.loaded?" jstree-open":" jstree-closed",e.setAttribute("aria-expanded",r.state.opened&&r.state.loaded)),y===r.id&&(h+=" jstree-last"),e.id=r.id,e.className=h,h=(r.state.selected?" jstree-clicked":"")+(r.state.disabled?" jstree-disabled":""),r.a_attr)if(r.a_attr.hasOwnProperty(c)){if("href"===c&&"#"===r.a_attr[c])continue;"class"!==c?e.childNodes[1].setAttribute(c,r.a_attr[c]):h+=" "+r.a_attr[c]}if(h.length&&(e.childNodes[1].className="jstree-anchor "+h),(r.icon&&!0!==r.icon||!1===r.icon)&&(!1===r.icon?e.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===r.icon.indexOf("/")&&-1===r.icon.indexOf(".")?e.childNodes[1].childNodes[0].className+=" "+r.icon+" jstree-themeicon-custom":(e.childNodes[1].childNodes[0].style.backgroundImage='url("'+r.icon+'")',e.childNodes[1].childNodes[0].style.backgroundPosition="center center",e.childNodes[1].childNodes[0].style.backgroundSize="auto",e.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?e.childNodes[1].appendChild(u.createTextNode(r.text)):e.childNodes[1].innerHTML+=r.text,t&&r.children.length&&(r.state.opened||i)&&r.state.loaded){for((d=u.createElement("UL")).setAttribute("role","group"),d.className="jstree-children",l=0,c=r.children.length;l<c;l++)d.appendChild(this.redraw_node(r.children[l],t,!0));e.appendChild(d)}if(a&&e.appendChild(a),!n){for(s||(s=this.element[0]),l=0,c=s.childNodes.length;l<c;l++)if(s.childNodes[l]&&s.childNodes[l].className&&-1!==s.childNodes[l].className.indexOf("jstree-children")){g=s.childNodes[l];break}g||((g=u.createElement("UL")).setAttribute("role","group"),g.className="jstree-children",s.appendChild(g)),o<(s=g).childNodes.length?s.insertBefore(e,s.childNodes[o]):s.appendChild(e),p&&(_=this.element[0].scrollTop,m=this.element[0].scrollLeft,e.childNodes[1].focus(),this.element[0].scrollTop=_,this.element[0].scrollLeft=m)}return r.state.opened&&!r.state.loaded&&(r.state.opened=!1,setTimeout(O.proxy(function(){this.open_node(r.id,!1,0)},this),0)),e},open_node:function(e,n,i){var t,r,s,o;if(O.isArray(e)){for(t=0,r=(e=e.slice()).length;t<r;t++)this.open_node(e[t],n,i);return!0}return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&(i=i===D?this.settings.core.animation:i,this.is_closed(e)?this.is_loaded(e)?(s=this.get_node(e,!0),o=this,s.length&&(i&&s.children(".jstree-children").length&&s.children(".jstree-children").stop(!0,!0),e.children.length&&!this._firstChild(s.children(".jstree-children")[0])&&this.draw_children(e),i?(this.trigger("before_open",{node:e}),s.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(i,function(){this.style.display="",o.element&&o.trigger("after_open",{node:e})})):(this.trigger("before_open",{node:e}),s[0].className=s[0].className.replace("jstree-closed","jstree-open"),s[0].setAttribute("aria-expanded",!0))),e.state.opened=!0,n&&n.call(this,e,!0),s.length||this.trigger("before_open",{node:e}),this.trigger("open_node",{node:e}),i&&s.length||this.trigger("after_open",{node:e}),!0):this.is_loading(e)?setTimeout(O.proxy(function(){this.open_node(e,n,i)},this),500):void this.load_node(e,function(e,t){return t?this.open_node(e,n,i):!!n&&n.call(this,e,!1)}):(n&&n.call(this,e,!1),!1))},_open_to:function(e){if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;var t,n,i=e.parents;for(t=0,n=i.length;t<n;t+=1)t!==O.jstree.root&&this.open_node(i[t],!1,0);return O("#"+e.id.replace(O.jstree.idregex,"\\$&"),this.element)},close_node:function(e,t){var n,i,r,s;if(O.isArray(e)){for(n=0,i=(e=e.slice()).length;n<i;n++)this.close_node(e[n],t);return!0}return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&!this.is_closed(e)&&(t=t===D?this.settings.core.animation:t,s=(r=this).get_node(e,!0),e.state.opened=!1,this.trigger("close_node",{node:e}),void(s.length?t?s.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(t,function(){this.style.display="",s.children(".jstree-children").remove(),r.element&&r.trigger("after_close",{node:e})}):(s[0].className=s[0].className.replace("jstree-open","jstree-closed"),s.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:e})):this.trigger("after_close",{node:e})))},toggle_node:function(e){var t,n;if(O.isArray(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.toggle_node(e[t]);return!0}return this.is_closed(e)?this.open_node(e):this.is_open(e)?this.close_node(e):void 0},open_all:function(e,n,i){if(e||(e=O.jstree.root),!(e=this.get_node(e)))return!1;var t,r,s,o=e.id===O.jstree.root?this.get_container_ul():this.get_node(e,!0);if(!o.length){for(t=0,r=e.children_d.length;t<r;t++)this.is_closed(this._model.data[e.children_d[t]])&&(this._model.data[e.children_d[t]].state.opened=!0);return this.trigger("open_all",{node:e})}i=i||o,(o=(s=this).is_closed(e)?o.find(".jstree-closed").addBack():o.find(".jstree-closed")).each(function(){s.open_node(this,function(e,t){t&&this.is_parent(e)&&this.open_all(e,n,i)},n||0)}),0===i.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(i)})},close_all:function(e,t){if(e||(e=O.jstree.root),!(e=this.get_node(e)))return!1;var n,i,r=e.id===O.jstree.root?this.get_container_ul():this.get_node(e,!0),s=this;for(r.length&&(r=this.is_open(e)?r.find(".jstree-open").addBack():r.find(".jstree-open"),O(r.get().reverse()).each(function(){s.close_node(this,t||0)})),n=0,i=e.children_d.length;n<i;n++)this._model.data[e.children_d[n]].state.opened=!1;this.trigger("close_all",{node:e})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(e){var t,n;if(O.isArray(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.enable_node(e[t]);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;e.state.disabled=!1,this.get_node(e,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:e})},disable_node:function(e){var t,n;if(O.isArray(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.disable_node(e[t]);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;e.state.disabled=!0,this.get_node(e,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:e})},is_hidden:function(e){return!0===(e=this.get_node(e)).state.hidden},hide_node:function(e,t){var n,i;if(O.isArray(e)){for(n=0,i=(e=e.slice()).length;n<i;n++)this.hide_node(e[n],!0);return t||this.redraw(),!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;e.state.hidden||(e.state.hidden=!0,this._node_changed(e.parent),t||this.redraw(),this.trigger("hide_node",{node:e}))},show_node:function(e,t){var n,i;if(O.isArray(e)){for(n=0,i=(e=e.slice()).length;n<i;n++)this.show_node(e[n],!0);return t||this.redraw(),!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;e.state.hidden&&(e.state.hidden=!1,this._node_changed(e.parent),t||this.redraw(),this.trigger("show_node",{node:e}))},hide_all:function(e){var t,n=this._model.data,i=[];for(t in n)n.hasOwnProperty(t)&&t!==O.jstree.root&&!n[t].state.hidden&&(n[t].state.hidden=!0,i.push(t));return this._model.force_full_redraw=!0,e||this.redraw(),this.trigger("hide_all",{nodes:i}),i},show_all:function(e){var t,n=this._model.data,i=[];for(t in n)n.hasOwnProperty(t)&&t!==O.jstree.root&&n[t].state.hidden&&(n[t].state.hidden=!1,i.push(t));return this._model.force_full_redraw=!0,e||this.redraw(),this.trigger("show_all",{nodes:i}),i},activate_node:function(e,t){if(this.is_disabled(e))return!1;if(t&&"object"==typeof t||(t={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==D?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(t.metaKey||t.ctrlKey||t.shiftKey)&&(!t.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(t.shiftKey){var n,i,r=this.get_node(e).id,s=this._data.core.last_clicked.id,o=this.get_node(this._data.core.last_clicked.parent).children,a=!1;for(n=0,i=o.length;n<i;n+=1)o[n]===r&&(a=!a),o[n]===s&&(a=!a),this.is_disabled(o[n])||!a&&o[n]!==r&&o[n]!==s?this.deselect_node(o[n],!0,t):this.is_hidden(o[n])||this.select_node(o[n],!0,!1,t);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:t})}else this.is_selected(e)?this.deselect_node(e,!1,t):this.select_node(e,!1,!1,t);else!this.settings.core.multiple&&(t.metaKey||t.ctrlKey||t.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,t):(this.deselect_all(!0),this.select_node(e,!1,!1,t),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:t})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),n=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){n.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||!e.children(".jstree-hovered").length)return!1;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(e,t,n,i){var r,s,o;if(O.isArray(e)){for(s=0,o=(e=e.slice()).length;s<o;s++)this.select_node(e[s],t,n,i);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;r=this.get_node(e,!0),e.state.selected||(e.state.selected=!0,this._data.core.selected.push(e.id),n||(r=this._open_to(e)),r&&r.length&&r.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:e,selected:this._data.core.selected,event:i}),t||this.trigger("changed",{action:"select_node",node:e,selected:this._data.core.selected,event:i}))},deselect_node:function(e,t,n){var i,r,s;if(O.isArray(e)){for(i=0,r=(e=e.slice()).length;i<r;i++)this.deselect_node(e[i],t,n);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;s=this.get_node(e,!0),e.state.selected&&(e.state.selected=!1,this._data.core.selected=O.vakata.array_remove_item(this._data.core.selected,e.id),s.length&&s.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:e,selected:this._data.core.selected,event:n}),t||this.trigger("changed",{action:"deselect_node",node:e,selected:this._data.core.selected,event:n}))},select_all:function(e){var t,n,i=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[O.jstree.root].children_d.concat(),t=0,n=this._data.core.selected.length;t<n;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),e||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:i})},deselect_all:function(e){var t,n,i=this._data.core.selected.concat([]);for(t=0,n=this._data.core.selected.length;t<n;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:i}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:i})},is_selected:function(e){return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&e.state.selected},get_selected:function(e){return e?O.map(this._data.core.selected,O.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(e){var t,n,i,r,s=this.get_selected(!0),o={};for(t=0,n=s.length;t<n;t++)o[s[t].id]=s[t];for(t=0,n=s.length;t<n;t++)for(i=0,r=s[t].children_d.length;i<r;i++)o[s[t].children_d[i]]&&delete o[s[t].children_d[i]];for(t in s=[],o)o.hasOwnProperty(t)&&s.push(t);return e?O.map(s,O.proxy(function(e){return this.get_node(e)},this)):s},get_bottom_selected:function(e){var t,n,i=this.get_selected(!0),r=[];for(t=0,n=i.length;t<n;t++)i[t].children.length||r.push(i[t].id);return e?O.map(r,O.proxy(function(e){return this.get_node(e)},this)):r},get_state:function(){var e,t={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(e in this._model.data)this._model.data.hasOwnProperty(e)&&e!==O.jstree.root&&(this._model.data[e].state.loaded&&this.settings.core.loaded_state&&t.core.loaded.push(e),this._model.data[e].state.opened&&t.core.open.push(e),this._model.data[e].state.selected&&t.core.selected.push(e));return t},set_state:function(t,n){if(t){if(t.core&&t.core.selected&&t.core.initial_selection===D&&(t.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),t.core){var i,e;if(t.core.loaded)return this.settings.core.loaded_state&&O.isArray(t.core.loaded)&&t.core.loaded.length?this._load_nodes(t.core.loaded,function(e){delete t.core.loaded,this.set_state(t,n)}):(delete t.core.loaded,this.set_state(t,n)),!1;if(t.core.open)return O.isArray(t.core.open)&&t.core.open.length?this._load_nodes(t.core.open,function(e){this.open_node(e,!1,0),delete t.core.open,this.set_state(t,n)}):(delete t.core.open,this.set_state(t,n)),!1;if(t.core.scroll)return t.core.scroll&&t.core.scroll.left!==D&&this.element.scrollLeft(t.core.scroll.left),t.core.scroll&&t.core.scroll.top!==D&&this.element.scrollTop(t.core.scroll.top),delete t.core.scroll,this.set_state(t,n),!1;if(t.core.selected)return i=this,t.core.initial_selection!==D&&t.core.initial_selection!==this._data.core.selected.concat([]).sort().join(",")||(this.deselect_all(),O.each(t.core.selected,function(e,t){i.select_node(t,!1,!0)})),delete t.core.initial_selection,delete t.core.selected,this.set_state(t,n),!1;for(e in t)t.hasOwnProperty(e)&&"core"!==e&&-1===O.inArray(e,this.settings.plugins)&&delete t[e];if(O.isEmptyObject(t.core))return delete t.core,this.set_state(t,n),!1}return!O.isEmptyObject(t)||(t=null,n&&n.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(e,t){this._data.core.state=!0===t?{}:this.get_state(),t&&O.isFunction(t)&&(this._data.core.state=t.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[O.jstree.root]={id:O.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var n=this.get_container_ul()[0].className;e||(this.element.html("<ul class='"+n+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(O.jstree.root,function(e,t){t&&(this.get_container_ul()[0].className=n,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(O.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===O.jstree.root)return!1;var n=[],e=[],i=this._data.core.selected.concat([]);e.push(t.id),!0===t.state.opened&&n.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){e.push(this.id),n.push(this.id)}),this._load_nodes(e,O.proxy(function(e){this.open_node(n,!1,0),this.select_node(i),this.trigger("refresh_node",{node:t,nodes:e})},this),!1,!0)},set_id:function(e,t){if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;var n,i,r=this._model.data,s=e.id;for(t=t.toString(),r[e.parent].children[O.inArray(e.id,r[e.parent].children)]=t,n=0,i=e.parents.length;n<i;n++)r[e.parents[n]].children_d[O.inArray(e.id,r[e.parents[n]].children_d)]=t;for(n=0,i=e.children.length;n<i;n++)r[e.children[n]].parent=t;for(n=0,i=e.children_d.length;n<i;n++)r[e.children_d[n]].parents[O.inArray(e.id,r[e.children_d[n]].parents)]=t;return-1!==(n=O.inArray(e.id,this._data.core.selected))&&(this._data.core.selected[n]=t),(n=this.get_node(e.id,!0))&&(n.attr("id",t),this.element.attr("aria-activedescendant")===e.id&&this.element.attr("aria-activedescendant",t)),delete r[e.id],e.id=t,r[e.li_attr.id=t]=e,this.trigger("set_id",{node:e,new:e.id,old:s}),!0},get_text:function(e){return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&e.text},set_text:function(e,t){var n,i;if(O.isArray(e)){for(n=0,i=(e=e.slice()).length;n<i;n++)this.set_text(e[n],t);return!0}return!(!(e=this.get_node(e))||e.id===O.jstree.root||(e.text=t,this.get_node(e,!0).length&&this.redraw_node(e.id),this.trigger("set_text",{obj:e,text:t}),0))},get_json:function(e,t,n){if(!(e=this.get_node(e||O.jstree.root)))return!1;t&&t.flat&&!n&&(n=[]);var i,r,s={id:e.id,text:e.text,icon:this.get_icon(e),li_attr:O.extend(!0,{},e.li_attr),a_attr:O.extend(!0,{},e.a_attr),state:{},data:(!t||!t.no_data)&&O.extend(!0,O.isArray(e.data)?[]:{},e.data)};if(t&&t.flat?s.parent=e.parent:s.children=[],t&&t.no_state)delete s.state;else for(i in e.state)e.state.hasOwnProperty(i)&&(s.state[i]=e.state[i]);if(t&&t.no_li_attr&&delete s.li_attr,t&&t.no_a_attr&&delete s.a_attr,t&&t.no_id&&(delete s.id,s.li_attr&&s.li_attr.id&&delete s.li_attr.id,s.a_attr&&s.a_attr.id&&delete s.a_attr.id),t&&t.flat&&e.id!==O.jstree.root&&n.push(s),!t||!t.no_children)for(i=0,r=e.children.length;i<r;i++)t&&t.flat?this.get_json(e.children[i],t,n):s.children.push(this.get_json(e.children[i],t));return t&&t.flat?n:e.id===O.jstree.root?s.children:s},create_node:function(e,t,n,i,r){if(null===e&&(e=O.jstree.root),!(e=this.get_node(e)))return!1;if(!(n=n===D?"last":n).toString().match(/^(before|after)$/)&&!r&&!this.is_loaded(e))return this.load_node(e,function(){this.create_node(e,t,n,i,!0)});var s,o,a,l;switch(t||(t={text:this.get_string("New node")}),(t="string"==typeof t?{text:t}:O.extend(!0,{},t)).text===D&&(t.text=this.get_string("New node")),e.id===O.jstree.root&&("before"===n&&(n="first"),"after"===n&&(n="last")),n){case"before":s=this.get_node(e.parent),n=O.inArray(e.id,s.children),e=s;break;case"after":s=this.get_node(e.parent),n=O.inArray(e.id,s.children)+1,e=s;break;case"inside":case"first":n=0;break;case"last":n=e.children.length;break;default:n||(n=0)}if(n>e.children.length&&(n=e.children.length),t.id||(t.id=!0),!this.check("create_node",t,e,n))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===t.id&&delete t.id,!(t=this._parse_model_from_json(t,e.id,e.parents.concat())))return!1;for(s=this.get_node(t),(o=[]).push(t),o=o.concat(s.children_d),this.trigger("model",{nodes:o,parent:e.id}),e.children_d=e.children_d.concat(o),a=0,l=e.parents.length;a<l;a++)this._model.data[e.parents[a]].children_d=this._model.data[e.parents[a]].children_d.concat(o);for(t=s,s=[],a=0,l=e.children.length;a<l;a++)s[n<=a?a+1:a]=e.children[a];return s[n]=t.id,e.children=s,this.redraw_node(e,!0),this.trigger("create_node",{node:this.get_node(t),parent:e.id,position:n}),i&&i.call(this,this.get_node(t)),t.id},rename_node:function(e,t){var n,i,r;if(O.isArray(e)){for(n=0,i=(e=e.slice()).length;n<i;n++)this.rename_node(e[n],t);return!0}return!(!(e=this.get_node(e))||e.id===O.jstree.root||(r=e.text,this.check("rename_node",e,this.get_parent(e),t)?(this.set_text(e,t),this.trigger("rename_node",{node:e,text:t,old:r}),0):(this.settings.core.error.call(this,this._data.core.last_error),1)))},delete_node:function(e){var t,n,i,r,s,o,a,l,c,d,h,u;if(O.isArray(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.delete_node(e[t]);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;if(i=this.get_node(e.parent),r=O.inArray(e.id,i.children),d=!1,!this.check("delete_node",e,i,r))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==r&&(i.children=O.vakata.array_remove(i.children,r)),(s=e.children_d.concat([])).push(e.id),o=0,a=e.parents.length;o<a;o++)this._model.data[e.parents[o]].children_d=O.vakata.array_filter(this._model.data[e.parents[o]].children_d,function(e){return-1===O.inArray(e,s)});for(l=0,c=s.length;l<c;l++)if(this._model.data[s[l]].state.selected){d=!0;break}for(d&&(this._data.core.selected=O.vakata.array_filter(this._data.core.selected,function(e){return-1===O.inArray(e,s)})),this.trigger("delete_node",{node:e,parent:i.id}),d&&this.trigger("changed",{action:"delete_node",node:e,selected:this._data.core.selected,parent:i.id}),l=0,c=s.length;l<c;l++)delete this._model.data[s[l]];return-1!==O.inArray(this._data.core.focused,s)&&(this._data.core.focused=null,h=this.element[0].scrollTop,u=this.element[0].scrollLeft,i.id===O.jstree.root?this._model.data[O.jstree.root].children[0]&&this.get_node(this._model.data[O.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(i,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=h,this.element[0].scrollLeft=u),this.redraw_node(i,!0),!0},check:function(e,t,n,i,r){t=t&&t.id?t:this.get_node(t),n=n&&n.id?n:this.get_node(n);var s=e.match(/^move_node|copy_node|create_node$/i)?n:t,o=this.settings.core.check_callback;return"move_node"!==e&&"copy_node"!==e||r&&r.is_multi||t.id!==n.id&&("move_node"!==e||O.inArray(t.id,n.children)!==i)&&-1===O.inArray(n.id,t.children_d)?(s&&s.data&&(s=s.data),s&&s.functions&&(!1===s.functions[e]||!0===s.functions[e])?(!1===s.functions[e]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+e,data:JSON.stringify({chk:e,pos:i,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})}),s.functions[e]):!(!1===o||O.isFunction(o)&&!1===o.call(this,e,t,n,i,r)||o&&!1===o[e])||!(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+e,data:JSON.stringify({chk:e,pos:i,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})})):!(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:e,pos:i,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})})},last_error:function(){return this._data.core.last_error},move_node:function(e,t,n,i,r,s,o){var a,l,c,d,h,u,f,p,g,_,m,v,y,b;if(t=this.get_node(t),n=n===D?0:n,!t)return!1;if(!n.toString().match(/^(before|after)$/)&&!r&&!this.is_loaded(t))return this.load_node(t,function(){this.move_node(e,t,n,i,!0,!1,o)});if(O.isArray(e)){if(1!==e.length){for(a=0,l=e.length;a<l;a++)(g=this.move_node(e[a],t,n,i,r,!1,o))&&(t=g,n="after");return this.redraw(),!0}e=e[0]}if(!(e=e&&e.id?e:this.get_node(e))||e.id===O.jstree.root)return!1;if(c=(e.parent||O.jstree.root).toString(),h=n.toString().match(/^(before|after)$/)&&t.id!==O.jstree.root?this.get_node(t.parent):t,f=!(u=o||(this._model.data[e.id]?this:O.jstree.reference(e.id)))||!u._id||this._id!==u._id,d=u&&u._id&&c&&u._model.data[c]&&u._model.data[c].children?O.inArray(e.id,u._model.data[c].children):-1,u&&u._id&&(e=u._model.data[e.id]),f)return!!(g=this.copy_node(e,t,n,i,r,!1,o))&&(u&&u.delete_node(e),g);switch(t.id===O.jstree.root&&("before"===n&&(n="first"),"after"===n&&(n="last")),n){case"before":n=O.inArray(t.id,h.children);break;case"after":n=O.inArray(t.id,h.children)+1;break;case"inside":case"first":n=0;break;case"last":n=h.children.length;break;default:n||(n=0)}if(n>h.children.length&&(n=h.children.length),!this.check("move_node",e,h,n,{core:!0,origin:o,is_multi:u&&u._id&&u._id!==this._id,is_foreign:!u||!u._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(e.parent===h.id){for(p=h.children.concat(),-1!==(g=O.inArray(e.id,p))&&(p=O.vakata.array_remove(p,g),g<n&&n--),g=[],_=0,m=p.length;_<m;_++)g[n<=_?_+1:_]=p[_];g[n]=e.id,h.children=g,this._node_changed(h.id),this.redraw(h.id===O.jstree.root)}else{for((g=e.children_d.concat()).push(e.id),_=0,m=e.parents.length;_<m;_++){for(p=[],v=0,y=(b=u._model.data[e.parents[_]].children_d).length;v<y;v++)-1===O.inArray(b[v],g)&&p.push(b[v]);u._model.data[e.parents[_]].children_d=p}for(u._model.data[c].children=O.vakata.array_remove_item(u._model.data[c].children,e.id),_=0,m=h.parents.length;_<m;_++)this._model.data[h.parents[_]].children_d=this._model.data[h.parents[_]].children_d.concat(g);for(p=[],_=0,m=h.children.length;_<m;_++)p[n<=_?_+1:_]=h.children[_];for(p[n]=e.id,h.children=p,h.children_d.push(e.id),h.children_d=h.children_d.concat(e.children_d),e.parent=h.id,(g=h.parents.concat()).unshift(h.id),b=e.parents.length,g=(e.parents=g).concat(),_=0,m=e.children_d.length;_<m;_++)this._model.data[e.children_d[_]].parents=this._model.data[e.children_d[_]].parents.slice(0,-1*b),Array.prototype.push.apply(this._model.data[e.children_d[_]].parents,g);c!==O.jstree.root&&h.id!==O.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(c),this._node_changed(h.id)),s||this.redraw()}return i&&i.call(this,e,h,n),this.trigger("move_node",{node:e,parent:h.id,position:n,old_parent:c,old_position:d,is_multi:u&&u._id&&u._id!==this._id,is_foreign:!u||!u._id,old_instance:u,new_instance:this}),e.id},copy_node:function(e,t,n,i,r,s,o){var a,l,c,d,h,u,f,p,g,_;if(t=this.get_node(t),n=n===D?0:n,!t)return!1;if(!n.toString().match(/^(before|after)$/)&&!r&&!this.is_loaded(t))return this.load_node(t,function(){this.copy_node(e,t,n,i,!0,!1,o)});if(O.isArray(e)){if(1!==e.length){for(a=0,l=e.length;a<l;a++)(d=this.copy_node(e[a],t,n,i,r,!0,o))&&(t=d,n="after");return this.redraw(),!0}e=e[0]}if(!(e=e&&e.id?e:this.get_node(e))||e.id===O.jstree.root)return!1;switch(p=(e.parent||O.jstree.root).toString(),g=n.toString().match(/^(before|after)$/)&&t.id!==O.jstree.root?this.get_node(t.parent):t,!(_=o||(this._model.data[e.id]?this:O.jstree.reference(e.id)))||!_._id||(this._id,_._id),_&&_._id&&(e=_._model.data[e.id]),t.id===O.jstree.root&&("before"===n&&(n="first"),"after"===n&&(n="last")),n){case"before":n=O.inArray(t.id,g.children);break;case"after":n=O.inArray(t.id,g.children)+1;break;case"inside":case"first":n=0;break;case"last":n=g.children.length;break;default:n||(n=0)}if(n>g.children.length&&(n=g.children.length),!this.check("copy_node",e,g,n,{core:!0,origin:o,is_multi:_&&_._id&&_._id!==this._id,is_foreign:!_||!_._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(f=_?_.get_json(e,{no_id:!0,no_data:!0,no_state:!0}):e))return!1;if(!0===f.id&&delete f.id,!(f=this._parse_model_from_json(f,g.id,g.parents.concat())))return!1;for(d=this.get_node(f),e&&e.state&&!1===e.state.loaded&&(d.state.loaded=!1),(c=[]).push(f),c=c.concat(d.children_d),this.trigger("model",{nodes:c,parent:g.id}),h=0,u=g.parents.length;h<u;h++)this._model.data[g.parents[h]].children_d=this._model.data[g.parents[h]].children_d.concat(c);for(c=[],h=0,u=g.children.length;h<u;h++)c[n<=h?h+1:h]=g.children[h];return c[n]=d.id,g.children=c,g.children_d.push(d.id),g.children_d=g.children_d.concat(d.children_d),g.id===O.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(g.id),s||this.redraw(g.id===O.jstree.root),i&&i.call(this,d,g,n),this.trigger("copy_node",{node:d,original:e,parent:g.id,position:n,old_parent:p,old_position:_&&_._id&&p&&_._model.data[p]&&_._model.data[p].children?O.inArray(e.id,_._model.data[p].children):-1,is_multi:_&&_._id&&_._id!==this._id,is_foreign:!_||!_._id,old_instance:_,new_instance:this}),d.id},cut:function(e){if(e||(e=this._data.core.selected.concat()),O.isArray(e)||(e=[e]),!e.length)return!1;var t,n,i,r=[];for(n=0,i=e.length;n<i;n++)(t=this.get_node(e[n]))&&t.id&&t.id!==O.jstree.root&&r.push(t);if(!r.length)return!1;s=r,o="move_node",(a=this).trigger("cut",{node:e})},copy:function(e){if(e||(e=this._data.core.selected.concat()),O.isArray(e)||(e=[e]),!e.length)return!1;var t,n,i,r=[];for(n=0,i=e.length;n<i;n++)(t=this.get_node(e[n]))&&t.id&&t.id!==O.jstree.root&&r.push(t);if(!r.length)return!1;s=r,o="copy_node",(a=this).trigger("copy",{node:e})},get_buffer:function(){return{mode:o,node:s,inst:a}},can_paste:function(){return!1!==o&&!1!==s},paste:function(e,t){if(!((e=this.get_node(e))&&o&&o.match(/^(copy_node|move_node)$/)&&s))return!1;this[o](s,e,t,!1,!1,!1,a)&&this.trigger("paste",{parent:e.id,node:s,mode:o}),a=o=s=!1},clear_buffer:function(){a=o=s=!1,this.trigger("clear_buffer")},edit:function(r,e,s){var t,n,o,a,l,c,d,i,h,u=!1;return!!(r=this.get_node(r))&&(this.check("edit",r,this.get_parent(r))?(h=r,e="string"==typeof e?e:r.text,this.set_text(r,""),r=this._open_to(r),h.text=e,t=this._data.core.rtl,n=this.element.width(),this._data.core.focused=h.id,o=r.children(".jstree-anchor").focus(),a=O("<span>"),l=e,c=O("<div />",{css:{position:"absolute",top:"-200px",left:t?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),d=O("<input />",{value:l,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:O.proxy(function(e){e.stopImmediatePropagation(),e.preventDefault();var t,n=a.children(".jstree-rename-input").val(),i=this.settings.core.force_text;""===n&&(n=l),c.remove(),a.replaceWith(o),a.remove(),l=i?l:O("<div></div>").append(O.parseHTML(l)).html(),this.set_text(r,l),(t=!!this.rename_node(r,i?O("<div></div>").text(n).text():O("<div></div>").append(O.parseHTML(n)).html()))||this.set_text(r,l),this._data.core.focused=h.id,setTimeout(O.proxy(function(){var e=this.get_node(h.id,!0);e.length&&(this._data.core.focused=h.id,e.children(".jstree-anchor").focus())},this),0),s&&s.call(this,h,t,u),d=null},this),keydown:function(e){var t=e.which;27===t&&(u=!0,this.value=l),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){d.width(Math.min(c.text("pW"+this.value).width(),n))},keypress:function(e){if(13===e.which)return!1}}),i={fontFamily:o.css("fontFamily")||"",fontSize:o.css("fontSize")||"",fontWeight:o.css("fontWeight")||"",fontStyle:o.css("fontStyle")||"",fontStretch:o.css("fontStretch")||"",fontVariant:o.css("fontVariant")||"",letterSpacing:o.css("letterSpacing")||"",wordSpacing:o.css("wordSpacing")||""},a.attr("class",o.attr("class")).append(o.contents().clone()).append(d),o.replaceWith(a),c.css(i),d.css(i).width(Math.min(c.text("pW"+d[0].value).width(),n))[0].select(),void O(b).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(e){d&&e.target!==d&&O(d).blur()})):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(e,t){if(!e)return!1;if(!0===t){var n=this.settings.core.themes.dir;n||(n=O.jstree.path+"/themes"),t=n+"/"+e+"/style.css"}t&&-1===O.inArray(t,i)&&(O("head").append('<link rel="stylesheet" href="'+t+'" type="text/css" />'),i.push(t)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=e,this.element.addClass("jstree-"+e),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+e+"-responsive"),this.trigger("set_theme",{theme:e})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),(this._data.core.themes.variant=e)&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(e,t){var n,i,r,s;if(O.isArray(e)){for(n=0,i=(e=e.slice()).length;n<i;n++)this.set_icon(e[n],t);return!0}return!(!(e=this.get_node(e))||e.id===O.jstree.root||(s=e.icon,e.icon=!0===t||null===t||t===D||""===t||t,r=this.get_node(e,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===t?(r.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"),this.hide_icon(e)):(!0===t||null===t||t===D||""===t?r.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"):-1===t.indexOf("/")&&-1===t.indexOf(".")?(r.removeClass(s).css("background",""),r.addClass(t+" jstree-themeicon-custom").attr("rel",t)):(r.removeClass(s).css("background",""),r.addClass("jstree-themeicon-custom").css("background","url('"+t+"') center center no-repeat").attr("rel",t)),!1===s&&this.show_icon(e)),0))},get_icon:function(e){return!(!(e=this.get_node(e))||e.id===O.jstree.root)&&e.icon},hide_icon:function(e){var t,n;if(O.isArray(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.hide_icon(e[t]);return!0}return!(!(e=this.get_node(e))||e===O.jstree.root||(e.icon=!1,this.get_node(e,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),0))},show_icon:function(e){var t,n,i;if(O.isArray(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.show_icon(e[t]);return!0}return!(!(e=this.get_node(e))||e===O.jstree.root||(i=this.get_node(e,!0),e.icon=!i.length||i.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),e.icon||(e.icon=!0),i.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),0))}},O.vakata={},O.vakata.attributes=function(e,n){e=O(e)[0];var i=n?{}:[];return e&&e.attributes&&O.each(e.attributes,function(e,t){-1===O.inArray(t.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==t.value&&""!==O.trim(t.value)&&(n?i[t.name]=t.value:i.push(t.name))}),i},O.vakata.array_unique=function(e){var t,n,i=[],r={};for(t=0,n=e.length;t<n;t++)r[e[t]]===D&&(i.push(e[t]),r[e[t]]=!0);return i},O.vakata.array_remove=function(e,t){return e.splice(t,1),e},O.vakata.array_remove_item=function(e,t){var n=O.inArray(t,e);return-1!==n?O.vakata.array_remove(e,n):e},O.vakata.array_filter=function(e,t,n,i,r){if(e.filter)return e.filter(t,n);for(r in i=[],e)~~r+""==r+""&&0<=r&&t.call(n,e[r],+r,e)&&i.push(e[r]);return i},O.jstree.plugins.changed=function(e,s){var o=[];this.trigger=function(e,t){var n,i;if(t||(t={}),"changed"===e.replace(".jstree","")){t.changed={selected:[],deselected:[]};var r={};for(n=0,i=o.length;n<i;n++)r[o[n]]=1;for(n=0,i=t.selected.length;n<i;n++)r[t.selected[n]]?r[t.selected[n]]=2:t.changed.selected.push(t.selected[n]);for(n=0,i=o.length;n<i;n++)1===r[o[n]]&&t.changed.deselected.push(o[n]);o=t.selected.slice()}s.trigger.call(this,e,t)},this.refresh=function(e,t){return o=[],s.refresh.apply(this,arguments)}};var l,c,d=b.createElement("I");d.className="jstree-icon jstree-checkbox",d.setAttribute("role","presentation"),O.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},O.jstree.plugins.checkbox=function(e,l){this.bind=function(){l.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",O.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",O.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",O.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(O.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",O.proxy(function(e,t){var n,i,r=this._model.data,s=(r[t.parent],t.nodes);for(n=0,i=s.length;n<i;n++)r[s[n]].state.checked=r[s[n]].state.checked||r[s[n]].original&&r[s[n]].original.state&&r[s[n]].original.state.checked,r[s[n]].state.checked&&this._data.checkbox.selected.push(s[n])},this)),-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",O.proxy(function(e,t){var n,i,r,s,o,a,l=this._model.data,c=l[t.parent],d=t.nodes,h=[],u=this.settings.checkbox.cascade,f=this.settings.checkbox.tie_selection;if(-1!==u.indexOf("down"))if(c.state[f?"selected":"checked"]){for(i=0,r=d.length;i<r;i++)l[d[i]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(d)}else for(i=0,r=d.length;i<r;i++)if(l[d[i]].state[f?"selected":"checked"]){for(s=0,o=l[d[i]].children_d.length;s<o;s++)l[l[d[i]].children_d[s]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(l[d[i]].children_d)}if(-1!==u.indexOf("up")){for(i=0,r=c.children_d.length;i<r;i++)l[c.children_d[i]].children.length||h.push(l[c.children_d[i]].parent);for(s=0,o=(h=O.vakata.array_unique(h)).length;s<o;s++)for(c=l[h[s]];c&&c.id!==O.jstree.root;){for(i=n=0,r=c.children.length;i<r;i++)n+=l[c.children[i]].state[f?"selected":"checked"];if(n!==r)break;c.state[f?"selected":"checked"]=!0,this._data[f?"core":"checkbox"].selected.push(c.id),(a=this.get_node(c,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(f?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}}this._data[f?"core":"checkbox"].selected=O.vakata.array_unique(this._data[f?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",O.proxy(function(e,t){var n,i,r,s,o=t.node,a=this._model.data,l=this.get_node(o.parent),c=this.settings.checkbox.cascade,d=this.settings.checkbox.tie_selection,h={},u=this._data[d?"core":"checkbox"].selected;for(n=0,i=u.length;n<i;n++)h[u[n]]=!0;if(-1!==c.indexOf("down")){var f=this._cascade_new_checked_state(o.id,!0),p=o.children_d.concat(o.id);for(n=0,i=p.length;n<i;n++)-1<f.indexOf(p[n])?h[p[n]]=!0:delete h[p[n]]}if(-1!==c.indexOf("up"))for(;l&&l.id!==O.jstree.root;){for(n=r=0,i=l.children.length;n<i;n++)r+=a[l.children[n]].state[d?"selected":"checked"];if(r!==i)break;l.state[d?"selected":"checked"]=!0,h[l.id]=!0,(s=this.get_node(l,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(d?"jstree-clicked":"jstree-checked"),l=this.get_node(l.parent)}for(n in u=[],h)h.hasOwnProperty(n)&&u.push(n);this._data[d?"core":"checkbox"].selected=u},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",O.proxy(function(e,t){var n,i,r,s=this.get_node(O.jstree.root),o=this._model.data;for(n=0,i=s.children_d.length;n<i;n++)(r=o[s.children_d[n]])&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",O.proxy(function(e,t){var n,i,r,s=t.node,o=(this.get_node(s,!0),this.settings.checkbox.cascade),a=this.settings.checkbox.tie_selection,l=this._data[a?"core":"checkbox"].selected,c=s.children_d.concat(s.id);if(-1!==o.indexOf("down")){var d=this._cascade_new_checked_state(s.id,!1);l=l.filter(function(e){return-1===c.indexOf(e)||-1<d.indexOf(e)})}if(-1!==o.indexOf("up")&&-1===l.indexOf(s.id)){for(n=0,i=s.parents.length;n<i;n++)(r=this._model.data[s.parents[n]]).state[a?"selected":"checked"]=!1,r&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1),(r=this.get_node(s.parents[n],!0))&&r.length&&r.attr("aria-selected",!1).children(".jstree-anchor").removeClass(a?"jstree-clicked":"jstree-checked");l=l.filter(function(e){return-1===s.parents.indexOf(e)})}this._data[a?"core":"checkbox"].selected=l},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",O.proxy(function(e,t){for(var n,i,r,s,o=this.get_node(t.parent),a=this._model.data,l=this.settings.checkbox.tie_selection;o&&o.id!==O.jstree.root&&!o.state[l?"selected":"checked"];){for(n=r=0,i=o.children.length;n<i;n++)r+=a[o.children[n]].state[l?"selected":"checked"];if(!(0<i&&r===i))break;o.state[l?"selected":"checked"]=!0,this._data[l?"core":"checkbox"].selected.push(o.id),(s=this.get_node(o,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(l?"jstree-clicked":"jstree-checked"),o=this.get_node(o.parent)}},this)).on("move_node.jstree",O.proxy(function(e,t){var n,i,r,s,o,a=t.is_multi,l=t.old_parent,c=this.get_node(t.parent),d=this._model.data,h=this.settings.checkbox.tie_selection;if(!a)for(n=this.get_node(l);n&&n.id!==O.jstree.root&&!n.state[h?"selected":"checked"];){for(r=i=0,s=n.children.length;r<s;r++)i+=d[n.children[r]].state[h?"selected":"checked"];if(!(0<s&&i===s))break;n.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(n.id),(o=this.get_node(n,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),n=this.get_node(n.parent)}for(n=c;n&&n.id!==O.jstree.root;){for(r=i=0,s=n.children.length;r<s;r++)i+=d[n.children[r]].state[h?"selected":"checked"];if(i===s)n.state[h?"selected":"checked"]||(n.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(n.id),(o=this.get_node(n,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"));else{if(!n.state[h?"selected":"checked"])break;n.state[h?"selected":"checked"]=!1,this._data[h?"core":"checkbox"].selected=O.vakata.array_remove_item(this._data[h?"core":"checkbox"].selected,n.id),(o=this.get_node(n,!0))&&o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass(h?"jstree-clicked":"jstree-checked")}n=this.get_node(n.parent)}},this))},this.get_undetermined=function(e){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];var n,i,r,s,o={},a=this._model.data,t=this.settings.checkbox.tie_selection,l=this._data[t?"core":"checkbox"].selected,c=[],d=this,h=[];for(n=0,i=l.length;n<i;n++)if(a[l[n]]&&a[l[n]].parents)for(r=0,s=a[l[n]].parents.length;r<s&&o[a[l[n]].parents[r]]===D;r++)a[l[n]].parents[r]!==O.jstree.root&&(o[a[l[n]].parents[r]]=!0,c.push(a[l[n]].parents[r]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var e,t=d.get_node(this);if(t)if(t.state.loaded){for(n=0,i=t.children_d.length;n<i;n++)if(!(e=a[t.children_d[n]]).state.loaded&&e.original&&e.original.state&&e.original.state.undetermined&&!0===e.original.state.undetermined)for(o[e.id]===D&&e.id!==O.jstree.root&&(o[e.id]=!0,c.push(e.id)),r=0,s=e.parents.length;r<s;r++)o[e.parents[r]]===D&&e.parents[r]!==O.jstree.root&&(o[e.parents[r]]=!0,c.push(e.parents[r]))}else if(t.original&&t.original.state&&t.original.state.undetermined&&!0===t.original.state.undetermined)for(o[t.id]===D&&t.id!==O.jstree.root&&(o[t.id]=!0,c.push(t.id)),r=0,s=t.parents.length;r<s;r++)o[t.parents[r]]===D&&t.parents[r]!==O.jstree.root&&(o[t.parents[r]]=!0,c.push(t.parents[r]))}),n=0,i=c.length;n<i;n++)a[c[n]].state[t?"selected":"checked"]||h.push(e?a[c[n]]:c[n]);return h},this._undetermined=function(){if(null!==this.element){var e,t,n,i=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),e=0,t=i.length;e<t;e++)(n=this.get_node(i[e],!0))&&n.length&&n.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(e,t,n,i){if(e=l.redraw_node.apply(this,arguments)){var r,s,o=null,a=null;for(r=0,s=e.childNodes.length;r<s;r++)if(e.childNodes[r]&&e.childNodes[r].className&&-1!==e.childNodes[r].className.indexOf("jstree-anchor")){o=e.childNodes[r];break}o&&(!this.settings.checkbox.tie_selection&&this._model.data[e.id].state.checked&&(o.className+=" jstree-checked"),a=d.cloneNode(!1),this._model.data[e.id].state.checkbox_disabled&&(a.className+=" jstree-checkbox-disabled"),o.insertBefore(a,o.childNodes[0]))}return n||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(O.proxy(this._undetermined,this),50)),e},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(e){e=this.get_node(e);var t,n,i=this.settings.checkbox.cascade,r=this.settings.checkbox.tie_selection,s=this._data[r?"core":"checkbox"].selected,o=this._model.data;if(!e||!0===e.state[r?"selected":"checked"]||-1===i.indexOf("undetermined")||-1===i.indexOf("down")&&-1===i.indexOf("up"))return!1;if(!e.state.loaded&&!0===e.original.state.undetermined)return!0;for(t=0,n=e.children_d.length;t<n;t++)if(-1!==O.inArray(e.children_d[t],s)||!o[e.children_d[t]].state.loaded&&o[e.children_d[t]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(e){var t,n,i;if(O.isArray(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.disable_checkbox(e[t]);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;i=this.get_node(e,!0),e.state.checkbox_disabled||(e.state.checkbox_disabled=!0,i&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:e}))},this.enable_checkbox=function(e){var t,n,i;if(O.isArray(e)){for(t=0,n=(e=e.slice()).length;t<n;t++)this.enable_checkbox(e[t]);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;i=this.get_node(e,!0),e.state.checkbox_disabled&&(e.state.checkbox_disabled=!1,i&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:e}))},this.activate_node=function(e,t){return!O(t.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||O(t.target).hasClass("jstree-checkbox"))&&(t.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!O(t.target).hasClass("jstree-checkbox")?l.activate_node.call(this,e,t):!this.is_disabled(e)&&(this.is_checked(e)?this.uncheck_node(e,t):this.check_node(e,t),void this.trigger("activate_node",{node:this.get_node(e)})))},this._cascade_new_checked_state=function(e,t){var n,i,r,s=this.settings.checkbox.tie_selection,o=this._model.data[e],a=[],l=[];if(!this.settings.checkbox.cascade_to_disabled&&o.state.disabled||!this.settings.checkbox.cascade_to_hidden&&o.state.hidden)r=this.get_checked_descendants(e),o.state[s?"selected":"checked"]&&r.push(o.id),a=a.concat(r);else{if(o.children)for(n=0,i=o.children.length;n<i;n++){var c=o.children[n];r=this._cascade_new_checked_state(c,t),a=a.concat(r),-1<r.indexOf(c)&&l.push(c)}var d=this.get_node(o,!0),h=0<l.length&&l.length<o.children.length;o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=h),h?(o.state[s?"selected":"checked"]=!1,d.attr("aria-selected",!1).children(".jstree-anchor").removeClass(s?"jstree-clicked":"jstree-checked")):t&&l.length===o.children.length?(o.state[s?"selected":"checked"]=t,a.push(o.id),d.attr("aria-selected",!0).children(".jstree-anchor").addClass(s?"jstree-clicked":"jstree-checked")):(o.state[s?"selected":"checked"]=!1,d.attr("aria-selected",!1).children(".jstree-anchor").removeClass(s?"jstree-clicked":"jstree-checked"))}return a},this.get_checked_descendants=function(e){var t=this,n=t.settings.checkbox.tie_selection;return t._model.data[e].children_d.filter(function(e){return t._model.data[e].state[n?"selected":"checked"]})},this.check_node=function(e,t){if(this.settings.checkbox.tie_selection)return this.select_node(e,!1,!0,t);var n,i,r;if(O.isArray(e)){for(i=0,r=(e=e.slice()).length;i<r;i++)this.check_node(e[i],t);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;n=this.get_node(e,!0),e.state.checked||(e.state.checked=!0,this._data.checkbox.selected.push(e.id),n&&n.length&&n.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:e,selected:this._data.checkbox.selected,event:t}))},this.uncheck_node=function(e,t){if(this.settings.checkbox.tie_selection)return this.deselect_node(e,!1,t);var n,i,r;if(O.isArray(e)){for(n=0,i=(e=e.slice()).length;n<i;n++)this.uncheck_node(e[n],t);return!0}if(!(e=this.get_node(e))||e.id===O.jstree.root)return!1;r=this.get_node(e,!0),e.state.checked&&(e.state.checked=!1,this._data.checkbox.selected=O.vakata.array_remove_item(this._data.checkbox.selected,e.id),r.length&&r.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:e,selected:this._data.checkbox.selected,event:t}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var e,t;for(this._data.checkbox.selected.concat([]),this._data.checkbox.selected=this._model.data[O.jstree.root].children_d.concat(),e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,n=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:n})},this.is_checked=function(e){return this.settings.checkbox.tie_selection?this.is_selected(e):!(!(e=this.get_node(e))||e.id===O.jstree.root)&&e.state.checked},this.get_checked=function(e){return this.settings.checkbox.tie_selection?this.get_selected(e):e?O.map(this._data.checkbox.selected,O.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected},this.get_top_checked=function(e){if(this.settings.checkbox.tie_selection)return this.get_top_selected(e);var t,n,i,r,s=this.get_checked(!0),o={};for(t=0,n=s.length;t<n;t++)o[s[t].id]=s[t];for(t=0,n=s.length;t<n;t++)for(i=0,r=s[t].children_d.length;i<r;i++)o[s[t].children_d[i]]&&delete o[s[t].children_d[i]];for(t in s=[],o)o.hasOwnProperty(t)&&s.push(t);return e?O.map(s,O.proxy(function(e){return this.get_node(e)},this)):s},this.get_bottom_checked=function(e){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(e);var t,n,i=this.get_checked(!0),r=[];for(t=0,n=i.length;t<n;t++)i[t].children.length||r.push(i[t].id);return e?O.map(r,O.proxy(function(e){return this.get_node(e)},this)):r},this.load_node=function(e,t){var n,i,r;if(!O.isArray(e)&&!this.settings.checkbox.tie_selection&&(r=this.get_node(e))&&r.state.loaded)for(n=0,i=r.children_d.length;n<i;n++)this._model.data[r.children_d[n]].state.checked&&(this._data.checkbox.selected=O.vakata.array_remove_item(this._data.checkbox.selected,r.children_d[n]));return l.load_node.apply(this,arguments)},this.get_state=function(){var e=l.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(e.checkbox=this._data.checkbox.selected.slice()),e},this.set_state=function(e,t){var n=l.set_state.apply(this,arguments);if(n&&e.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var i=this;O.each(e.checkbox,function(e,t){i.check_node(t)})}return delete e.checkbox,this.set_state(e,t),!1}return n},this.refresh=function(e,t){return this.settings.checkbox.tie_selection||(this._data.checkbox.selected=[]),l.refresh.apply(this,arguments)}},O.jstree.defaults.conditionalselect=function(){return!0},O.jstree.plugins.conditionalselect=function(e,n){this.activate_node=function(e,t){if(this.settings.conditionalselect.call(this,this.get_node(e),t))return n.activate_node.call(this,e,t)}},O.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(e,t){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(e){var n=O.jstree.reference(e.reference),t=n.get_node(e.reference);n.create_node(t,{},"last",function(t){try{n.edit(t)}catch(e){setTimeout(function(){n.edit(t)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(e){var t=O.jstree.reference(e.reference),n=t.get_node(e.reference);t.edit(n)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(e){var t=O.jstree.reference(e.reference),n=t.get_node(e.reference);t.is_selected(n)?t.delete_node(t.get_selected()):t.delete_node(n)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(e){var t=O.jstree.reference(e.reference),n=t.get_node(e.reference);t.is_selected(n)?t.cut(t.get_top_selected()):t.cut(n)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(e){var t=O.jstree.reference(e.reference),n=t.get_node(e.reference);t.is_selected(n)?t.copy(t.get_top_selected()):t.copy(n)}},paste:{separator_before:!1,icon:!1,_disabled:function(e){return!O.jstree.reference(e.reference).can_paste()},separator_after:!1,label:"Paste",action:function(e){var t=O.jstree.reference(e.reference),n=t.get_node(e.reference);t.paste(n)}}}}}}},O.jstree.plugins.contextmenu=function(e,s){this.bind=function(){s.bind.call(this);var t,n,i=0,r=null;this.element.on("init.jstree loading.jstree ready.jstree",O.proxy(function(){this.get_container_ul().addClass("jstree-contextmenu")},this)).on("contextmenu.jstree",".jstree-anchor",O.proxy(function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),i=e.ctrlKey?+new Date:0,(t||r)&&(i=+new Date+1e4),r&&clearTimeout(r),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))},this)).on("click.jstree",".jstree-anchor",O.proxy(function(e){this._data.contextmenu.visible&&(!i||250<+new Date-i)&&O.vakata.context.hide(),i=0},this)).on("touchstart.jstree",".jstree-anchor",function(e){e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(t=e.originalEvent.changedTouches[0].clientX,n=e.originalEvent.changedTouches[0].clientY,r=setTimeout(function(){O(e.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(e){r&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(10<Math.abs(t-e.originalEvent.changedTouches[0].clientX)||10<Math.abs(n-e.originalEvent.changedTouches[0].clientY))&&(clearTimeout(r),O.vakata.context.hide())}).on("touchend.vakata.jstree",function(e){r&&clearTimeout(r)}),O(b).on("context_hide.vakata.jstree",O.proxy(function(e,t){this._data.contextmenu.visible=!1,O(t.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&O.vakata.context.hide(),s.teardown.call(this)},this.show_contextmenu=function(t,n,i,e){if(!(t=this.get_node(t))||t.id===O.jstree.root)return!1;var r=this.settings.contextmenu,s=this.get_node(t,!0).children(".jstree-anchor"),o=!1,a=!1;(r.show_at_node||n===D||i===D)&&(o=s.offset(),n=o.left,i=o.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(t)&&this.activate_node(t,e),a=r.items,O.isFunction(a)&&(a=a.call(this,t,O.proxy(function(e){this._show_contextmenu(t,n,i,e)},this))),O.isPlainObject(a)&&this._show_contextmenu(t,n,i,a)},this._show_contextmenu=function(e,t,n,i){var r=this.get_node(e,!0).children(".jstree-anchor");O(b).one("context_show.vakata.jstree",O.proxy(function(e,t){var n="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";O(t.element).addClass(n),r.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,O.vakata.context.show(r,{x:t,y:n},i),this.trigger("show_contextmenu",{node:e,x:t,y:n})}},m={element:_=!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1},(g=O).vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(e){g(b).triggerHandler("context_"+e+".vakata",{reference:m.reference,element:m.element,position:{x:m.position_x,y:m.position_y}})},_execute:function(e){return!(!(e=m.items[e])||e._disabled&&(!g.isFunction(e._disabled)||e._disabled({item:e,reference:m.reference,element:m.element}))||!e.action)&&e.action.call(null,{item:e,reference:m.reference,element:m.element,position:{x:m.position_x,y:m.position_y}})},_parse:function(e,t){if(!e)return!1;t||(m.html="",m.items=[]);var n,i="",r=!1;return t&&(i+="<ul>"),g.each(e,function(e,t){if(!t)return!0;m.items.push(t),!r&&t.separator_before&&(i+="<li class='vakata-context-separator'><a href='#' "+(g.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),r=!1,i+="<li class='"+(t._class||"")+(!0===t._disabled||g.isFunction(t._disabled)&&t._disabled({item:t,reference:m.reference,element:m.element})?" vakata-contextmenu-disabled ":"")+"' "+(t.shortcut?" data-shortcut='"+t.shortcut+"' ":"")+">",i+="<a href='#' rel='"+(m.items.length-1)+"' "+(t.title?"title='"+t.title+"'":"")+">",g.vakata.context.settings.icons&&(i+="<i ",t.icon&&(-1!==t.icon.indexOf("/")||-1!==t.icon.indexOf(".")?i+=" style='background:url(\""+t.icon+"\") center center no-repeat' ":i+=" class='"+t.icon+"' "),i+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),i+=(g.isFunction(t.label)?t.label({item:e,reference:m.reference,element:m.element}):t.label)+(t.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+t.shortcut+'">'+(t.shortcut_label||"")+"</span>":"")+"</a>",t.submenu&&(n=g.vakata.context._parse(t.submenu,!0))&&(i+=n),i+="</li>",t.separator_after&&(i+="<li class='vakata-context-separator'><a href='#' "+(g.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",r=!0)}),i=i.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),t&&(i+="</ul>"),t||(m.html=i,g.vakata.context._trigger("parse")),10<i.length&&i},_show_submenu:function(e){if((e=g(e)).length&&e.children("ul").length){var t=e.children("ul"),n=e.offset().left,i=n+e.outerWidth(),r=e.offset().top,s=t.width(),o=t.height(),a=g(window).width()+g(window).scrollLeft(),l=g(window).height()+g(window).scrollTop();_?e[i-(s+10+e.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):e[a<i+s&&a-i<n?"addClass":"removeClass"]("vakata-context-right"),l<r+o+10&&t.css("bottom","-1px"),e.hasClass("vakata-context-right")?n<s&&t.css("margin-right",n-s):a-i<s&&t.css("margin-left",a-i-s),t.show()}},show:function(e,t,n){var i,r,s,o,a,l,c,d;switch(m.element&&m.element.length&&m.element.width(""),!0){case!t&&!e:return!1;case!!t&&!!e:m.reference=e,m.position_x=t.x,m.position_y=t.y;break;case!t&&!!e:i=(m.reference=e).offset(),m.position_x=i.left+e.outerHeight(),m.position_y=i.top;break;case!!t&&!e:m.position_x=t.x,m.position_y=t.y}e&&!n&&g(e).data("vakata_contextmenu")&&(n=g(e).data("vakata_contextmenu")),g.vakata.context._parse(n)&&m.element.html(m.html),m.items.length&&(m.element.appendTo("body"),r=m.element,s=m.position_x,o=m.position_y,a=r.width(),l=r.height(),c=g(window).width()+g(window).scrollLeft(),d=g(window).height()+g(window).scrollTop(),_&&(s-=r.outerWidth()-g(e).outerWidth())<g(window).scrollLeft()+20&&(s=g(window).scrollLeft()+20),c<s+a+20&&(s=c-(a+20)),d<o+l+20&&(o=d-(l+20)),m.element.css({left:s,top:o}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),m.is_visible=!0,g.vakata.context._trigger("show"))},hide:function(){m.is_visible&&(m.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),m.is_visible=!1,g.vakata.context._trigger("hide"))}},g(function(){_="rtl"===g("body").css("direction");var t=!1;m.element=g("<ul class='vakata-context'></ul>"),m.element.on("mouseenter","li",function(e){e.stopImmediatePropagation(),g.contains(this,e.relatedTarget)||(t&&clearTimeout(t),m.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),g(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),g.vakata.context._show_submenu(this))}).on("mouseleave","li",function(e){g.contains(this,e.relatedTarget)||g(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(e){g(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),g.vakata.context.settings.hide_onmouseleave&&(t=setTimeout(function(){g.vakata.context.hide()},g.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(e){e.preventDefault(),g(this).blur().parent().hasClass("vakata-context-disabled")||!1===g.vakata.context._execute(g(this).attr("rel"))||g.vakata.context.hide()}).on("keydown","a",function(e){var t=null;switch(e.which){case 13:case 32:e.type="click",e.preventDefault(),g(e.currentTarget).trigger(e);break;case 37:m.is_visible&&(m.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),e.stopImmediatePropagation(),e.preventDefault());break;case 38:m.is_visible&&((t=m.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(t=m.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),t.addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault());break;case 39:m.is_visible&&(m.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault());break;case 40:m.is_visible&&((t=m.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(t=m.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),t.addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault());break;case 27:g.vakata.context.hide(),e.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=m.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()}),g(b).on("mousedown.vakata.jstree",function(e){m.is_visible&&m.element[0]!==e.target&&!g.contains(m.element[0],e.target)&&g.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,t){m.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),_&&m.element.addClass("vakata-context-rtl").css("direction","rtl"),m.element.find("ul").hide().end()})}),O.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1},O.jstree.plugins.dnd=function(e,a){this.init=function(e,t){a.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in b.createElement("span")},this.bind=function(){a.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",O.proxy(function(e){if(this.settings.dnd.large_drag_target&&O(e.target).closest(".jstree-node")[0]!==e.currentTarget)return!0;if("touchstart"===e.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!O(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var t=this.get_node(e.target),n=this.is_selected(t)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,i=1<n?n+" "+this.get_string("nodes"):this.get_text(e.currentTarget);if(this.settings.core.force_text&&(i=O.vakata.html.escape(i)),t&&t.id&&t.id!==O.jstree.root&&(1===e.which||"touchstart"===e.type||"dragstart"===e.type)&&(!0===this.settings.dnd.is_draggable||O.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,1<n?this.get_top_selected(!0):[t],e))){if(l={jstree:!0,origin:this,obj:this.get_node(t,!0),nodes:1<n?this.get_top_selected():[t.id]},c=e.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),O.vakata.dnd.start(e,l,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+i+'<ins class="jstree-copy" style="display:none;">+</ins></div>');O.vakata.dnd._trigger("start",e,{helper:O(),element:c,data:l})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(e){return e.preventDefault(),O.vakata.dnd._trigger("move",e,{helper:O(),element:c,data:l}),!1}).on("drop.jstree",O.proxy(function(e){return e.preventDefault(),O.vakata.dnd._trigger("stop",e,{helper:O(),element:c,data:l}),!1},this))},this.redraw_node=function(e,t,n,i){if((e=a.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var r,s,o=null;for(r=0,s=e.childNodes.length;r<s;r++)if(e.childNodes[r]&&e.childNodes[r].className&&-1!==e.childNodes[r].className.indexOf("jstree-anchor")){o=e.childNodes[r];break}o&&o.setAttribute("draggable",!0)}return e}},O(function(){var E=!1,C=!1,T=!1,S=!1,A=O('<div id="jstree-marker">&#160;</div>').hide();O(b).on("dnd_start.vakata.jstree",function(e,t){T=E=!1,t&&t.data&&t.data.jstree&&A.appendTo("body")}).on("dnd_move.vakata.jstree",function(e,r){var s=r.event.target!==T.target;if(S&&(r.event&&"dragover"===r.event.type&&!s||clearTimeout(S)),r&&r.data&&r.data.jstree&&(!r.event.target.id||"jstree-marker"!==r.event.target.id)){T=r.event;var o,a,l,c,d,h,u,f,p,g,_,m,v,y,b,w,k=O.jstree.reference(r.event.target),j=!1,x=!1,t=!1;if(k&&k._data&&k._data.dnd)if(A.attr("class","jstree-"+k.get_theme()+(k.settings.core.themes.responsive?" jstree-dnd-responsive":"")),b=r.data.origin&&(r.data.origin.settings.dnd.always_copy||r.data.origin.settings.dnd.copy&&(r.event.metaKey||r.event.ctrlKey)),r.helper.children().attr("class","jstree-"+k.get_theme()+" jstree-"+k.get_theme()+"-"+k.get_theme_variant()+" "+(k.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[b?"show":"hide"](),r.event.target!==k.element[0]&&r.event.target!==k.get_container_ul()[0]||0!==k.get_container_ul().children().length){if((j=k.settings.dnd.large_drop_target?O(r.event.target).closest(".jstree-node").children(".jstree-anchor"):O(r.event.target).closest(".jstree-anchor"))&&j.length&&j.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(x=j.offset(),t=(r.event.pageY!==D?r.event.pageY:r.event.originalEvent.pageY)-x.top,l=j.outerHeight(),h=t<l/3?["b","i","a"]:l-l/3<t?["a","i","b"]:l/2<t?["i","a","b"]:["i","b","a"],O.each(h,function(e,t){switch(t){case"b":o=x.left-6,a=x.top,c=k.get_parent(j),d=j.parent().index();break;case"i":v=k.settings.dnd.inside_pos,y=k.get_node(j.parent()),o=x.left-2,a=x.top+l/2+1,c=y.id,d="first"===v?0:"last"===v?y.children.length:Math.min(v,y.children.length);break;case"a":o=x.left-6,a=x.top+l,c=k.get_parent(j),d=j.parent().index()+1}for(u=!0,f=0,p=r.data.nodes.length;f<p;f++)if(g=r.data.origin&&(r.data.origin.settings.dnd.always_copy||r.data.origin.settings.dnd.copy&&(r.event.metaKey||r.event.ctrlKey))?"copy_node":"move_node",_=d,"move_node"===g&&"a"===t&&r.data.origin&&r.data.origin===k&&c===k.get_parent(r.data.nodes[f])&&(m=k.get_node(c),_>O.inArray(r.data.nodes[f],m.children)&&(_-=1)),!(u=u&&(k&&k.settings&&k.settings.dnd&&!1===k.settings.dnd.check_while_dragging||k.check(g,r.data.origin&&r.data.origin!==k?r.data.origin.get_node(r.data.nodes[f]):r.data.nodes[f],c,_,{dnd:!0,ref:k.get_node(j.parent()),pos:t,origin:r.data.origin,is_multi:r.data.origin&&r.data.origin!==k,is_foreign:!r.data.origin})))){k&&k.last_error&&(C=k.last_error());break}var n,i;if("i"===t&&j.parent().is(".jstree-closed")&&k.settings.dnd.open_timeout&&(r.event&&"dragover"===r.event.type&&!s||(S&&clearTimeout(S),S=setTimeout((n=k,i=j,function(){n.open_node(i)}),k.settings.dnd.open_timeout))),u)return(w=k.get_node(c,!0)).hasClass(".jstree-dnd-parent")||(O(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),w.addClass("jstree-dnd-parent")),E={ins:k,par:c,pos:"i"!==t||"last"!==v||0!==d||k.is_loaded(y)?d:"last"},A.css({left:o+"px",top:a+"px"}).show(),r.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),r.event.originalEvent&&r.event.originalEvent.dataTransfer&&(r.event.originalEvent.dataTransfer.dropEffect=b?"copy":"move"),C={},!(h=!0)}),!0===h))return}else{for(u=!0,f=0,p=r.data.nodes.length;f<p&&(u=u&&k.check(r.data.origin&&(r.data.origin.settings.dnd.always_copy||r.data.origin.settings.dnd.copy&&(r.event.metaKey||r.event.ctrlKey))?"copy_node":"move_node",r.data.origin&&r.data.origin!==k?r.data.origin.get_node(r.data.nodes[f]):r.data.nodes[f],O.jstree.root,"last",{dnd:!0,ref:k.get_node(O.jstree.root),pos:"i",origin:r.data.origin,is_multi:r.data.origin&&r.data.origin!==k,is_foreign:!r.data.origin}));f++);if(u)return E={ins:k,par:O.jstree.root,pos:"last"},A.hide(),r.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(r.event.originalEvent&&r.event.originalEvent.dataTransfer&&(r.event.originalEvent.dataTransfer.dropEffect=b?"copy":"move"))}O(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),E=!1,r.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),r.event.originalEvent&&r.event.originalEvent.dataTransfer&&(r.event.originalEvent.dataTransfer.dropEffect="none"),A.hide()}}).on("dnd_scroll.vakata.jstree",function(e,t){t&&t.data&&t.data.jstree&&(A.hide(),T=E=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(e,t){if(O(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),S&&clearTimeout(S),t&&t.data&&t.data.jstree){A.hide().detach();var n,i,r=[];if(E){for(n=0,i=t.data.nodes.length;n<i;n++)r[n]=t.data.origin?t.data.origin.get_node(t.data.nodes[n]):t.data.nodes[n];E.ins[t.data.origin&&(t.data.origin.settings.dnd.always_copy||t.data.origin.settings.dnd.copy&&(t.event.metaKey||t.event.ctrlKey))?"copy_node":"move_node"](r,E.par,E.pos,!1,!1,!1,t.data.origin)}else(n=O(t.event.target).closest(".jstree")).length&&C&&C.error&&"check"===C.error&&(n=n.jstree(!0))&&n.settings.core.error.call(this,C);E=T=!1}}).on("keyup.jstree keydown.jstree",function(e,t){(t=O.vakata.dnd._get())&&t.data&&t.data.jstree&&("keyup"===e.type&&27===e.which?(S&&clearTimeout(S),S=T=C=E=!1,A.hide().detach(),O.vakata.dnd._clean()):(t.helper.find(".jstree-copy").first()[t.data.origin&&(t.data.origin.settings.dnd.always_copy||t.data.origin.settings.dnd.copy&&(e.metaKey||e.ctrlKey))?"show":"hide"](),T&&(T.metaKey=e.metaKey,T.ctrlKey=e.ctrlKey,O.vakata.dnd._trigger("move",T))))})}),p={element:!((f=O).vakata.html={div:f("<div />"),escape:function(e){return f.vakata.html.div.text(e).html()},strip:function(e){return f.vakata.html.div.empty().append(f.parseHTML(e)).text()}}),target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},f.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(e,t,n){n===D&&(n=f.vakata.dnd._get()),n.event=t,f(b).triggerHandler("dnd_"+e+".vakata",n)},_get:function(){return{data:p.data,element:p.element,helper:p.helper}},_clean:function(){p.helper&&p.helper.remove(),p.scroll_i&&(clearInterval(p.scroll_i),p.scroll_i=!1),p={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},f(b).off("mousemove.vakata.jstree touchmove.vakata.jstree",f.vakata.dnd.drag),f(b).off("mouseup.vakata.jstree touchend.vakata.jstree",f.vakata.dnd.stop)},_scroll:function(e){if(!p.scroll_e||!p.scroll_l&&!p.scroll_t)return p.scroll_i&&(clearInterval(p.scroll_i),p.scroll_i=!1),!1;if(!p.scroll_i)return p.scroll_i=setInterval(f.vakata.dnd._scroll,100),!1;if(!0===e)return!1;var t=p.scroll_e.scrollTop(),n=p.scroll_e.scrollLeft();p.scroll_e.scrollTop(t+p.scroll_t*f.vakata.dnd.settings.scroll_speed),p.scroll_e.scrollLeft(n+p.scroll_l*f.vakata.dnd.settings.scroll_speed),t===p.scroll_e.scrollTop()&&n===p.scroll_e.scrollLeft()||f.vakata.dnd._trigger("scroll",p.scroll_e)},start:function(e,t,n){"touchstart"===e.type&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e.target=b.elementFromPoint(e.originalEvent.changedTouches[0].pageX-window.pageXOffset,e.originalEvent.changedTouches[0].pageY-window.pageYOffset)),p.is_drag&&f.vakata.dnd.stop({});try{e.currentTarget.unselectable="on",e.currentTarget.onselectstart=function(){return!1},e.currentTarget.style&&(e.currentTarget.style.touchAction="none",e.currentTarget.style.msTouchAction="none",e.currentTarget.style.MozUserSelect="none")}catch(e){}return p.init_x=e.pageX,p.init_y=e.pageY,p.data=t,p.is_down=!0,p.element=e.currentTarget,p.target=e.target,p.is_touch="touchstart"===e.type,!1!==n&&(p.helper=f("<div id='vakata-dnd'></div>").html(n).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),f(b).on("mousemove.vakata.jstree touchmove.vakata.jstree",f.vakata.dnd.drag),f(b).on("mouseup.vakata.jstree touchend.vakata.jstree",f.vakata.dnd.stop),!1},drag:function(n){if("touchmove"===n.type&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(n.pageX=n.originalEvent.changedTouches[0].pageX,n.pageY=n.originalEvent.changedTouches[0].pageY,n.target=b.elementFromPoint(n.originalEvent.changedTouches[0].pageX-window.pageXOffset,n.originalEvent.changedTouches[0].pageY-window.pageYOffset)),p.is_down){if(!p.is_drag){if(!(Math.abs(n.pageX-p.init_x)>(p.is_touch?f.vakata.dnd.settings.threshold_touch:f.vakata.dnd.settings.threshold)||Math.abs(n.pageY-p.init_y)>(p.is_touch?f.vakata.dnd.settings.threshold_touch:f.vakata.dnd.settings.threshold)))return;p.helper&&(p.helper.appendTo("body"),p.helper_w=p.helper.outerWidth()),p.is_drag=!0,f(p.target).one("click.vakata",!1),f.vakata.dnd._trigger("start",n)}var e=!1,t=!1,i=!1,r=!1,s=!1,o=!1,a=!1,l=!1,c=!1,d=!1;return p.scroll_t=0,p.scroll_l=0,p.scroll_e=!1,f(f(n.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(f(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var e=f(this),t=e.offset();if(this.scrollHeight>this.offsetHeight&&(t.top+e.height()-n.pageY<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_t=1),n.pageY-t.top<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(t.left+e.width()-n.pageX<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_l=1),n.pageX-t.left<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_l=-1)),p.scroll_t||p.scroll_l)return p.scroll_e=f(this),!1}),p.scroll_e||(e=f(b),t=f(window),i=e.height(),r=t.height(),s=e.width(),o=t.width(),a=e.scrollTop(),l=e.scrollLeft(),r<i&&n.pageY-a<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_t=-1),r<i&&r-(n.pageY-a)<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_t=1),o<s&&n.pageX-l<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_l=-1),o<s&&o-(n.pageX-l)<f.vakata.dnd.settings.scroll_proximity&&(p.scroll_l=1),(p.scroll_t||p.scroll_l)&&(p.scroll_e=e)),p.scroll_e&&f.vakata.dnd._scroll(!0),p.helper&&(c=parseInt(n.pageY+f.vakata.dnd.settings.helper_top,10),d=parseInt(n.pageX+f.vakata.dnd.settings.helper_left,10),i&&i<c+25&&(c=i-50),s&&d+p.helper_w>s&&(d=s-(p.helper_w+2)),p.helper.css({left:d+"px",top:c+"px"})),f.vakata.dnd._trigger("move",n),!1}},stop:function(e){if("touchend"===e.type&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e.target=b.elementFromPoint(e.originalEvent.changedTouches[0].pageX-window.pageXOffset,e.originalEvent.changedTouches[0].pageY-window.pageYOffset)),p.is_drag)e.target!==p.target&&f(p.target).off("click.vakata"),f.vakata.dnd._trigger("stop",e);else if("touchend"===e.type&&e.target===p.target){var t=setTimeout(function(){f(e.target).click()},100);f(e.target).one("click",function(){t&&clearTimeout(t)})}return f.vakata.dnd._clean(),!1}},O.jstree.defaults.massload=null,O.jstree.plugins.massload=function(e,d){this.init=function(e,t){this._data.massload={},d.init.call(this,e,t)},this._load_nodes=function(s,o,a,l){var e,t,c,n=this.settings.massload,i=(JSON.stringify(s),[]),r=this._model.data;if(!a){for(e=0,t=s.length;e<t;e++)r[s[e]]&&(r[s[e]].state.loaded||r[s[e]].state.failed)&&!l||(i.push(s[e]),(c=this.get_node(s[e],!0))&&c.length&&c.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},i.length){if(O.isFunction(n))return n.call(this,i,O.proxy(function(e){var t,n;if(e)for(t in e)e.hasOwnProperty(t)&&(this._data.massload[t]=e[t]);for(t=0,n=s.length;t<n;t++)(c=this.get_node(s[t],!0))&&c.length&&c.removeClass("jstree-loading").attr("aria-busy",!1);d._load_nodes.call(this,s,o,a,l)},this));if("object"==typeof n&&n&&n.url)return n=O.extend(!0,{},n),O.isFunction(n.url)&&(n.url=n.url.call(this,i)),O.isFunction(n.data)&&(n.data=n.data.call(this,i)),O.ajax(n).done(O.proxy(function(e,t,n){var i,r;if(e)for(i in e)e.hasOwnProperty(i)&&(this._data.massload[i]=e[i]);for(i=0,r=s.length;i<r;i++)(c=this.get_node(s[i],!0))&&c.length&&c.removeClass("jstree-loading").attr("aria-busy",!1);d._load_nodes.call(this,s,o,a,l)},this)).fail(O.proxy(function(e){d._load_nodes.call(this,s,o,a,l)},this))}}return d._load_nodes.call(this,s,o,a,l)},this._load_node=function(e,t){var n,i=this._data.massload[e.id],r=null;return i?(r=this["string"==typeof i?"_append_html_data":"_append_json_data"](e,"string"==typeof i?O(O.parseHTML(i)).filter(function(){return 3!==this.nodeType}):i,function(e){t.call(this,e)}),(n=this.get_node(e.id,!0))&&n.length&&n.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[e.id],r):d._load_node.call(this,e,t)}},O.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},O.jstree.plugins.search=function(e,a){this.bind=function(){a.bind.call(this),this._data.search.str="",this._data.search.dom=O(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",O.proxy(function(e,t){if(this._data.search.som&&t.res.length){var n,i,r,s,o=this._model.data,a=[];for(n=0,i=t.res.length;n<i;n++)if(o[t.res[n]]&&!o[t.res[n]].state.hidden&&(a.push(t.res[n]),a=a.concat(o[t.res[n]].parents),this._data.search.smc))for(r=0,s=o[t.res[n]].children_d.length;r<s;r++)o[o[t.res[n]].children_d[r]]&&!o[o[t.res[n]].children_d[r]].state.hidden&&a.push(o[t.res[n]].children_d[r]);a=O.vakata.array_remove_item(O.vakata.array_unique(a),O.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(a,!0),this.redraw(!0)}},this)).on("clear_search.jstree",O.proxy(function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(i,e,t,n,r,s){if(!1===i||""===O.trim(i.toString()))return this.clear_search();n=(n=this.get_node(n))&&n.id?n.id:null,i=i.toString();var o,a,l=this.settings.search,c=!!l.ajax&&l.ajax,d=this._model.data,h=null,u=[],f=[];if(this._data.search.res.length&&!r&&this.clear_search(),t===D&&(t=l.show_only_matches),s===D&&(s=l.show_only_matches_children),!e&&!1!==c)return O.isFunction(c)?c.call(this,i,O.proxy(function(e){e&&e.d&&(e=e.d),this._load_nodes(O.isArray(e)?O.vakata.array_unique(e):[],function(){this.search(i,!0,t,n,r,s)})},this),n):((c=O.extend({},c)).data||(c.data={}),c.data.str=i,n&&(c.data.inside=n),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=O.ajax(c).fail(O.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(c)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(O.proxy(function(e){e&&e.d&&(e=e.d),this._load_nodes(O.isArray(e)?O.vakata.array_unique(e):[],function(){this.search(i,!0,t,n,r,s)})},this)),this._data.search.lastRequest);if(r||(this._data.search.str=i,this._data.search.dom=O(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=t,this._data.search.smc=s),h=new O.vakata.search(i,!0,{caseSensitive:l.case_sensitive,fuzzy:l.fuzzy}),O.each(d[n||O.jstree.root].children_d,function(e,t){var n=d[t];n.text&&!n.state.hidden&&(!l.search_leaves_only||n.state.loaded&&0===n.children.length)&&(l.search_callback&&l.search_callback.call(this,i,n)||!l.search_callback&&h.search(n.text).isMatch)&&(u.push(t),f=f.concat(n.parents))}),u.length){for(o=0,a=(f=O.vakata.array_unique(f)).length;o<a;o++)f[o]!==O.jstree.root&&d[f[o]]&&!0===this.open_node(f[o],null,0)&&this._data.search.opn.push(f[o]);this._data.search.res=r?(this._data.search.dom=this._data.search.dom.add(O(this.element[0].querySelectorAll("#"+O.map(u,function(e){return-1!=="0123456789".indexOf(e[0])?"\\3"+e[0]+" "+e.substr(1).replace(O.jstree.idregex,"\\$&"):e.replace(O.jstree.idregex,"\\$&")}).join(", #")))),O.vakata.array_unique(this._data.search.res.concat(u))):(this._data.search.dom=O(this.element[0].querySelectorAll("#"+O.map(u,function(e){return-1!=="0123456789".indexOf(e[0])?"\\3"+e[0]+" "+e.substr(1).replace(O.jstree.idregex,"\\$&"):e.replace(O.jstree.idregex,"\\$&")}).join(", #"))),u),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:i,res:this._data.search.res,show_only_matches:t})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=O(this.element[0].querySelectorAll("#"+O.map(this._data.search.res,function(e){return-1!=="0123456789".indexOf(e[0])?"\\3"+e[0]+" "+e.substr(1).replace(O.jstree.idregex,"\\$&"):e.replace(O.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=O()},this.redraw_node=function(e,t,n,i){if((e=a.redraw_node.apply(this,arguments))&&-1!==O.inArray(e.id,this._data.search.res)){var r,s,o=null;for(r=0,s=e.childNodes.length;r<s;r++)if(e.childNodes[r]&&e.childNodes[r].className&&-1!==e.childNodes[r].className.indexOf("jstree-anchor")){o=e.childNodes[r];break}o&&(o.className+=" jstree-search")}return e}},(n=O).vakata.search=function(_,e,m){m=m||{},!1!==(m=n.extend({},n.vakata.search.defaults,m)).fuzzy&&(m.fuzzy=!0),_=m.caseSensitive?_:_.toLowerCase();var v,y,b,t,w=m.location,r=m.distance,k=m.threshold,j=_.length;return 32<j&&(m.fuzzy=!1),m.fuzzy&&(v=1<<j-1,y=function(){var e={},t=0;for(t=0;t<j;t++)e[_.charAt(t)]=0;for(t=0;t<j;t++)e[_.charAt(t)]|=1<<j-t-1;return e}(),b=function(e,t){var n=e/j,i=Math.abs(w-t);return r?n+i/r:i?1:n}),t=function(e){if(e=m.caseSensitive?e:e.toLowerCase(),_===e||-1!==e.indexOf(_))return{isMatch:!0,score:0};if(!m.fuzzy)return{isMatch:!1,score:1};var t,n,i,r,s,o,a,l,c,d=e.length,h=k,u=e.indexOf(_,w),f=j+d,p=1,g=[];for(-1!==u&&(h=Math.min(b(0,u),h),-1!==(u=e.lastIndexOf(_,w+j))&&(h=Math.min(b(0,u),h))),u=-1,t=0;t<j;t++){for(i=0,r=f;i<r;)b(t,w+r)<=h?i=r:f=r,r=Math.floor((f-i)/2+i);for(f=r,o=Math.max(1,w-r+1),a=Math.min(w+r,d)+j,(l=new Array(a+2))[a+1]=(1<<t)-1,n=a;o<=n;n--)if(c=y[e.charAt(n-1)],l[n]=0===t?(l[n+1]<<1|1)&c:(l[n+1]<<1|1)&c|(s[n+1]|s[n])<<1|1|s[n+1],l[n]&v&&(p=b(t,n-1))<=h){if(h=p,u=n-1,g.push(u),!(w<u))break;o=Math.max(1,2*w-u)}if(b(t+1,w)>h)break;s=l}return{isMatch:0<=u,score:p}},!0===e?{search:t}:t(e)},n.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1},O.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1};var h=!(O.jstree.plugins.sort=function(e,t){this.bind=function(){t.bind.call(this),this.element.on("model.jstree",O.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",O.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",O.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(e,t){var n,i;if((e=this.get_node(e))&&e.children&&e.children.length&&(e.children.sort(O.proxy(this.settings.sort,this)),t))for(n=0,i=e.children_d.length;n<i;n++)this.sort(e.children_d[n],!1)}});O.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},O.jstree.plugins.state=function(e,t){this.bind=function(){t.bind.call(this);var n=O.proxy(function(){this.element.on(this.settings.state.events,O.proxy(function(){h&&clearTimeout(h),h=setTimeout(O.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",O.proxy(function(e,t){this.element.one("restore_state.jstree",n),this.restore_state()||n()},this))},this.save_state=function(){var e=this.get_state();this.settings.state.preserve_loaded||delete e.core.loaded;var t={state:e,ttl:this.settings.state.ttl,sec:+new Date};O.vakata.storage.set(this.settings.state.key,JSON.stringify(t))},this.restore_state=function(){var n=O.vakata.storage.get(this.settings.state.key);if(n)try{n=JSON.parse(n)}catch(e){return!1}return!(n&&n.ttl&&n.sec&&+new Date-n.sec>n.ttl||(n&&n.state&&(n=n.state),n&&O.isFunction(this.settings.state.filter)&&(n=this.settings.state.filter.call(this,n)),!n||(this.settings.state.preserve_loaded||delete n.core.loaded,this.element.one("set_state.jstree",function(e,t){t.instance.trigger("restore_state",{state:O.extend(!0,{},n)})}),this.set_state(n),0)))},this.clear_state=function(){return O.vakata.storage.del(this.settings.state.key)}},O.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}},O.jstree.defaults.types={default:{}},O.jstree.defaults.types[O.jstree.root]={},O.jstree.plugins.types=function(e,d){this.init=function(e,t){var n,i;if(t&&t.types&&t.types.default)for(n in t.types)if("default"!==n&&n!==O.jstree.root&&t.types.hasOwnProperty(n))for(i in t.types.default)t.types.default.hasOwnProperty(i)&&t.types[n][i]===D&&(t.types[n][i]=t.types.default[i]);d.init.call(this,e,t),this._model.data[O.jstree.root].type=O.jstree.root},this.refresh=function(e,t){d.refresh.call(this,e,t),this._model.data[O.jstree.root].type=O.jstree.root},this.bind=function(){this.element.on("model.jstree",O.proxy(function(e,t){var n,i,r,s=this._model.data,o=t.nodes,a=this.settings.types,l="default";for(n=0,i=o.length;n<i;n++){if(l="default",s[o[n]].original&&s[o[n]].original.type&&a[s[o[n]].original.type]&&(l=s[o[n]].original.type),s[o[n]].data&&s[o[n]].data.jstree&&s[o[n]].data.jstree.type&&a[s[o[n]].data.jstree.type]&&(l=s[o[n]].data.jstree.type),s[o[n]].type=l,!0===s[o[n]].icon&&a[l].icon!==D&&(s[o[n]].icon=a[l].icon),a[l].li_attr!==D&&"object"==typeof a[l].li_attr)for(r in a[l].li_attr)if(a[l].li_attr.hasOwnProperty(r)){if("id"===r)continue;s[o[n]].li_attr[r]===D?s[o[n]].li_attr[r]=a[l].li_attr[r]:"class"===r&&(s[o[n]].li_attr.class=a[l].li_attr.class+" "+s[o[n]].li_attr.class)}if(a[l].a_attr!==D&&"object"==typeof a[l].a_attr)for(r in a[l].a_attr)if(a[l].a_attr.hasOwnProperty(r)){if("id"===r)continue;s[o[n]].a_attr[r]===D?s[o[n]].a_attr[r]=a[l].a_attr[r]:"href"===r&&"#"===s[o[n]].a_attr[r]?s[o[n]].a_attr.href=a[l].a_attr.href:"class"===r&&(s[o[n]].a_attr.class=a[l].a_attr.class+" "+s[o[n]].a_attr.class)}}s[O.jstree.root].type=O.jstree.root},this)),d.bind.call(this)},this.get_json=function(e,t,n){var i,r,s=this._model.data,o=t?O.extend(!0,{},t,{no_id:!1}):{},a=d.get_json.call(this,e,o,n);if(!1===a)return!1;if(O.isArray(a))for(i=0,r=a.length;i<r;i++)a[i].type=a[i].id&&s[a[i].id]&&s[a[i].id].type?s[a[i].id].type:"default",t&&t.no_id&&(delete a[i].id,a[i].li_attr&&a[i].li_attr.id&&delete a[i].li_attr.id,a[i].a_attr&&a[i].a_attr.id&&delete a[i].a_attr.id);else a.type=a.id&&s[a.id]&&s[a.id].type?s[a.id].type:"default",t&&t.no_id&&(a=this._delete_ids(a));return a},this._delete_ids=function(e){if(O.isArray(e)){for(var t=0,n=e.length;t<n;t++)e[t]=this._delete_ids(e[t]);return e}return delete e.id,e.li_attr&&e.li_attr.id&&delete e.li_attr.id,e.a_attr&&e.a_attr.id&&delete e.a_attr.id,e.children&&O.isArray(e.children)&&(e.children=this._delete_ids(e.children)),e},this.check=function(e,t,n,i,r){if(!1===d.check.call(this,e,t,n,i,r))return!1;t=t&&t.id?t:this.get_node(t),n=n&&n.id?n:this.get_node(n);var s,o,a,l,c=t&&t.id?r&&r.origin?r.origin:O.jstree.reference(t.id):null;switch(c=c&&c._model&&c._model.data?c._model.data:null,e){case"create_node":case"move_node":case"copy_node":if("move_node"!==e||-1===O.inArray(t.id,n.children)){if((s=this.get_rules(n)).max_children!==D&&-1!==s.max_children&&s.max_children===n.children.length)return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+e,data:JSON.stringify({chk:e,pos:i,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})});if(s.valid_children!==D&&-1!==s.valid_children&&-1===O.inArray(t.type||"default",s.valid_children))return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+e,data:JSON.stringify({chk:e,pos:i,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})});if(c&&t.children_d&&t.parents){for(a=o=0,l=t.children_d.length;a<l;a++)o=Math.max(o,c[t.children_d[a]].parents.length);o=o-t.parents.length+1}(o<=0||o===D)&&(o=1);do{if(s.max_depth!==D&&-1!==s.max_depth&&s.max_depth<o)return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+e,data:JSON.stringify({chk:e,pos:i,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})});n=this.get_node(n.parent),s=this.get_rules(n),o++}while(n)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;var t=this.get_type(e,!0);return t.max_depth===D&&(t.max_depth=-1),t.max_children===D&&(t.max_children=-1),t.valid_children===D&&(t.valid_children=-1),t},this.get_type=function(e,t){return!!(e=this.get_node(e))&&(t?O.extend({type:e.type},this.settings.types[e.type]):e.type)},this.set_type=function(e,t){var n,i,r,s,o,a,l,c,d=this._model.data;if(O.isArray(e)){for(i=0,r=(e=e.slice()).length;i<r;i++)this.set_type(e[i],t);return!0}if(n=this.settings.types,e=this.get_node(e),!n[t]||!e)return!1;if((l=this.get_node(e,!0))&&l.length&&(c=l.children(".jstree-anchor")),s=e.type,o=this.get_icon(e),e.type=t,(!0===o||!n[s]||n[s].icon!==D&&o===n[s].icon)&&this.set_icon(e,n[t].icon===D||n[t].icon),n[s]&&n[s].li_attr!==D&&"object"==typeof n[s].li_attr)for(a in n[s].li_attr)if(n[s].li_attr.hasOwnProperty(a)){if("id"===a)continue;"class"===a?(d[e.id].li_attr.class=(d[e.id].li_attr.class||"").replace(n[s].li_attr[a],""),l&&l.removeClass(n[s].li_attr[a])):d[e.id].li_attr[a]===n[s].li_attr[a]&&(d[e.id].li_attr[a]=null,l&&l.removeAttr(a))}if(n[s]&&n[s].a_attr!==D&&"object"==typeof n[s].a_attr)for(a in n[s].a_attr)if(n[s].a_attr.hasOwnProperty(a)){if("id"===a)continue;"class"===a?(d[e.id].a_attr.class=(d[e.id].a_attr.class||"").replace(n[s].a_attr[a],""),c&&c.removeClass(n[s].a_attr[a])):d[e.id].a_attr[a]===n[s].a_attr[a]&&("href"===a?(d[e.id].a_attr[a]="#",c&&c.attr("href","#")):(delete d[e.id].a_attr[a],c&&c.removeAttr(a)))}if(n[t].li_attr!==D&&"object"==typeof n[t].li_attr)for(a in n[t].li_attr)if(n[t].li_attr.hasOwnProperty(a)){if("id"===a)continue;d[e.id].li_attr[a]===D?(d[e.id].li_attr[a]=n[t].li_attr[a],l&&("class"===a?l.addClass(n[t].li_attr[a]):l.attr(a,n[t].li_attr[a]))):"class"===a&&(d[e.id].li_attr.class=n[t].li_attr[a]+" "+d[e.id].li_attr.class,l&&l.addClass(n[t].li_attr[a]))}if(n[t].a_attr!==D&&"object"==typeof n[t].a_attr)for(a in n[t].a_attr)if(n[t].a_attr.hasOwnProperty(a)){if("id"===a)continue;d[e.id].a_attr[a]===D?(d[e.id].a_attr[a]=n[t].a_attr[a],c&&("class"===a?c.addClass(n[t].a_attr[a]):c.attr(a,n[t].a_attr[a]))):"href"===a&&"#"===d[e.id].a_attr[a]?(d[e.id].a_attr.href=n[t].a_attr.href,c&&c.attr("href",n[t].a_attr.href)):"class"===a&&(d[e.id].a_attr.class=n[t].a_attr.class+" "+d[e.id].a_attr.class,c&&c.addClass(n[t].a_attr[a]))}return!0}},O.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,t){return e+" ("+t+")"}},O.jstree.plugins.unique=function(e,g){this.check=function(e,t,n,i,r){if(!1===g.check.call(this,e,t,n,i,r))return!1;if(t=t&&t.id?t:this.get_node(t),!(n=n&&n.id?n:this.get_node(n))||!n.children)return!0;var s,o,a,l="rename_node"===e?i:t.text,c=[],d=this.settings.unique.case_sensitive,h=this.settings.unique.trim_whitespace,u=this._model.data;for(s=0,o=n.children.length;s<o;s++)a=u[n.children[s]].text,d||(a=a.toLowerCase()),h&&(a=a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),c.push(a);switch(d||(l=l.toLowerCase()),h&&(l=l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),e){case"delete_node":return!0;case"rename_node":return a=t.text||"",d||(a=a.toLowerCase()),h&&(a=a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(s=-1===O.inArray(l,c)||t.text&&a===l)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+l+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:i,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})}),s;case"create_node":return(s=-1===O.inArray(l,c))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+l+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:i,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})}),s;case"copy_node":return(s=-1===O.inArray(l,c))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+l+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:i,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})}),s;case"move_node":return(s=t.parent===n.id&&(!r||!r.is_multi)||-1===O.inArray(l,c))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+l+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:i,obj:!(!t||!t.id)&&t.id,par:!(!n||!n.id)&&n.id})}),s}return!0},this.create_node=function(e,t,n,i,r){if(!t||t.text===D){if(null===e&&(e=O.jstree.root),!(e=this.get_node(e)))return g.create_node.call(this,e,t,n,i,r);if(!(n=n===D?"last":n).toString().match(/^(before|after)$/)&&!r&&!this.is_loaded(e))return g.create_node.call(this,e,t,n,i,r);t||(t={});var s,o,a,l,c,d,h=this._model.data,u=this.settings.unique.case_sensitive,f=this.settings.unique.trim_whitespace,p=this.settings.unique.duplicate;for(o=s=this.get_string("New node"),a=[],l=0,c=e.children.length;l<c;l++)d=h[e.children[l]].text,u||(d=d.toLowerCase()),f&&(d=d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),a.push(d);for(l=1,d=o,u||(d=d.toLowerCase()),f&&(d=d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==O.inArray(d,a);)d=o=p.call(this,s,++l).toString(),u||(d=d.toLowerCase()),f&&(d=d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));t.text=o}return g.create_node.call(this,e,t,n,i,r)}};var u=b.createElement("DIV");if(u.setAttribute("unselectable","on"),u.setAttribute("role","presentation"),u.className="jstree-wholerow",u.innerHTML="&#160;",O.jstree.plugins.wholerow=function(e,s){this.bind=function(){s.bind.call(this),this.element.on("ready.jstree set_state.jstree",O.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",O.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",O.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",O.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var n,i,r=!1;for(n=0,i=t.selected.length;n<i;n++)(r=this.get_node(t.selected[n],!0))&&r.length&&r.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",O.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",O.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",O.proxy(function(e){if(this._data.contextmenu){e.preventDefault();var t=O.Event("contextmenu",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,pageX:e.pageX,pageY:e.pageY});O(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(t)}},this)).on("click.jstree",".jstree-wholerow",function(e){e.stopImmediatePropagation();var t=O.Event("click",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});O(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(t).focus()}).on("dblclick.jstree",".jstree-wholerow",function(e){e.stopImmediatePropagation();var t=O.Event("dblclick",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});O(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(t).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",O.proxy(function(e){e.stopImmediatePropagation();var t=O.Event("click",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});O(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(t).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",O.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",O.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),s.teardown.call(this)},this.redraw_node=function(e,t,n,i){if(e=s.redraw_node.apply(this,arguments)){var r=u.cloneNode(!0);-1!==O.inArray(e.id,this._data.core.selected)&&(r.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===e.id&&(r.className+=" jstree-wholerow-hovered"),e.insertBefore(r,e.childNodes[0])}return e}},b.registerElement&&Object&&Object.create){var t=Object.create(HTMLElement.prototype);t.createdCallback=function(){var e,t={core:{},plugins:[]};for(e in O.jstree.plugins)O.jstree.plugins.hasOwnProperty(e)&&this.attributes[e]&&(t.plugins.push(e),this.getAttribute(e)&&JSON.parse(this.getAttribute(e))&&(t[e]=JSON.parse(this.getAttribute(e))));for(e in O.jstree.defaults.core)O.jstree.defaults.core.hasOwnProperty(e)&&this.attributes[e]&&(t.core[e]=JSON.parse(this.getAttribute(e))||this.getAttribute(e));O(this).jstree(t)};try{b.registerElement("vakata-jstree",{prototype:t})}catch(O){}}}var n,f,p,g,_,m});